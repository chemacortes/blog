<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="author" content="Chema Cortés">
  <meta name="description" content="Instalación cx_Oracle para ia64 | Itanium, un sistema ¿obsoleto? Últimamente, algunos grandes de la informática como Microsoft, Oracle y RedHat han...">

  <link rel="stylesheet" type="text/css" href="https://chemacortes.github.io/theme/css/styles.425931e9.min.css">

  <script src="https://chemacortes.github.io/theme/js/scripts.7db5858b.min.js" type="text/javascript"></script>

  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">

  <link href="https://chemacortes.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Hyperreals *R Full Atom Feed" />

<meta name="keywords" content="functional programming, lambda calculus, math, programación, programming, howto, ia64, oracle, tip">

  <title>Instalación cx_Oracle para ia64 | Hyperreals *R</title>

</head>

<body>
  <aside>
    <div id="user_meta">
      <a href="https://chemacortes.github.io">
        <img src="https://s.gravatar.com/avatar/b20d114964d6d77c209aadbe9a152e87?s=80" id="logo">
      </a>
      <h2><a href="https://chemacortes.github.io" class="nohover">Hyperreals *R</a></h2>
      <p>Quarks, bits y otras criaturas infinitesimales</p>
      <div class="social">
          <a href="https://twitter.com/chemacortes" title="twitter" target="_blank" rel="noopener noreferrer"><i class="fa fa-twitter fa-lg"></i></a>
          <a href="https://github.com/chemacortes" title="github" target="_blank" rel="noopener noreferrer"><i class="fa fa-github fa-lg"></i></a>
          <a href="https://bitbucket.org/chemacortes/" title="bitbucket" target="_blank" rel="noopener noreferrer"><i class="fa fa-bitbucket fa-lg"></i></a>
          <a href="https://stackoverflow.com/users/1243400/chemacortes" title="stackoverflow" target="_blank" rel="noopener noreferrer"><i class="fa fa-stack-overflow fa-lg"></i></a>
          <a href="https://linkedin.com/in/chemacortes" title="linkedin" target="_blank" rel="noopener noreferrer"><i class="fa fa-linkedin fa-lg"></i></a>
      </div>
      <ul>
        <li><a href="/feeds/all.atom.xml" target="_blank" rel="noopener noreferrer">All Feeds<i class="fa fa-external-link-square fa-lg"></i></a></li>
        <li><a href="/feeds/scala.atom.xml" target="_blank" rel="noopener noreferrer">Scala Feeds<i class="fa fa-external-link-square fa-lg"></i></a></li>
        <li><a href="/feeds/python.atom.xml" target="_blank" rel="noopener noreferrer">Python Feeds<i class="fa fa-external-link-square fa-lg"></i></a></li>
        <li><a href="/feeds/notas.atom.xml" target="_blank" rel="noopener noreferrer">Notas Feeds<i class="fa fa-external-link-square fa-lg"></i></a></li>
        <li><a href="https://mathstodon.xyz/@chemacortes" target="_blank" rel="noopener noreferrer">Mastodon<i class="fa fa-external-link-square fa-lg"></i></a></li>
      </ul>
    </div>
  </aside>

  <main id="main">
    <header>
      <p id="header">
      <a href="https://chemacortes.github.io">Home</a>

      &#124; <a href="https://chemacortes.github.io/pages/aboutme/">Quién&nbsp;soy</a>
      &#124; <a href="https://chemacortes.github.io/pages/busqueda-python-es/">Búsqueda&nbsp;python-es</a>
      &#124; <a href="https://chemacortes.github.io/feeds/all.atom.xml">Atom Feed</a>
      </p>
<p>
<a href="https://chemacortes.github.io/index.html">Posts</a>
&#124; <a href="https://chemacortes.github.io/tag/">Tags</a>
&#124; <a href="https://chemacortes.github.io/category/">Categories</a>
&#124; <a href="https://chemacortes.github.io/archives.html">Archive</a>
</p>    </header>

<article>
<div class="article_meta">
  <p>Posted <time data-reltime datetime="2011-06-04T13:47:00+02:00">sáb 04 junio 2011</time>
   by Chema Cortés  </p>
  <p>
  Category: <a href="https://chemacortes.github.io/category/python/">Python</a>
&ndash;&ndash;  Tags:
    <a href="https://chemacortes.github.io/tag/howto/">howto</a>,    <a href="https://chemacortes.github.io/tag/ia64/">ia64</a>,    <a href="https://chemacortes.github.io/tag/oracle/">oracle</a>,    <a href="https://chemacortes.github.io/tag/tip/">tip</a>  </p>
</div>  <div class="article_title">
    <h1><a href="https://chemacortes.github.io/2011/06/04/instalacion-cx_oracle-para-ia64/" class="nohover">Instalación cx_Oracle para&nbsp;ia64</a></h1>
  </div>
  <div class="article_text">
    <h1>Itanium, un sistema&nbsp;¿obsoleto?</h1>
<p>Últimamente, algunos <em>grandes</em> de la informática como Microsoft, Oracle y RedHat han determinado que los sistemas Itanium han quedado obsoletos con lo que dejarán de darles soporte, aunque hace sólo unos pocos años estos sistemas de 64bits se ofertaban al mercado como el futuro de los sistemas servidores&nbsp;empresariales.</p>
<p>En este punto, me encuentro que tengo en mi trabajo algunos servidores Itanium <span class="caps">II</span> que, lejos de considerarlos obsoletos, me parecen perfectos para alojar en ellos algunos de los proyectos python desarrollados en plone o django. Con la reciente salida de la distribución Debian <em>&#8220;Squeeze&#8221;</em>, y con la ayuda de un alumno que vino a hacer sus prácticas con nosotros, me animé a sustituir el Linux RedHat que se había quedado sin mantenimiento por una la última versión <em>ia64</em> de debian. Esta versión es algo más limitada en paquetes que las versiones para arquitecturas i686 y amd64, pero con un poco de esfuerzo es posible completar la instalación compilando paquetes a partir de los fuentes. Y puedo afirmar que ha sido todo un éxito. Vuelvo a tener un sistema potente, completo y, sobre todo, mucho más&nbsp;libre.</p>
<p>La idea de este artículo es contar cómo instalar y configurar, en debian para itanium, del cliente de oracle y el conector <code>cx_Oracle</code> para&nbsp;python. </p>
<h1>Instalación cliente&nbsp;oracle</h1>
<p>Lo primero es descargar desde la <a href="http://www.oracle.com/technology/software/tech/oci/instantclient/htdocs/linuxsoft.html" title="Oracle Client Instant">web de oracle</a> del cliente. Para ello hay que descargar los siguiente paquetes para itanium, previo registro&nbsp;gratuito:</p>
<div class="highlight"><pre><span></span><code>basic-10.2.0.4.0-linux-ia64.zip
sdk-10.2.0.4.0-linux-ia64.zip
sqlplus-10.2.0.4.0-linux-ia64.zip

jdbc-10.2.0.4.0-linux-ia64.zip
odbc-10.2.0.4.0-linux-ia64.zip
</code></pre></div>

<p>Los dos últimos son opcionales, pero siempre pueden venir bien guardarlos por si hacen falta en el futuro con alguna aplicación (el conector jdbc nos vendrá bien para usarlo con&nbsp;jython).</p>
<p>Se decomprimen estos paquetes en el mismo directorio y obtendremos un único directorio&nbsp;llamado:</p>
<div class="highlight"><pre><span></span><code>instantclient_10_2
</code></pre></div>

<p>Movemos este directorio a un lugar adecuado, por ejemplo&nbsp;a:</p>
<div class="highlight"><pre><span></span><code>/opt/oracle/instantclient_10_2
</code></pre></div>

<p>No olvidar darle permisos adecuados, sobre todo si queremos que el servidor apache (<code>mod_wsgi</code>) pueda acceder a él (puedo asegurar que se pierde mucho tiempo hasta que averiguas este fallo tan&nbsp;tonto):</p>
<div class="highlight"><pre><span></span><code># chmod +rx /opt/oracle/instantclient_10_2/
</code></pre></div>

<p>Cuando pasemos a compilar <code>cx_Oracle</code>, veremos algunos fallos por no ser capaz de encontrar algunas librerías compatidas. Para evitarlo, debemos crear algunos&nbsp;enlaces:</p>
<div class="highlight"><pre><span></span><code># cd /opt/oracle
# ln -s libclntsh.so.10.1 libclntsh.so
# ln -s libclntsh.so.10.1 libclntsh.dylib
</code></pre></div>

<p>Ahora tenemos que actualizar las referencias a la libreras compartidas. Creamos el fichero <code>/etc/ld.so.conf.d/oracle.conf</code> con la siguiente&nbsp;línea:</p>
<div class="highlight"><pre><span></span><code>/opt/oracle/instantclient_10_2
</code></pre></div>

<p>Y&nbsp;actualizamos:</p>
<div class="highlight"><pre><span></span><code># ldconfig
</code></pre></div>

<p>Para comprobar que funciona bien, podemos probar la utilidad <code>sqlplus</code> a ver si conectamos. Esta utilidad viene dentro del&nbsp;directorio.</p>
<p>Para poder compilar el paquete <code>cx_Oracle</code> se necesita unas cuantas variables de entorno que meteremos en el <code>.profile</code>:</p>
<div class="highlight"><pre><span></span><code><span class="nb">export</span><span class="w"> </span><span class="nv">ORACLE_HOME</span><span class="o">=</span><span class="s2">&quot;/opt/oracle/instantclient_10_2&quot;</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">DYLD_LIBRARY_PATH</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$ORACLE_HOME</span><span class="s2">&quot;</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">SQLPATH</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$ORACLE_HOME</span><span class="s2">&quot;</span>

<span class="nb">export</span><span class="w"> </span><span class="nv">PATH</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$PATH</span><span class="s2">:</span><span class="nv">$ORACLE_HOME</span><span class="s2">&quot;</span>
</code></pre></div>

<p>Para instalar el paquete <code>cx_Oracle</code>, podemos instalar antes el paquete <code>python-pip</code> que nos ofrece la utilidad <code>pip</code> que nos hará más fácil la&nbsp;instalación:</p>
<div class="highlight"><pre><span></span><code># apt-get install python-pip
# pip install cx_Oracle
</code></pre></div>

<p>Con ésto se debería descargar, compilar e instalar <code>cx_Oracle</code>. Saldrán algunas advertencias que podemos ignorar. Si todo ha salido bien, podemos pasar a probar si podemos importar el&nbsp;módulo:</p>
<div class="highlight"><pre><span></span><code># python
Python 2.6.6 (r266:84292, Dec 27 2010, 21:05:55)
[GCC 4.4.5] on linux2
Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.
&gt;&gt;&gt; import cx_Oracle
&gt;&gt;&gt;
</code></pre></div>

<p>Con el módulo instalado, lo he probado desde el <em>&#8220;backend&#8221;</em> de oracle para django y todo funciona a la&nbsp;perfección.</p>
  </div>

  <div id="article_comments">
    <div id="disqus_thread">
    </div>
  </div>

  <script id="dsq-count-scr" src="https://hyperreals.disqus.com/count.js" async></script>
  <script type="text/javascript">
    var disqus_config = function () {
        this.page.identifier = "2011/06/04/instalacion-cx_oracle-para-ia64/";
        this.page.title = "Instalación cx_Oracle para&nbsp;ia64";
    };
    loadDisqus = function(sitename) {
      var d = document, s = d.createElement('script');
      s.src = 'https://hyperreals.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    };
    loadDisqus();
  </script>
</article>


    <div id="ending_message">
        <p>&copy; Chema Cortés. Built using <a href="http://getpelican.com">Pelican</a>. Theme is <a href="https://github.com/pR0Ps/pelican-subtle">subtle</a> by <a href="http://cmetcalfe.ca">Carey Metcalfe</a>. Based on <a href="https://github.com/giulivo/pelican-svbhack">svbhack</a> by Giulio Fidente.</p>
    </div>
  </main>

  <script type="text/javascript">
    window.addEventListener('load', skipHeader)
  </script>


</body>
</html>