<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="author" content="Chema Cortés">
  <meta name="description" content="Método __getattribute__ | Si has seguido hasta ahora la serie de artículos sobre descriptores, habrás visto que buena parte de la magia de los...">

  <link rel="stylesheet" type="text/css" href="https://blog.ch3m4.org/theme/css/styles.78787593.min.css">

  <script src="https://blog.ch3m4.org/theme/js/scripts.ab06d70e.min.js" type="text/javascript"></script>

  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">

  <link href="https://blog.ch3m4.org/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Hyperreals *R Full Atom Feed" />

<meta name="keywords" content="functional programming, programming, programación, lambda calculus, math, técnicas dinámicas">

  <title>Método __getattribute__ | Hyperreals *R</title>

</head>

<body>
  <aside>
    <div id="user_meta">
      <a href="https://blog.ch3m4.org">
        <img src="https://s.gravatar.com/avatar/b20d114964d6d77c209aadbe9a152e87?s=80" id="logo">
      </a>
      <h2><a href="https://blog.ch3m4.org" class="nohover">Hyperreals *R</a></h2>
      <p>Quarks, bits y otras criaturas infinitesimales</p>
      <div class="social">
          <a href="https://twitter.com/chemacortes" title="twitter" target="_blank" rel="noopener noreferrer"><i class="fa fa-twitter fa-lg"></i></a>
          <a href="https://github.com/chemacortes" title="github" target="_blank" rel="noopener noreferrer"><i class="fa fa-github fa-lg"></i></a>
          <a href="https://bitbucket.org/chemacortes/" title="bitbucket" target="_blank" rel="noopener noreferrer"><i class="fa fa-bitbucket fa-lg"></i></a>
          <a href="https://stackoverflow.com/users/1243400/chemacortes" title="stackoverflow" target="_blank" rel="noopener noreferrer"><i class="fa fa-stack-overflow fa-lg"></i></a>
          <a href="https://linkedin.com/in/chemacortes" title="linkedin" target="_blank" rel="noopener noreferrer"><i class="fa fa-linkedin fa-lg"></i></a>
      </div>
      <ul>
        <li><a href="/feeds/all.atom.xml" target="_blank" rel="noopener noreferrer">All Feeds<i class="fa fa-external-link-square fa-lg"></i></a></li>
        <li><a href="/feeds/scala.atom.xml" target="_blank" rel="noopener noreferrer">Scala Feeds<i class="fa fa-external-link-square fa-lg"></i></a></li>
        <li><a href="/feeds/python.atom.xml" target="_blank" rel="noopener noreferrer">Python Feeds<i class="fa fa-external-link-square fa-lg"></i></a></li>
        <li><a href="/feeds/notas.atom.xml" target="_blank" rel="noopener noreferrer">Notas Feeds<i class="fa fa-external-link-square fa-lg"></i></a></li>
        <li><a href="https://mathstodon.xyz/@chemacortes" target="_blank" rel="noopener noreferrer">Mastodon<i class="fa fa-external-link-square fa-lg"></i></a></li>
      </ul>
    </div>
  </aside>

  <main id="main">
    <header>
      <p id="header">
      <a href="https://blog.ch3m4.org">Home</a>

      &#124; <a href="https://blog.ch3m4.org/pages/aboutme/">Quién&nbsp;soy</a>
      &#124; <a href="https://blog.ch3m4.org/pages/busqueda-python-es/">Búsqueda&nbsp;python-es</a>
      &#124; <a href="https://blog.ch3m4.org/feeds/all.atom.xml">Atom Feed</a>
      </p>
<p>
<a href="https://blog.ch3m4.org/index.html">Posts</a>
&#124; <a href="https://blog.ch3m4.org/tag/">Tags</a>
&#124; <a href="https://blog.ch3m4.org/category/">Categories</a>
&#124; <a href="https://blog.ch3m4.org/category/notas/">Notes</a>
&#124; <a href="https://blog.ch3m4.org/archives.html">Archive</a>
</p>    </header>

<article>
<div class="article_meta">
  <p>Posted <time data-timeago datetime="2011-06-26T18:59:00+02:00">dom 26 junio 2011</time>
   by Chema Cortés  </p>
  <p>
  Category: <a href="https://blog.ch3m4.org/category/python/">Python</a>
&ndash;&ndash;  Tags:
    <a href="https://blog.ch3m4.org/tag/tecnicas-dinamicas/">técnicas dinámicas</a>  </p>
</div>  <div class="article_title">
    <h1><a href="https://blog.ch3m4.org/2011/06/26/metodo-__getattribute__/" class="nohover">Método&nbsp;__getattribute__</a></h1>
  </div>
  <div class="article_text">
    <p>Si has seguido hasta ahora la serie de <a href="https://blog.ch3m4.org/tag/descriptor/" title="Artículos sobre descriptores">artículos sobre descriptores</a>, habrás visto que buena parte de la <em>magia</em> de los objetos en python se debe al método <code>__getattribute__</code> que todo objeto adquiere de su antecesor común, la clase <code>object</code>.</p>
<p>En el último artículo, donde hablaba de las <a href="https://blog.ch3m4.org/2011/06/24/optimizaciones-con-los-metodos-especiales/" title="Optimizaciones con los Métodos Especiales">optimizaciones de los métodos especiales</a>, también comentaba algunas optimizaciones que tenían qué ver con el método <code>__getattribute__</code> y proponía un&nbsp;ejercicio:</p>
<blockquote>
<p>¿Sabrías qué es lo que pasa en el siguiente caso? ¿Se invoca el método <strong>getattribute</strong> en algún momento? ¿Sería una llamada implícita o&nbsp;explícita?</p>
<div class="highlight"><pre><span></span><code>   obj.__getattribute__(&quot;__getattribute__&quot;)
</code></pre></div>

</blockquote>
<p>Quien se enfrenta a este código por primera vez, lo primero que piensa es que se va a producir una <em>autorecursividad</em> puesto que en el acceso al método <code>__getattribute__</code> se debería invocar el propio método <code>__getattribute__</code> y así&nbsp;indefinidamente.</p>
<p>Si embargo, cuando se prueba se ve que funciona tal y como se espera. Entonces, ¿cómo se evita la&nbsp;recursividad?</p>
<p>En el artículo de <a href="https://blog.ch3m4.org/2011/06/24/optimizaciones-con-los-metodos-especiales/" title="Optimizaciones con los Métodos Especiales">optimizaciones de los métodos especiales</a> hablábamos de dos optimizaciones (<em>atajos</em>) de las llamadas <em>implícitas</em> a métodos&nbsp;especiales:</p>
<ol>
<li>
<p>Implícitamente, sólo se buscará métodos especiales en la clase, <strong><em>nunca</em></strong> en el diccionario del&nbsp;objeto.</p>
</li>
<li>
<p>Implícitamente, <strong><em>nunca</em></strong> se accederá a un método especial a través de <code>__getattribute__</code></p>
</li>
</ol>
<p>La intuición nos dice que aquí está la respuesta de que no tengamos <em>autorecursividad</em>.</p>
<p>Antes de analizar lo que está pasando, señalar que en el acceso a atributos se usa el operador &#8216;<code>.</code><span class="quo">&#8216;</span> (<em>punto</em>) que, como cualquier otro operador, está sujeto a las mismas optimizaciones que hemos apuntado. Para su labor, el operador <code>.</code> empleará el método especial <code>__getattribute__</code>.</p>
<p>La invocación <code>obj.__getattribute__("atributo")</code> se produce en dos&nbsp;pasos:</p>
<ol>
<li><em>Implícitamente</em>, el operador &#8216;<code>.</code><span class="quo">&#8216;</span> accede directamente al método <code>__getattribute__</code>, aplicando las&nbsp;optimizaciones.</li>
<li>Se invoca <em>explícitamente</em> a <code>__getattribute__</code> para que retorne el valor del <code>"atributo"</code></li>
</ol>
<p>Así pues, el resultado final consiste en la combinación de una llamada implícita y otra&nbsp;explícita.</p>
<p>Como corolario, se puede afirmar que &#8220;Nunca se invocará a <code>__getattribute__</code> para acceder a <code>__getattribute__</code><span class="dquo">&#8220;</span>. No será la primera vez que alguien lo haya&nbsp;intentado.</p>
  </div>

<ul class="pager">
  <li class="previous">
    <a href="https://blog.ch3m4.org/2011/06/24/optimizaciones-con-los-metodos-especiales/" title="Anterior">
      <i class="fa fa-arrow-circle-left"></i>
      Optimizaciones con los Métodos&nbsp;Especiales
    </a>
  </li>
   <li class="next">
    <a href="https://blog.ch3m4.org/2011/08/04/iconv-en-python/" title="Siguiente">
      iconv en&nbsp;python
      <i class="fa fa-arrow-circle-right"></i>
    </a>
  </li>
</ul>
With category
<a href="https://blog.ch3m4.org/category/python/">Python</a>:
<ul class="pager">
  <li class="previous">
    <a
      href="https://blog.ch3m4.org/2011/06/24/optimizaciones-con-los-metodos-especiales/"
      title="Anterior en misma categoría"
    >
      <i class="fa fa-arrow-circle-o-left"></i>
      Optimizaciones con los Métodos&nbsp;Especiales
    </a>
  </li>
   <li class="next">
    <a
      href="https://blog.ch3m4.org/2011/08/04/iconv-en-python/"
      title="Siguiente en misma categoría"
    >
      iconv en&nbsp;python
      <i class="fa fa-arrow-circle-o-right"></i>
    </a>
  </li>
</ul>

  <div id="article_comments">
    <div id="disqus_thread">
    </div>
  </div>

  <script id="dsq-count-scr" src="https://hyperreals.disqus.com/count.js" async></script>
  <script type="text/javascript">
    var disqus_config = function () {
        this.page.identifier = "2011/06/26/metodo-__getattribute__/";
        this.page.title = "Método&nbsp;__getattribute__";
    };
    loadDisqus = function(sitename) {
      var d = document, s = d.createElement('script');
      s.src = 'https://hyperreals.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    };
    loadDisqus();
  </script>
</article>


    <div id="ending_message">
        <p>&copy; Chema Cortés. Built using <a href="http://getpelican.com">Pelican</a>. Theme is <a href="https://github.com/pR0Ps/pelican-subtle">subtle</a> by <a href="http://cmetcalfe.ca">Carey Metcalfe</a>. Based on <a href="https://github.com/giulivo/pelican-svbhack">svbhack</a> by Giulio Fidente.</p>
    </div>
  </main>

  <script type="text/javascript">
    window.addEventListener('load', skipHeader)
  </script>


<script type="text/javascript">window.addEventListener("load", lw_timeago);</script>
</body>
</html>