<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="author" content="Chema Cortés">
  <meta name="description" content="Entornos virtuales en python 3.3 | Con la nueva versión de python 3.3 se ha incorporado la propuesta PEP-405 que añade al repertorio interno de...">

  <link rel="stylesheet" type="text/css" href="https://chemacortes.github.io/blog/theme/css/styles.425931e9.min.css">

  <script src="https://chemacortes.github.io/blog/theme/js/scripts.7db5858b.min.js" type="text/javascript"></script>

  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">

  <link href="https://chemacortes.github.io/blog/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Hyperreals *R Full Atom Feed" />

<meta name="keywords" content="functional programming, lambda calculus, math, programación, programming">

  <title>Entornos virtuales en python 3.3 | Hyperreals *R</title>

</head>

<body>
  <aside>
    <div id="user_meta">
      <a href="https://chemacortes.github.io/blog">
        <img src="https://s.gravatar.com/avatar/b20d114964d6d77c209aadbe9a152e87?s=80" id="logo">
      </a>
      <h2><a href="https://chemacortes.github.io/blog" class="nohover">Hyperreals *R</a></h2>
      <p>Quarks, bits y otras criaturas infinitesimales</p>
      <div class="social">
          <a href="https://twitter.com/chemacortes" title="twitter" target="_blank" rel="noopener noreferrer"><i class="fa fa-twitter fa-lg"></i></a>
          <a href="https://github.com/chemacortes" title="github" target="_blank" rel="noopener noreferrer"><i class="fa fa-github fa-lg"></i></a>
          <a href="https://bitbucket.org/chemacortes/" title="bitbucket" target="_blank" rel="noopener noreferrer"><i class="fa fa-bitbucket fa-lg"></i></a>
          <a href="https://stackoverflow.com/users/1243400/chemacortes" title="stackoverflow" target="_blank" rel="noopener noreferrer"><i class="fa fa-stack-overflow fa-lg"></i></a>
          <a href="https://linkedin.com/in/chemacortes" title="linkedin" target="_blank" rel="noopener noreferrer"><i class="fa fa-linkedin fa-lg"></i></a>
      </div>
      <ul>
        <li><a href="/blog/feeds/all.atom.xml" target="_blank" rel="noopener noreferrer">All Feeds<i class="fa fa-external-link-square fa-lg"></i></a></li>
        <li><a href="/blog/feeds/scala.atom.xml" target="_blank" rel="noopener noreferrer">Scala Feeds<i class="fa fa-external-link-square fa-lg"></i></a></li>
        <li><a href="/blog/feeds/python.atom.xml" target="_blank" rel="noopener noreferrer">Python Feeds<i class="fa fa-external-link-square fa-lg"></i></a></li>
        <li><a href="/blog/feeds/notas.atom.xml" target="_blank" rel="noopener noreferrer">Notas Feeds<i class="fa fa-external-link-square fa-lg"></i></a></li>
        <li><a href="https://mathstodon.xyz/@chemacortes" target="_blank" rel="noopener noreferrer">Mastodon<i class="fa fa-external-link-square fa-lg"></i></a></li>
      </ul>
    </div>
  </aside>

  <main id="main">
    <header>
      <p id="header">
      <a href="https://chemacortes.github.io/blog">Home</a>

      &#124; <a href="https://chemacortes.github.io/blog/pages/aboutme/">Quién&nbsp;soy</a>
      &#124; <a href="https://chemacortes.github.io/blog/pages/busqueda-python-es/">Búsqueda&nbsp;python-es</a>
      &#124; <a href="https://chemacortes.github.io/blog/feeds/all.atom.xml">Atom Feed</a>
      </p>
<p>
<a href="https://chemacortes.github.io/blog/index.html">Posts</a>
&#124; <a href="https://chemacortes.github.io/blog/tag/">Tags</a>
&#124; <a href="https://chemacortes.github.io/blog/category/">Categories</a>
&#124; <a href="https://chemacortes.github.io/blog/archives.html">Archive</a>
</p>    </header>

<article>
<div class="article_meta">
  <p>Posted <time data-reltime datetime="2012-10-23T20:58:00+02:00">mar 23 octubre 2012</time>
   by Chema Cortés  </p>
  <p>
  Category: <a href="https://chemacortes.github.io/blog/category/python/">Python</a>
</div>  <div class="article_title">
    <h1><a href="https://chemacortes.github.io/blog/2012/10/23/entornos-virtuales-en-python-3-3/" class="nohover">Entornos virtuales en python&nbsp;3.3</a></h1>
  </div>
  <div class="article_text">
    <p>Con la <a href="http://docs.python.org/3.3/whatsnew/3.3.html" title="What's new in python 3.3?">nueva versión de python 3.3</a> se ha incorporado la propuesta <a href="http://www.python.org/dev/peps/pep-0405" title="PEP-0405 Python Virtual Environments"><span class="caps">PEP</span>-405</a> que añade al repertorio interno de python la posibilidad de crear entornos virtuales de modo parecido a virtualenv (vimos esta herramienta hace poco al hablar de la <a href="https://chemacortes.github.io/blog/2012/07/24/instalacion-de-modulos/">instalación de módulos</a>.</p>
<p>Tal como lo define <a href="http://www.python.org/dev/peps/pep-0405" title="PEP-0405 Python Virtual Environments"><span class="caps">PEP</span>-405</a>: <em>&#8220;Los </em>entornos virtuales<em> poseen su propio conjunto de paquetes instalados localmente, segregados del resto de paquetes instalados del sistema&#8221;</em>. Para crear y administrar estos entornos virtuales, se incluye el módulo <code>venv</code>, así como el script <code>pyvenv.py</code>.</p>
<p>Para crear un entorno virtual se puede utilizar el script <code>pyvenv</code> (con python&nbsp;3.3):</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>pyvenv<span class="w"> </span>/ruta/al/nuevo/entorno/virtual
</code></pre></div>

<p>En windows, probablemente haya que ejecutar el script que se encuentra en <code>"C:\&gt; Python33\Tools\Scripts\pyvenv.py"</code>. Posiblemente sea más sencillo ejecutar directamente el módulo <code>venv</code>:</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>python<span class="w"> </span>-m<span class="w"> </span>venv<span class="w"> </span>/ruta/al/nuevo/entorno/virtual
</code></pre></div>

<p>Entrando dentro del nuevo directorio, activamos el entorno de modo similar a como hacíamos con <code>virtualenv</code>:</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>/ruta/al/nuevo/entorno/virtual
$<span class="w"> </span><span class="nb">source</span><span class="w"> </span>bin/activate
</code></pre></div>

<p>Hay que notar que el script <code>activate</code> se debe ejecutar con <code>source</code> ya que necesita cambiar algunas variables del entorno de ejecución&nbsp;actual. </p>
<p>En windows, se debe ejecutar el script <code>Scripts\activate.bat</code>.</p>
<div class="highlight"><pre><span></span><code><span class="n">C</span><span class="p">:\&gt;</span> <span class="nb">cd </span><span class="n">entorno_virtual</span>
<span class="n">C</span><span class="p">:\&gt;</span> <span class="n">Scripts</span><span class="p">\</span><span class="n">activate</span><span class="p">.</span><span class="n">bat</span>
</code></pre></div>

<p>Una vez activado el entorno veremos que el prompt de la línea de comandos ha cambiado para indicarnos que estamos dentro. Las variables de entorno han cambiado, como puedes comprobar si miras <code>$PATH</code>. A partir de aquí, la instalación de paquetes con <code>easy_install</code> o <code>pip</code> se realizarán dentro del entorno. A diferencia con <code>virtualenv</code>, el módulo <code>venv</code> no instala en nuestro entorno ninguna de estas herramientas, por lo que lo primero que tendremos que hacer será&nbsp;instalarlas:</p>
<div class="highlight"><pre><span></span><code><span class="o">(</span>py3.3<span class="o">)</span><span class="w"> </span>$<span class="w"> </span>curl<span class="w"> </span>-O<span class="w"> </span>http://python-distribute.org/distribute_setup.py
<span class="o">(</span>py3.3<span class="o">)</span><span class="w"> </span>$<span class="w"> </span>python<span class="w"> </span>distribute_setup.py
<span class="o">(</span>py3.3<span class="o">)</span><span class="w"> </span>$<span class="w"> </span>easy_install<span class="w"> </span>pip
</code></pre></div>

<p>Para desactivar el entorno se ejecuta <code>deactivate</code>.</p>
<p>Aunque <code>venv</code> sigue el mismo funcionamiento que <code>virtualenv</code>, tiene notables&nbsp;carencias:</p>
<ul>
<li>
<p>No permite configurar versiones distintas de&nbsp;python</p>
</li>
<li>
<p>No replica la instalación python del sistema en la copia&nbsp;local</p>
</li>
<li>
<p>No permite independizar el entorno virtual del la ruta donde se crea (<em>no relocatable</em>)</p>
</li>
</ul>
<p>En definitiva, los entornos virtuales creados con <code>venv</code> no son completamente independientes de la instalación python del sistema como sí puede hacer <code>virtualenv</code>. Esperemos que se amplien las opciones con nuevas versiones de python. De momento, seguiremos con <code>virtualenv</code>.</p>
  </div>

  <div id="article_comments">
    <div id="disqus_thread">
    </div>
  </div>

  <script id="dsq-count-scr" src="https://hyperreals.disqus.com/count.js" async></script>
  <script type="text/javascript">
    var disqus_config = function () {
        this.page.identifier = "2012/10/23/entornos-virtuales-en-python-3-3/";
        this.page.title = "Entornos virtuales en python&nbsp;3.3";
    };
    loadDisqus = function(sitename) {
      var d = document, s = d.createElement('script');
      s.src = 'https://hyperreals.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    };
    loadDisqus();
  </script>
</article>


    <div id="ending_message">
        <p>&copy; Chema Cortés. Built using <a href="http://getpelican.com">Pelican</a>. Theme is <a href="https://github.com/pR0Ps/pelican-subtle">subtle</a> by <a href="http://cmetcalfe.ca">Carey Metcalfe</a>. Based on <a href="https://github.com/giulivo/pelican-svbhack">svbhack</a> by Giulio Fidente.</p>
    </div>
  </main>

  <script type="text/javascript">
    window.addEventListener('load', skipHeader)
  </script>


</body>
</html>