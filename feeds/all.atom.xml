<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>Hyperreals *R</title><link href="https://blog.ch3m4.org/" rel="alternate"></link><link href="https://blog.ch3m4.org/feeds/all.atom.xml" rel="self"></link><id>https://blog.ch3m4.org/</id><updated>2021-02-01T21:00:00+01:00</updated><subtitle>Quarks, bits y otras criaturas infinitesimales</subtitle><entry><title>Reorientando el막log</title><link href="https://blog.ch3m4.org/2021/02/01/reorientando-el-blog/" rel="alternate"></link><published>2021-02-01T21:00:00+01:00</published><updated>2021-02-01T20:54:25+01:00</updated><author><name>Chema Cort칠s</name></author><id>tag:blog.ch3m4.org,2021-02-01:/2021/02/01/reorientando-el-blog/</id><summary type="html">&lt;p&gt;Sobre este blog, lo 칰ltimo que he estado investigando y a hacia d칩nde pienso que ir치 la&amp;nbsp;programaci칩n.&lt;/p&gt;</summary><content type="html">&lt;h2&gt;Introducci칩n&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;A침o 2020&lt;/strong&gt; Un a침o en el que parece que han pasado muchas cosas, pero que en
realidad no han pasado tantas cosas. Todo se qued칩 suspendido en espera de
mejores&amp;nbsp;tiempos.&lt;/p&gt;
&lt;p&gt;He aprovechado este a침o para descubrir algunos lenguajes de programaci칩n y
tecnolog칤as que, en mi opini칩n, han de crecer mucho en los pr칩ximos a침os.
Tambi칠n me ha dado tiempo de reflexionar del modo en que se est치 programando
actualmente y convencerme de lo imposible que es que se cambien algunas&amp;nbsp;cosas.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;La programaci칩n ha sucumbido al &lt;em&gt;formalismo&lt;/em&gt;&lt;/strong&gt;. Grupos de trabajo
interdisciplinares se basan en el tradicional modo imperativo de programar, via
com칰n para compartir conocimientos y proponer nuevas ideas. Las ideas
&lt;em&gt;funcionales&lt;/em&gt; no tienen cabida y se ven ex칩ticas, incluso contraproducentes para
esp칤ritu colaborativo. Las optimizaciones se centran en mejorar la ejecuci칩n de
un programa y ning칰n esfuerzo se emplea en su correcta formulaci칩n matem치tica.
Como consecuencia, los errores son imprevisibles y dif칤ciles de corregir, algo
que se asume como normal, sin ning칰n fundamento matem치tico que gu칤e el&amp;nbsp;desarrollo.&lt;/p&gt;
&lt;p&gt;Las reflexiones que pongo a continuaci칩n solo buscan crear algo de curiosidad en
el lector. Ya no busco convencer a nadie. Dentro de lo posible, ampliar칠 estos
temas en pr칩ximas entradas en el blog, aunque ser치n casi m치s pensamientos
fugaces que art칤culos&amp;nbsp;completos.&lt;/p&gt;
&lt;h2&gt;Principios&lt;/h2&gt;
&lt;p&gt;Aunque suene a &lt;em&gt;perogrullo&lt;/em&gt;, cuando se produce un fallo en una aplicaci칩n es
casi siempre por una condici칩n que no se tuvo en cuenta. Se tratan de
excepciones que no son interceptadas, alguna entrada inesperada para la que no
se escribi칩 un tratamiento, etc, etc. En entornos multitareas, se suma la poca
previsi칩n que se tiene para compartir recursos entre tareas, faltando capacidad
para ver la historia completa de la interacci칩n de todas las&amp;nbsp;tareas.&lt;/p&gt;
&lt;p&gt;Es muy dificil escribir un programa que no falle. Pero s칤 que se pueden seguir
pautas que ayuden a minimizar el impacto, sobre todo que ayuden a prever desde
el primer momento los posibles fallos. Los compiladores son cada vez m치s
inteligentes y los entornos de desarrollo ofrecen al instante ayudas para
corregir posibles fallos en el&amp;nbsp;c칩digo.&lt;/p&gt;
&lt;p&gt;De mi experiencia personal con varios lenguajes de programaci칩n, creo que hay
algunas caracter칤sticas que debe tener un lenguaje de programaci칩n para evitar
errores. No son exactamente caracter칤sticas que hagan m치s f치cil la programaci칩n,
por lo que costar치 que un programador las tenga en cuenta. Algunas requier치n
tener bastante disciplina; en cambio otras implica tener que cambiar de lenguaje
de&amp;nbsp;programaci칩n.&lt;/p&gt;
&lt;h3&gt;Tipado de&amp;nbsp;datos&lt;/h3&gt;
&lt;p&gt;Es muy pesado expresar siempre el tipo de dato de todos y cada uno de los
objetos que usamos en un c칩digo. Hay veces que incluso no conocemos qu칠 tipos
van a tener hasta el momento de ejecutar el&amp;nbsp;c칩digo.&lt;/p&gt;
&lt;p&gt;En general, tenemos dos&amp;nbsp;estrategias:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Tipado estricto: donde se indica expl칤citamente el tipo de todos los&amp;nbsp;objetos&lt;/li&gt;
&lt;li&gt;Tipado gradual: donde se indica el tipo de algunos objetos como&amp;nbsp;anotaci칩n&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Hoy en d칤a, algunos lenguajes con tipado estricto (eg: scala) poseen &lt;em&gt;inferencia
de tipos&lt;/em&gt;, o lo que es lo mismo, son capaces de determinar el tipo de dato a
partir del contexto, lo que hace m치s c칩modo programar con&amp;nbsp;ellos.&lt;/p&gt;
&lt;p&gt;Para lenguajes de tipado gradual (eg: python), tambi칠n existen herramientas de
desarrollo capaces de inferir el tipo de dato, mostrando opciones para hacerlo&amp;nbsp;expl칤cito.&lt;/p&gt;
&lt;p&gt;La sensaci칩n es que ambas estrategias tienden a coincidir, requiriendo
칰nicamente expresar aquellos tipos que sean m치s importantes o que pueden influir
significativamente en el resto del&amp;nbsp;programa.&lt;/p&gt;
&lt;p&gt;Sin embargo, hay una gran ventaja al contar con un sistema de tipos estrictos:
los &lt;a href="https://en.wikipedia.org/wiki/Algebraic_data_type"&gt;&lt;em&gt;tipos algebraicos&lt;/em&gt;&lt;/a&gt;. Normalmente, los cambios de estado requieren de
una programaci칩n meticulosa para no dejar ning칰n caso sin cubrir, siendo
complicados de mantener sin cometer errores. Con los tipos algebraicos se puede
modelizar la l칩gica existente en los cambios de estado, asegurando que no queda
ning칰n caso sin&amp;nbsp;cubrir.&lt;/p&gt;
&lt;h3&gt;Programaci칩n&amp;nbsp;funcional&lt;/h3&gt;
&lt;p&gt;He hablado bastante en este blog sobre mi predilecci칩n por la &lt;em&gt;programaci칩n
funcional&lt;/em&gt;. Podemos destacar algunas caracter칤sticas como el uso para todo de la
recursividad, no tener variables, todo es inmutable sin efectos colaterales,
etc. Pero si hay una cosa que la define sobre todas las dem치s es la capacidad
para retrasar la evaluaci칩n y las excepciones hasta el momento que sea&amp;nbsp;necesario.&lt;/p&gt;
&lt;p&gt;La capacidad de &lt;em&gt;diferir&lt;/em&gt;, adem치s de ahorrar en c치lculos innecesarios, permite
realizar un mejor seguimiento paso a paso de un c칩digo, lo que mejora nuestra
capacidad de comprender y razonar sobre su&amp;nbsp;funcionamiento.&lt;/p&gt;
&lt;h3&gt;Concurrencia&lt;/h3&gt;
&lt;p&gt;Hay muchos mitos alrededor de la concurrencia. El m치s com칰n es pensar que puedes
programar igual si hay un hilo de ejecuci칩n como si hay muchos. Tambi칠n est치 el
que confunde paralelizar la ejecuci칩n con paralelizar los datos. Como se suele
decir, no existe &lt;em&gt;una bala de plata&lt;/em&gt; que sirva para todos los casos. En
concurrencia, cada problema tiene una soluci칩n&amp;nbsp;distinta.&lt;/p&gt;
&lt;p&gt;Necesitamos poder &lt;em&gt;razonar&lt;/em&gt; sobre el funcionamiento de un c칩digo en
concurrencia, algo muy d칤f칤cil si no usas programaci칩n&amp;nbsp;funcional.&lt;/p&gt;
&lt;p&gt;Hay muchos lenguajes que aseguran ser los mejores para programaci칩n en
concurrencia. En mi opini칩n, ninguno es capaz de dar una soluci칩n, aunque
algunos se aproximan m치s que otros. Intentar칠 dar algunas comparativas en
pr칩ximos&amp;nbsp;art칤culos.&lt;/p&gt;
&lt;h2&gt;Lenguajes&lt;/h2&gt;
&lt;h3&gt;Python&lt;/h3&gt;
&lt;p&gt;Hoy en d칤a, python se ha hecho popular entre iniciados a la programaci칩n y
programadores cient칤ficos. Se puede llegar a decir que &lt;strong&gt;&lt;em&gt;&amp;#8220;no has entendido un
c칩digo si no lo puedes explicar con python&amp;#8221;&lt;/em&gt;&lt;/strong&gt;. Es por ello que intentar칠
expresar algunos conceptos en python, a pesar de sus limitaciones para algunas
tareas. Servir치 de comparaci칩n con el modo que usan otros lenguajes para ofrecer
algunas&amp;nbsp;soluciones.&lt;/p&gt;
&lt;p&gt;De todos modos, me dicen mucho que mi c칩digo python no parece c칩digo python. En
realidad, no hago m치s que aplicar el conocido como &lt;em&gt;&amp;#8220;estilo pyth칩nico&amp;#8221;&lt;/em&gt; y que
ayuda a crear c칩digo m치s simple y mantenible. Lamentablemente, hay muchos
programadores python que desconocen toda la potencia que tiene el lenguaje y
algunos m칩dulos de su librer칤a est치ndar que simplifican mucho algunas&amp;nbsp;tareas.&lt;/p&gt;
&lt;h3&gt;Haskellers&lt;/h3&gt;
&lt;p&gt;Bajo la denominaci칩n de &lt;em&gt;&amp;#8220;haskeller&amp;#8221;&lt;/em&gt; me refiero a varios lenguajes basado en
haskell y su&amp;nbsp;ecosistema.&lt;/p&gt;
&lt;p&gt;El lenguaje &lt;a href="https://elm-lang.org/"&gt;Elm&lt;/a&gt; surge como &lt;em&gt;framework&lt;/em&gt; para crear aplicaciones webs cliente
que corran en el navegador (javascript). Su modelo de funcionamiento, llamado
&lt;strong&gt;&lt;span class="caps"&gt;TEA&lt;/span&gt;&lt;/strong&gt; por &lt;em&gt;&amp;#8220;The Elm Architecture&amp;#8221;&lt;/em&gt;, simplifica la creaci칩n de webs din치micas,
desacoplando la l칩gica de la visualizaci칩n, minimizando la posibilidad de
cometer&amp;nbsp;errores.&lt;/p&gt;
&lt;p&gt;Elm es uno de los descubrimientos de este a침o. Es divertido crear aplicaciones
con este lenguaje y realmente ayuda a cometer muchos menos errores. Lo 칰nico
malo son &lt;a href="https://lukeplant.me.uk/blog/posts/why-im-leaving-elm/"&gt;algunas dudas&lt;/a&gt; sobre las decisiones que est치n tomando sus
dise침adores sobre su futuro, algo que no ayuda mucho para su adopci칩n en
sistemas en&amp;nbsp;producci칩n.&lt;/p&gt;
&lt;p&gt;A칰n as칤, Elm es un referente que recomiendo y del que se est치n inspirando muchos
frameworks para otros&amp;nbsp;lenguajes.&lt;/p&gt;
&lt;p&gt;Una alternativa directa a elm ser칤a &lt;a href="https://www.purescript.org/"&gt;purescript&lt;/a&gt;, considerado como el &lt;em&gt;haskell
para javascript&lt;/em&gt;. Tiene varios frameworks web, algunos inspirados en la
arquitectura elm. No obstante, la curva de aprendizaje es algo mayor, sin
conseguir la misma&amp;nbsp;funcionalidad.&lt;/p&gt;
&lt;p&gt;Otra sorpresa ha sido el framework &lt;a href="https://ihp.digitallyinduced.com/"&gt;&lt;span class="caps"&gt;IHP&lt;/span&gt;&lt;/a&gt;, un &lt;span class="caps"&gt;MVC&lt;/span&gt; programado en haskell. Posee
un interface administrativo, muy similar al de django, desde el que se puede
gestionar la base de datos, as칤 como generar c칩digo haskell para los distintos
elementos. Su gesti칩n de dependencias se hace a trav칠s de &lt;a href="https://nixos.org/"&gt;nix&lt;/a&gt;, lo que
garantiza la reproducibilidad y los despliegues&amp;nbsp;seguros.&lt;/p&gt;
&lt;p&gt;A partir de una serie de art칤culos sobre la &lt;a href="https://driftercode.com/blog/ihp-with-elm-series/"&gt;creaci칩n widgets en elm para
&lt;span class="caps"&gt;IHP&lt;/span&gt;&lt;/a&gt;, se pueden considerar el d칰o &lt;span class="caps"&gt;IHP&lt;/span&gt;/elm como el entorno fullstack ideal
para programadores&amp;nbsp;haskell.&lt;/p&gt;
&lt;h3&gt;Elixir&lt;/h3&gt;
&lt;p&gt;Dentro de las opciones funcionales, tambi칠n he mirado algo de &lt;a href="https://elixir-lang.org/"&gt;elixir&lt;/a&gt; y su
framework &lt;a href="https://www.phoenixframework.org/"&gt;phoenix&lt;/a&gt;. Tienen fama de soportar grandes cargas de trabajo y
seguir ofreciendo alta disponibilidad, aunque estoy convencido que hay
soluciones similares en otros lenguajes (eg: go). De momento, lo tengo&amp;nbsp;aparcado.&lt;/p&gt;
&lt;h3&gt;Otros&amp;nbsp;lenguajes&lt;/h3&gt;
&lt;p&gt;No me olvido de lenguajes como scala o coconut, de los que he hablado mucho en
este blog. En el caso de scala est치 a punto de salir la versi칩n 3, cuyo
compilador se conoce como &lt;em&gt;dotty&lt;/em&gt; y que ser치 un gran avance para este&amp;nbsp;lenguaje.&lt;/p&gt;
&lt;p&gt;Rust tambi칠n tiene bastante inter칠s. Su &lt;em&gt;toolchain&lt;/em&gt; para &lt;em&gt;webassembly&lt;/em&gt; (&lt;em&gt;wasm&lt;/em&gt;)
lo posiciona como el lenguaje para programar componentes web nativos (no
javascript). Ser칤a posible crear &lt;em&gt;frontend&lt;/em&gt; en el navegador programados con elm
para manejar el entorno gr치fico (치rbol &lt;span class="caps"&gt;DOM&lt;/span&gt;) y usar rust/wasm para los m칩dulos
que requieran c치lculo intensivo. De rust tambi칠n es interesante su sistema de
&lt;em&gt;pr칠stamo&lt;/em&gt; de variables que evitar errores al compartir variables en
concurrencia y que hace innecesario un recolector de&amp;nbsp;basura.&lt;/p&gt;
&lt;p&gt;Otro lenguaje que he retomado es racket. Es un lenguaje funcional tipo lisp o
scheme. Lo que lo diferencia es que se puede usar para crear nuevos lenguajes.
Es lo que se conoce por &lt;em&gt;&amp;#8220;Programaci칩n orientada al lenguaje&amp;#8221;&lt;/em&gt; (&lt;span class="caps"&gt;LOP&lt;/span&gt; -
Language-oriented Programming). La idea es crear un lenguaje pr칩ximo al usuario
con el que pueda describir los requisitos que ha de tener una aplicaci칩n y que
podamos usar como &lt;em&gt;&amp;#8220;contrato&amp;#8221;&lt;/em&gt; de lo que tiene que hacer una&amp;nbsp;aplicaci칩n.&lt;/p&gt;
&lt;p&gt;Existe algo similar ofrecido por Jetbrain, el &lt;a href="https://www.jetbrains.com/mps/"&gt;&lt;span class="caps"&gt;MPS&lt;/span&gt;&lt;/a&gt;. Est치 mejor documentado y
el entorno &lt;span class="caps"&gt;IDE&lt;/span&gt; es inmejorable. Seguramente empiece por&amp;nbsp;칠l.&lt;/p&gt;
&lt;p&gt;Tambi칠n habr치 espacio para la &lt;em&gt;metaprogramaci칩n&lt;/em&gt;. Lo pongo casi al final puesto
que ser치 el tema del pr칩ximo art칤culo, que no tardar치&amp;nbsp;mucho.&lt;/p&gt;
&lt;h3&gt;Tiddlywiki&lt;/h3&gt;
&lt;p&gt;Por 칰ltimo, otra de las locuras en las que estoy metido es en la programaci칩n de
entornos de desarrollo para &lt;a href="https://tiddlywiki.com/"&gt;tiddlywiki&lt;/a&gt;. Lo normal en tiddlywiki es tener un
fichero html que incluye todo el c칩digo javascript junto con los contenidos
(&lt;em&gt;tiddlers&lt;/em&gt;). Pero tambi칠n se puede tener un entorno node de trabajo que permite
realizar algunas tareas y lanzar algunos&amp;nbsp;scripts.&lt;/p&gt;</content><category term="Pensamientos"></category><category term="functional-programming"></category><category term="python"></category><category term="algebraic-data-type"></category><category term="haskell"></category><category term="elm"></category><category term="ihp"></category><category term="nix"></category><category term="purescript"></category><category term="elixir"></category><category term="phoenix"></category><category term="go"></category><category term="racket"></category><category term="lop"></category><category term="mps"></category><category term="tiddlywiki"></category><category term="metaprogramming"></category></entry><entry><title>Manejo de rutas con맗athlib</title><link href="https://blog.ch3m4.org/2019/09/28/manejo-de-rutas-pathlib/" rel="alternate"></link><published>2019-09-28T17:53:57+02:00</published><updated>2019-09-28T17:56:08+02:00</updated><author><name>Chema Cort칠s</name></author><id>tag:blog.ch3m4.org,2019-09-28:/2019/09/28/manejo-de-rutas-pathlib/</id><summary type="html">&lt;p&gt;Es dif칤cil escribir un script de python que no interaccione con el sistema de ficheros de un modo u otro, por lo que python dispone de varios m칩dulos para tal fin. El objeto &lt;code&gt;Path&lt;/code&gt; viene a poner orden entre tantos m칩dulos y funciones para manejo de ficheros. Se puede decir sin duda que usar &lt;code&gt;Path&lt;/code&gt; se ha convertido en la forma m치s &lt;em&gt;pyth칩nica&lt;/em&gt; de manipular ficheros y&amp;nbsp;directorios.&lt;/p&gt;</summary><content type="html">&lt;p&gt;Es dif칤cil escribir un script de python que no interaccione con el sistema de ficheros de un modo u otro, por lo que python dispone de varios m칩dulos para tal fin: &lt;code&gt;os&lt;/code&gt;, &lt;code&gt;os.path&lt;/code&gt; (&lt;em&gt;subm칩dulo de os&lt;/em&gt;), &lt;code&gt;shutil&lt;/code&gt;, &lt;code&gt;stats&lt;/code&gt;, &lt;code&gt;glob&lt;/code&gt;,&amp;#8230;En la intenci칩n estaba ser multiplataforma, lo que ha sido fuente de muchos mayores quebraderos de cabeza con las distintas codificaciones de caracteres y distintas formas de expresar rutas de ficheros que&amp;nbsp;existen.&lt;/p&gt;
&lt;p&gt;El objeto &lt;code&gt;Path&lt;/code&gt; viene a poner orden entre tantos m칩dulos y funciones para manejo de ficheros. La librer칤a est치ndar se ha reescrito para aceptar estos objetos &lt;code&gt;Path&lt;/code&gt;. Se puede decir sin duda que usar &lt;code&gt;Path&lt;/code&gt; se ha convertido en la forma m치s &lt;em&gt;pyth칩nica&lt;/em&gt; de manipular ficheros y&amp;nbsp;directorios.&lt;/p&gt;
&lt;p&gt;Empecemos por un ejemplo tra칤do de la &lt;a href="https://docs.python.org/3.7/library/pathlib.html" title="Documentaci칩n del m칩dulo pathlib"&gt;documentaci칩n oficial&lt;/a&gt;:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3
4
5
6
7&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;pathlib&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;Path&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;p&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Path&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;/etc&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;q&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;p&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;init.d&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;reboot&amp;#39;&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;q&lt;/span&gt;
&lt;span class="n"&gt;PosixPath&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;/etc/init.d/reboot&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;q&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;resolve&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;PosixPath&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;/etc/rc.d/init.d/halt&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;Paso por paso: importa el constructor &lt;code&gt;Path&lt;/code&gt; del m칩dulo &lt;code&gt;pathlib&lt;/code&gt;. Con 칠l construye un objeto con la ruta &lt;code&gt;/etc&lt;/code&gt; y, usando el operador &lt;code&gt;/&lt;/code&gt;, genera otro objeto que representa la ruta &lt;code&gt;/etc/init.d/reboot&lt;/code&gt;. Autom치ticamente, estos objetos se construyen como instancias de &lt;code&gt;PosixPath&lt;/code&gt;, que es una subclase especializada de &lt;code&gt;Path&lt;/code&gt; para manejos de ficheros en sistemas Posix. La ruta &lt;code&gt;/etc/init.d/reboot&lt;/code&gt; apunta a un &lt;em&gt;enlace simb칩lico&lt;/em&gt;, por lo que se usa el m칠todo &lt;code&gt;resolve&lt;/code&gt; para obtener la ruta absoluta del fichero al que&amp;nbsp;apunta.&lt;/p&gt;
&lt;div class="admonition nota"&gt;
&lt;p class="admonition-title"&gt;Nota&lt;/p&gt;
&lt;p&gt;Observa que las operaciones con objetos &lt;em&gt;Path&lt;/em&gt; generan objetos &lt;em&gt;Path&lt;/em&gt; con lo que podemos encadenar operaciones para navegar a trav칠s de una jerarqu칤a de&amp;nbsp;directorios.&lt;/p&gt;
&lt;/div&gt;
&lt;h2&gt;M칩dulos a los que sustituye o no&amp;nbsp;sustituye&lt;/h2&gt;
&lt;p&gt;Obviamtente, el m칩dulo cl치sico &lt;code&gt;os.path&lt;/code&gt;, utilizado para manipulaci칩n de rutas, es reemplazado totalmente por &lt;code&gt;pathlib&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Del m칩dulo &lt;code&gt;os&lt;/code&gt; reemplaza muchas de sus funciones para manipular ficheros y directorios. A칰n as칤, el m칩dulo &lt;code&gt;os&lt;/code&gt; contiene otras muchas funciones para el manejo de entornos o lanzamiento de procesos que no cambian. As칤 mismo, hay algunas operaciones especializadas con ficheros y directorios (eg: &lt;code&gt;os.walk&lt;/code&gt;) que no han sido reempladas. De hecho son m치s eficientes que si se hicieran con objetos &lt;code&gt;Path&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Otro m칩dulo que ya no es necesario es &lt;code&gt;glob&lt;/code&gt;, utilizado para buscar ficheros mediante patrones de&amp;nbsp;b칰squeda.&lt;/p&gt;
&lt;h2&gt;Rutas puras y&amp;nbsp;concretas&lt;/h2&gt;
&lt;p&gt;Seg칰n si tienen acceso al sistema de ficheros, podemos distingure&amp;nbsp;entre:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Ruta pura: rutas que no requieren acceso al sistema de ficheros (&lt;code&gt;PurePath&lt;/code&gt;, &lt;code&gt;PurePosixPath&lt;/code&gt;, &lt;code&gt;PureWindowsPath&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;Ruta concreta: rutas con acceso al sistema de ficheros (&lt;code&gt;Path&lt;/code&gt;, &lt;code&gt;PosixPath&lt;/code&gt;, &lt;code&gt;WindowsPath&lt;/code&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Las &lt;em&gt;rutas puras&lt;/em&gt; son superclases de las &lt;em&gt;rutas concretas&lt;/em&gt;. Mejor verlo gr치ficamente como jerarqu칤a de&amp;nbsp;clases:&lt;/p&gt;
&lt;p&gt;&lt;img alt="Jerarqu칤a de clases Path" src="/pictures/pathlib-inheritance.png"&gt;&lt;/p&gt;
&lt;h2&gt;Ejemplos&lt;/h2&gt;
&lt;p&gt;Voy a poner algunos ejemplos de uso de &lt;code&gt;pathlib&lt;/code&gt; para que compares con el modo como lo estabas haciendo hasta ahora. Recomiendo revisar la documentaci칩n del m칩dulo &lt;a href="https://docs.python.org/3.7/library/pathlib.html" title="Documentaci칩n del m칩dulo pathlib"&gt;pathlib&lt;/a&gt; ante cualquier&amp;nbsp;duda.&lt;/p&gt;
&lt;p&gt;Para escribir en un fichero, usamos el m칠todo &lt;code&gt;open&lt;/code&gt; de modo similar a como se hac칤a con la funci칩n &lt;code&gt;open&lt;/code&gt; del mismo&amp;nbsp;nombre:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3
4
5&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;pathlib&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;Path&lt;/span&gt;

&lt;span class="n"&gt;path&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Path&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;.config&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;with&lt;/span&gt; &lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;open&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;mode&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;w&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;config&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;config&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;write&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;# config goes here&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;Si s칩lo vamos a escribir una l칤nea, tambi칠n se podr칤a hacer de un modo m치s&amp;nbsp;directo:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;Path&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;.config&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;write_text&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;# config goes here&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;Pongamos un ejemplo m치s complejo: queremos localizar los scripts de python dentro de la carpeta &lt;code&gt;proyectos&lt;/code&gt; que tengan una frase. Lo habitual para recorrer un directorio era usar alguna funci칩n como &lt;code&gt;os.walk&lt;/code&gt; o &lt;code&gt;os.scandir&lt;/code&gt; para ir navegando a trav칠s de la jerarqu칤a de directorios e ir leyendo los ficheros python hasta localizar los que&amp;nbsp;buscamos.&lt;/p&gt;
&lt;p&gt;Veamos c칩mo se hace con &lt;code&gt;Path&lt;/code&gt;:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3
4
5
6
7&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;pathlib&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;Path&lt;/span&gt;

&lt;span class="n"&gt;proyectos&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;home&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;proyectos&amp;#39;&lt;/span&gt;  &lt;span class="c1"&gt;# carpeta en el directorio HOME&lt;/span&gt;
&lt;span class="n"&gt;palabra&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;pathlib&amp;quot;&lt;/span&gt;

&lt;span class="n"&gt;ficheros&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;p&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;p&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;proyectos&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;rglob&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;*.py&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
            &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;palabra&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;p&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;read_text&lt;/span&gt;&lt;span class="p"&gt;()]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;Partimos del &lt;code&gt;Path.home()&lt;/code&gt;, el directorio de usuario, y creamos la ruta del directorio &lt;code&gt;proyectos&lt;/code&gt;. Invocando el m칠todo &lt;code&gt;.rglob()&lt;/code&gt; obtenemos, recursivamente, todos los ficheros que cumplan con el patr칩n dado. Bastante&amp;nbsp;simple.&lt;/p&gt;
&lt;p&gt;La lista resultante es una lista de objetos &lt;em&gt;Path&lt;/em&gt;, lo que nos facilita cualquier manipulaci칩n posterior que deseemos hacer sobre estos ficheros. Por ejemplo, vamos a calcular el tama침o total que&amp;nbsp;ocupan:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;size&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;sum&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;p&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;stat&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;st_size&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;p&lt;/span&gt; &lt;span class="n"&gt;ficheros&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;Si se prefiere, se puede seguir usando el viejo &lt;code&gt;os.path.getsize&lt;/code&gt;. Ahora tambi칠n acepta objetos &lt;code&gt;Path&lt;/code&gt;:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;os.path&lt;/span&gt;

&lt;span class="n"&gt;size&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;sum&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;getsize&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;p&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;p&lt;/span&gt; &lt;span class="n"&gt;ficheros&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</content><category term="Python"></category><category term="python"></category><category term="pathlib"></category></entry><entry><title>Monadas con맊oco</title><link href="https://blog.ch3m4.org/2019/05/07/monadas-con-coco/" rel="alternate"></link><published>2019-05-07T19:33:19+02:00</published><updated>2019-05-07T19:47:56+02:00</updated><author><name>Chema Cort칠s</name></author><id>tag:blog.ch3m4.org,2019-05-07:/2019/05/07/monadas-con-coco/</id><summary type="html">&lt;p&gt;Los iterables han dejado la programaci칩n funcional para ser parte de los lenguajes de programaci칩n modernos. Veremos cu치les son las implementaciones en python y coconut, y las diferencias entre&amp;nbsp;ellos.&lt;/p&gt;</summary><content type="html">&lt;div class="admonition hint"&gt;
&lt;p class="admonition-title"&gt;游본=游냀+游&lt;/p&gt;
&lt;/div&gt;
&lt;h2&gt;Iterables&lt;/h2&gt;
&lt;p&gt;Si duda los &lt;strong&gt;Iterables&lt;/strong&gt; es la caracter칤stica de programaci칩n funcional que m치s se usa en python. Se emplean en las &lt;em&gt;compresiones de listas&lt;/em&gt; y las &lt;em&gt;expresiones generadoras&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Pero veamos algunas&amp;nbsp;definiciones:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Iterable&lt;/strong&gt;: objeto del que se puede recorrer sus elementos en orden, uno a uno. Como ejemplos, est치n los tipos &lt;code&gt;list&lt;/code&gt;, &lt;code&gt;str&lt;/code&gt;, &lt;code&gt;tuple&lt;/code&gt; y &lt;code&gt;dict&lt;/code&gt;. Lo com칰n es recorrer sus elementos con un bucle &lt;code&gt;for&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Iterador&lt;/strong&gt;: objeto que representa un flujo de datos. Con cada uso, o bien entrega un dato, o bien produce una excepci칩n por quedarse vac칤o. Por dise침o, un &lt;code&gt;Iterador&lt;/code&gt; deriva de &lt;code&gt;Iterable&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Secuencia&lt;/strong&gt;: &lt;em&gt;iterable&lt;/em&gt; con acceso a la posici칩n de cualquiera de sus elementos y con un tama침o conocido. Como ejemplos est치n los tipos &lt;code&gt;list&lt;/code&gt;, &lt;code&gt;str&lt;/code&gt; y &lt;code&gt;tuple&lt;/code&gt;. El tipo &lt;code&gt;dict&lt;/code&gt; tambi칠n funciona como secuencia, pero no se considera como tal al no accederse a sus elementos por posici칩n num칠rica. (Es m치s considerado como &lt;em&gt;mapping&lt;/em&gt;).&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Generador&lt;/strong&gt;: objeto que crea iteradores. Hay &lt;em&gt;funciones generadoras&lt;/em&gt;, que crean un iterador cada vez que se llaman, y &lt;em&gt;expresiones generadoras&lt;/em&gt;, que crean un s칩lo&amp;nbsp;iterador.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;em&gt;Iteradores&lt;/em&gt; y &lt;em&gt;secuencias&lt;/em&gt; forman el conjunto de los &lt;em&gt;iterables&lt;/em&gt;, y podemos identificarlos estructuralmente de la siguiente&amp;nbsp;manera:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Un &lt;strong&gt;Iterable&lt;/strong&gt; suele tener un m칠todo &lt;code&gt;__iter__&lt;/code&gt; que devuelve un iterador para recorrer en orden todos los&amp;nbsp;elementos.&lt;/li&gt;
&lt;li&gt;Un &lt;strong&gt;Iterador&lt;/strong&gt; tiene un m칠todo &lt;code&gt;__next__&lt;/code&gt; para entregar el siguiente&amp;nbsp;dato.&lt;/li&gt;
&lt;li&gt;Una &lt;strong&gt;Secuencia&lt;/strong&gt; tiene un m칠todo &lt;code&gt;__getitem__&lt;/code&gt;, para acceso a cualquier elemento, y un m칠todo &lt;code&gt;__len__&lt;/code&gt;, para conocer su tama침o. Adem치s, pueden tener otros m칠todos como &lt;code&gt;count()&lt;/code&gt;, &lt;code&gt;index()&lt;/code&gt;, &lt;code&gt;__contains__()&lt;/code&gt; y &lt;code&gt;__reversed__()&lt;/code&gt; con los que completar la &lt;em&gt;clase base abstracta&lt;/em&gt; &lt;a href="https://docs.python.org/3.7/library/collections.abc.html#collections.abc.Sequence"&gt;collections.abc.Sequence&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="admonition important"&gt;
&lt;p class="admonition-title"&gt;Importante&lt;/p&gt;
&lt;p&gt;Aunque un &lt;em&gt;Iterable&lt;/em&gt; se suele caracterizar por tener un m칠todo &lt;code&gt;__iter__&lt;/code&gt;, tambi칠n las &lt;em&gt;secuencias&lt;/em&gt; se consideran &lt;em&gt;iterables&lt;/em&gt; aunque no tengan este&amp;nbsp;m칠todo.&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Caso pr치ctico: analicemos un objeto &lt;code&gt;range&lt;/code&gt; (eg: &lt;code&gt;dir(range(10))&lt;/code&gt;):&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;tiene el m칠todos &lt;code&gt;__iter__&lt;/code&gt; &amp;#8212;&amp;gt; es un &lt;code&gt;Iterable&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;tiene los m칠todos &lt;code&gt;__getitem__&lt;/code&gt; y &lt;code&gt;__len__&lt;/code&gt; &amp;#8212;&amp;gt; es una &lt;code&gt;Secuencia&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;tiene el resto de m칠todos de &lt;code&gt;collections.abc.Sequence&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;no tiene m칠todo &lt;code&gt;__next__&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Los objeto &lt;code&gt;Range&lt;/code&gt; son &lt;em&gt;secuencias&lt;/em&gt;, no &lt;em&gt;iteradores&lt;/em&gt;. Como secuencia, algunas de la operaciones que permite&amp;nbsp;son:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;troceo: &lt;code&gt;range(100)[4:20] == range(4,20)&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;obtener el tama침o: &lt;code&gt;len(range(100)) == 100&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;chequeos de pertenencia: &lt;code&gt;200 in range(100) == False&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;inversi칩n: &lt;code&gt;range(100)[::-1] == range(99, -1, -1)&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Composici칩n de&amp;nbsp;Iteradores&lt;/h2&gt;
&lt;p&gt;Una ventaja de usar iteradores en lugar de listas es que s칩lo necesitan memoria para procesar el elemento que est치n trabajado, por lo que los hace muy eficientes para procesar grandes cantidades de datos o ficheros enormes que no caben enteros en&amp;nbsp;memoria.&lt;/p&gt;
&lt;p&gt;Por ejemplo, esta expresi칩n&amp;nbsp;generadora:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="mi"&gt;100&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;Como curiosidad, el n칰mero &lt;code&gt;10**100&lt;/code&gt; se llama &lt;a href="https://es.wikipedia.org/wiki/G칰gol"&gt;g칰gol&lt;/a&gt; y es un n칰mero enormemente grande. Crear esto mismo como una lista es imposible con la memoria de los ordenadores actuales y no habr칤a tiempo en este Universo para procesar tal cantidad de&amp;nbsp;elementos.&lt;/p&gt;
&lt;p&gt;Y sin embargo, podemos trabajar con esta expresi칩n sin mayores problemas. Por ejemplo, para obtener los 10 primeros&amp;nbsp;elementos:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;g&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="mi"&gt;100&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;next&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;g&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;Incluso podemos usarla como base para crear nuevos&amp;nbsp;iteradores:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="mi"&gt;100&lt;/span&gt;&lt;span class="p"&gt;)))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;Equivalente a&amp;nbsp;hacer:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="mi"&gt;100&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;Componer iteradores es bastante eficiente. Se van recorriendo a medida que sea necesario, sin mantener en memoria nada m치s que los elementos estrictamente necesarios para devolver el siguiente&amp;nbsp;elemento.&lt;/p&gt;
&lt;h2&gt;map y&amp;nbsp;filter&lt;/h2&gt;
&lt;p&gt;쯉abes cu치l es la diferencia entre estas dos&amp;nbsp;expresiones?&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="mi"&gt;100&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;

&lt;span class="nb"&gt;map&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;lambda&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="mi"&gt;100&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;Para python, ambas expresiones son equivalentes: iteradores. Pero se considera que tiene m치s &lt;em&gt;estilo pyth칩nico&lt;/em&gt; el uso de expresiones generadoras, desaconsej치ndose completamene el uso de las funciones &lt;code&gt;map&lt;/code&gt; y &lt;code&gt;filter&lt;/code&gt; siempre que se&amp;nbsp;pueda.&lt;/p&gt;
&lt;p&gt;Y sin embargo, para &lt;em&gt;coconut&lt;/em&gt; las funciones &lt;code&gt;map&lt;/code&gt; y &lt;code&gt;filter&lt;/code&gt; son fundamentales como tambi칠n lo son en &lt;em&gt;programaci칩n funcional&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;El iterador que se obtiene con la expresi칩n generadora &lt;code&gt;(x**2 for x in range(10*100))&lt;/code&gt; act칰a como si fuera una &lt;em&gt;caja negra&lt;/em&gt;. Se pueden obtener los elemntos uno a uno, pero no ofrece informaci칩n sobre su estructura interna, ni de su tama침o, ni nada que permita su&amp;nbsp;transfomaci칩n.&lt;/p&gt;
&lt;p&gt;En cambio, el &lt;em&gt;iterador map&lt;/em&gt; en coconut (extensi칩n de la funci칩n &lt;code&gt;map&lt;/code&gt; de python) almacena informaci칩n tanto de la funci칩n como de los iterables a los que se aplica, cosa que hace en los atributos &lt;code&gt;func&lt;/code&gt; y &lt;code&gt;iters&lt;/code&gt;, respectivamente. De este modo, &lt;em&gt;coconut&lt;/em&gt; puede encadenar transformaciones de manera m치s&amp;nbsp;칩ptima.&lt;/p&gt;
&lt;p&gt;Por ejemplo, para obtener el 칰ltimo elemento del iterador&amp;nbsp;anterior:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;map(x -&amp;gt; x**2, range(10*100))[-1]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;Como iterador, deber칤a haber pasado por todos los &lt;code&gt;10**100&lt;/code&gt; elementos hasta llegar al 칰ltimo, cosa que es imposible de hacer en la pr치ctica. Sin embargo, si se prueba en &lt;em&gt;coconut&lt;/em&gt;, se obtiene el 칰ltimo elemento casi al instante. En realidad, &lt;em&gt;coconut&lt;/em&gt; cortocircuita todo el proceso y salta directamente al 칰ltimo elemento de &lt;code&gt;range(10**100)&lt;/code&gt;, que es el 칰nico que le hace falta. Es como si hubiera aplicado primero el &lt;code&gt;[-1]&lt;/code&gt; al &lt;code&gt;range(10**100)&lt;/code&gt; y luego hubiera aplicado el &lt;code&gt;map&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Este tipo de encapsulado, tanto de un conjunto de datos como de la funci칩n que lo transforma, se conocen por &lt;strong&gt;aplicativo&lt;/strong&gt; (&lt;em&gt;Applicative&lt;/em&gt; en ingl칠s). Y a las transformaciones que podemos encadenar, una tras otra, para diferir el c치lculo al final del todo se conoce por &lt;strong&gt;m칩nadas&lt;/strong&gt; (&lt;em&gt;Monad&lt;/em&gt; en&amp;nbsp;ingl칠s).&lt;/p&gt;
&lt;p&gt;M치s adelante veremos una definici칩n matem치tica formal, pero podemos considerar &lt;strong&gt;monad&lt;/strong&gt; como la &lt;em&gt;herramienta matem치tica&lt;/em&gt; m치s poderosa de un programador funcional y, algunas veces, tambi칠n la m치s&amp;nbsp;incomprensible.&lt;/p&gt;</content><category term="Coconut"></category><category term="coconut"></category><category term="functional-programming"></category><category term="python"></category></entry><entry><title>Coconut - Primeros맗asos</title><link href="https://blog.ch3m4.org/2019/05/02/coconut-primeros-pasos/" rel="alternate"></link><published>2019-05-02T01:20:16+02:00</published><updated>2019-05-02T23:58:10+02:00</updated><author><name>Chema Cort칠s</name></author><id>tag:blog.ch3m4.org,2019-05-02:/2019/05/02/coconut-primeros-pasos/</id><summary type="html">&lt;p&gt;Primera toma de contacto con el lenguaje coconut, su instalaci칩n y detalles a tener en cuenta con la compatibilidad con las versiones de python&amp;nbsp;utilizadas.&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;a href="http://coconut-lang.org/" title="Coconut language"&gt;Coconut&lt;/a&gt; es un lenguaje funcional completamente &lt;em&gt;pyth칩nico&lt;/em&gt;. Otro modo de hacer las cosas en python. Al principio puede parecer muy distinto, pero a medida que se conoce te das cuenta de lo 칰til que es a veces abordar ciertos problemas desde un punto de vista &lt;em&gt;puramente funcional&lt;/em&gt;.&lt;/p&gt;
&lt;h2&gt;Qu칠 versi칩n de python&amp;nbsp;utilizar&lt;/h2&gt;
&lt;p&gt;Antes de empezar con &lt;em&gt;coconut&lt;/em&gt;, una advertencia sobre las versiones de python. Para su ejecuci칩n, el c칩digo &lt;em&gt;coconut&lt;/em&gt; se traduce en c칩digo python, pudiendo elegir qu칠 versi칩n de python ejecutar치 el c칩digo final. Se puede elegir &lt;a href="https://coconut.readthedocs.io/en/master/DOCS.html#allowable-targets"&gt;varias versiones de python&lt;/a&gt; objetivo, independientemente de la versi칩n de python con la que estemos trabajando. Por defecto, se genera &lt;em&gt;&amp;#8220;c칩digo universal&amp;#8221;&lt;/em&gt;, v치lido para todas las versiones de python. Emplear este &lt;em&gt;c칩digo universal&lt;/em&gt; requiere renunciar a algunas caracter칤sticas de &lt;em&gt;python 3&lt;/em&gt; que no tienen equivalencia en &lt;em&gt;python 2&lt;/em&gt; como es la notaci칩n de tipos, el operador &lt;code&gt;'@'&lt;/code&gt; para multiplicaci칩n de matrices o las sentencias &lt;code&gt;async&lt;/code&gt; y &lt;code&gt;await&lt;/code&gt; para programaci칩n&amp;nbsp;as칤ncrona.&lt;/p&gt;
&lt;p&gt;En esta serie de art칤culos sobre &lt;em&gt;coconut&lt;/em&gt; voy a trabajar siempre con una instalaci칩n de &lt;em&gt;python 3&lt;/em&gt;, lo recomendado para nuevos proyectos. As칤 mismo, el c칩digo generado se ejecutar치 en &lt;em&gt;python 3&lt;/em&gt;. Pero transpilar a &lt;em&gt;c칩digo universal&lt;/em&gt; deber칤a ser igualmente v치lido en la mayor칤a de casos. Es m치s, ya que todo c칩digo &lt;em&gt;python 3&lt;/em&gt; es c칩digo v치lido en &lt;em&gt;coconut&lt;/em&gt;, se podr칤a emplear para convertir c칩digo de &lt;em&gt;python 3&lt;/em&gt; a &lt;em&gt;python 2&lt;/em&gt;, aunque no lo&amp;nbsp;recomiendo.&lt;/p&gt;
&lt;p&gt;En la documentaci칩n tienes &lt;a href="https://coconut.readthedocs.io/en/master/DOCS.html#compatible-python-versions"&gt;informaci칩n sobre compatibilidad&lt;/a&gt; de &lt;em&gt;coconut&lt;/em&gt; con algunas versiones de&amp;nbsp;python.&lt;/p&gt;
&lt;h2&gt;Instalaci칩n de&amp;nbsp;coconut&lt;/h2&gt;
&lt;p&gt;Para instalar &lt;em&gt;coconut&lt;/em&gt; mi forma preferida es usar &lt;code&gt;conda&lt;/code&gt; empleando el canal &lt;code&gt;conda-forge&lt;/code&gt;. Siempre es recomendable crear un entorno virtual donde aislar las dependencias del resto de nuestra instalaci칩n. En concreto, la instalaci칩n de &lt;em&gt;coconut&lt;/em&gt; incluye varios kernels de jupyter y una configuraci칩n de pygments para el coloreado de&amp;nbsp;sint치xis.&lt;/p&gt;
&lt;p&gt;En particular, prefiero crear un fichero de entorno (&lt;code&gt;environment.yml&lt;/code&gt;) que determine las dependencias, tanto las que instala conda, como las que se necesite instalar con pip. Podr칤amos concretar con precisi칩n las versiones que vamos a usar; pero me voy a limitar a las dependencias m칤nimas para la versi칩n que estoy usando ahora, &lt;em&gt;coconut 1.4.0&lt;/em&gt;.&lt;/p&gt;
&lt;figure class='code'&gt;
&lt;figcaption&gt;&lt;span class="liquid-tags-code-title"&gt;Entorno virtual &amp;#8216;coco&amp;#8217;&lt;/span&gt;&lt;a href='/code/2019Q2/environment.yml'&gt;download&lt;/a&gt;&lt;/figcaption&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt; 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;coco&lt;/span&gt;
&lt;span class="nt"&gt;channels&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
  &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;defaults&lt;/span&gt;
  &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;conda-forge&lt;/span&gt;
&lt;span class="nt"&gt;dependencies&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
  &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;python=3.6&lt;/span&gt;
  &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;pip&lt;/span&gt;
  &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;coconut&lt;/span&gt;
  &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;mypy&lt;/span&gt;
  &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;pygments&lt;/span&gt;
  &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;jupyter&lt;/span&gt;
  &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;jupyter_console&lt;/span&gt;
  &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;watchdog&lt;/span&gt;
  &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;pyparsing=2.2.0&lt;/span&gt;
  &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;pip&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
      &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;cpyparsing&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/figure&gt;
&lt;p&gt;Se fija la versi칩n de &lt;code&gt;python=3.6&lt;/code&gt; ya que 칠sta es la versi칩n superior recomendada para &lt;em&gt;coconut&lt;/em&gt;. Posiblemente tambi칠n funcione correctamente con &lt;code&gt;python=3.7&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Entre las dependencias&amp;nbsp;encontramos:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;pygments&lt;/strong&gt;: facilitar치 el coloreado de sint치xis de c칩digo &lt;em&gt;coconut&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;watchdog&lt;/strong&gt;: chequea de cambios en ficheros para automatizar&amp;nbsp;recompilaciones&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;pyparsing&lt;/strong&gt;/&lt;strong&gt;cpyparsing&lt;/strong&gt;: &lt;em&gt;parseo&lt;/em&gt; de texto, utilizado por el traspilador y el interface de l칤nea de comandos. Se fija la versi칩n de &lt;code&gt;pyparsing=2.2.0&lt;/code&gt; ya que daba algunos fallos dentro de &lt;code&gt;jupyter console&lt;/code&gt; con versiones superiores&lt;sup id="fnref:1"&gt;&lt;a class="footnote-ref" href="#fn:1"&gt;1&lt;/a&gt;&lt;/sup&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;cPyparsing&lt;/code&gt; es una versi칩n optimizada de &lt;code&gt;pyparsing&lt;/code&gt;. Su instalaci칩n necesita los compiladores de C apropiados para la creaci칩n m칩dulos python para el sistema. Con linux, el entorno que uso, no hay problema; pero es posible que en windows d칠 errores por no encontrar el compilador &lt;span class="caps"&gt;MS&lt;/span&gt; C++. Si no sabes c칩mo se instala, siempre puedes quitar &lt;code&gt;cpyparsing&lt;/code&gt; del fichero &lt;code&gt;environment.yml&lt;/code&gt; para que siga usando &lt;code&gt;pyparsing&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Dado que &lt;em&gt;coconut&lt;/em&gt; es un desarrollo muy activo, tambi칠n recomiendo la instalaci칩n de una versi칩n de desarrollo de &lt;em&gt;coconut&lt;/em&gt;. Muchas veces, los problemas encontrados pueden estar resueltos en desarrollo. Pero siempre es interesante probar las novedades que se van a a침adiendo y nunca est치 de m치s animarse a contribuir en posibles&amp;nbsp;mejoras.&lt;/p&gt;
&lt;p&gt;El entorno de desarrollo estar치 definio&amp;nbsp;as칤:&lt;/p&gt;
&lt;figure class='code'&gt;
&lt;figcaption&gt;&lt;span class="liquid-tags-code-title"&gt;Entorno virtual &amp;#8216;cocodev&amp;#8217;&lt;/span&gt;&lt;a href='/code/2019Q2/environment-dev.yml'&gt;download&lt;/a&gt;&lt;/figcaption&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3
4
5
6
7
8
9&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;cocodev&lt;/span&gt;
&lt;span class="nt"&gt;channels&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
  &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;defaults&lt;/span&gt;
&lt;span class="nt"&gt;dependencies&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
  &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;python=3&lt;/span&gt;
  &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;pip&lt;/span&gt;
  &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="nt"&gt;pip&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
      &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;coconut-develop[dev]&lt;/span&gt;
      &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;coconut-prelude&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/figure&gt;
&lt;p&gt;La instalaci칩n de &lt;em&gt;coconut&lt;/em&gt; y sus dependencias para este entorno se delega totalmente en pip. Se a침ade el m칩dulo &lt;code&gt;coconut-prelude&lt;/code&gt; que nos facilita un mecanismo similar al &lt;code&gt;Prelude&lt;/code&gt; de haskell para tener un entorno configurado con las funciones m치s habituales en programaci칩n&amp;nbsp;funcional.&lt;/p&gt;
&lt;p&gt;Con estos dos ficheros, se crean los entornos&amp;nbsp;virtuales:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3
4&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ conda env create -f environment.yml
...
$ conda env create -f environment-dev.yml
...
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;h2&gt;Primer contacto: Hola&amp;nbsp;Mundo&lt;/h2&gt;
&lt;p&gt;Para ejecutar coconut, se debe activar primero el&amp;nbsp;entorno:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3
4
5&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ conda activate coco
$ coconut
Coconut Interpreter:
(type &amp;#39;exit()&amp;#39; or press Ctrl-D to end)
&amp;gt;&amp;gt;&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;Sale una interface de l칤nea de comando similar a la que tiene python, incluso se puede introducir c칩digo python&amp;nbsp;normal:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&amp;gt;&amp;gt;&amp;gt; print(&amp;quot;춰Hola, Mundo!&amp;quot;)
춰Hola, Mundo!
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;En &lt;em&gt;coconut&lt;/em&gt;, 칠ste ser칤a nuestro &lt;em&gt;&amp;#8220;Hola Mundo&amp;#8221;&lt;/em&gt;:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&amp;gt;&amp;gt;&amp;gt; &amp;quot;춰Hola, Mundo!&amp;quot; |&amp;gt; print
춰Hola, Mundo!
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;El operador &lt;code&gt;|&amp;gt;&lt;/code&gt; puede verse como un &lt;em&gt;pipe&lt;/em&gt; que encadena operaciones, una tras otra, que ser치 de uso com칰n. Se puede describir como una &lt;em&gt;&amp;#8220;aplicaci칩n del resultado de la izquierda en la expresi칩n de la derecha&amp;#8221;&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Por poner ejemplos de aplicaciones en&amp;nbsp;cadena:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3
4
5
6
7&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&amp;gt;&amp;gt;&amp;gt; &amp;quot;춰Hola, Mundo!&amp;quot; |&amp;gt; len |&amp;gt; print
13
&amp;gt;&amp;gt;&amp;gt; &amp;quot;춰Hola, Mundo!&amp;quot; |&amp;gt; list |&amp;gt; print
[&amp;#39;춰&amp;#39;, &amp;#39;H&amp;#39;, &amp;#39;o&amp;#39;, &amp;#39;l&amp;#39;, &amp;#39;a&amp;#39;, &amp;#39;,&amp;#39;, &amp;#39; &amp;#39;, &amp;#39;M&amp;#39;, &amp;#39;u&amp;#39;, &amp;#39;n&amp;#39;, &amp;#39;d&amp;#39;, &amp;#39;o&amp;#39;, &amp;#39;!&amp;#39;]
&amp;gt;&amp;gt;&amp;gt; &amp;quot;춰Hola, Mundo!&amp;quot; |&amp;gt; print |&amp;gt; print
춰Hola, Mundo!
None
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;Probemos la ejecuci칩n de ficheros. Los ficheros de &lt;em&gt;coconut&lt;/em&gt; tienen por extensi칩n &lt;code&gt;.coco&lt;/code&gt;. Creemos un fichero &lt;code&gt;hola.coco&lt;/code&gt; con una 칰nica&amp;nbsp;l칤nea:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&amp;quot;춰Hola, Mundo!&amp;quot; |&amp;gt; print
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;Para&amp;nbsp;ejecutarlo:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3
4&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ coconut --run hola.coco
Compiling         hola.coco ...
Compiled to       hola.py .
춰Hola, Mundo!
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;De la &lt;em&gt;transpilaci칩n&lt;/em&gt; se obtiene el fichero &lt;code&gt;hola.py&lt;/code&gt;, que es el que se usa en la ejecuci칩n. Se podr칤a volver a ejecutar sin intervenci칩n de &lt;em&gt;coconut&lt;/em&gt;:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ python hola.py
춰Hola, Mundo!
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;h2&gt;Factorial en&amp;nbsp;coconut&lt;/h2&gt;
&lt;p&gt;Como obsesi칩n de este blog est치 la comparaci칩n de formas de hacer el c치lculo del factorial. Recomiendo seguir el &lt;a href="https://coconut.readthedocs.io/en/master/HELP.html" title="Tutorial de coconut"&gt;tutorial de coconut&lt;/a&gt; donde se detalla, paso a paso, c칩mo ir cambiando la formulaci칩n de factorial desde estructuras imperativas a&amp;nbsp;funcionales.&lt;/p&gt;
&lt;p&gt;Una formulaci칩n simple podr칤a ser&amp;nbsp;esta:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3
4&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;def product(lst: int[]) -&amp;gt; int = reduce((*), lst)
def factorial(n: int) -&amp;gt; int = range(2, n+1) |&amp;gt; product

10000 |&amp;gt; factorial |&amp;gt; print
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;Aunque las veremos con detalle m치s adelante, aqu칤 adelantamos varias caracter칤sticas de &lt;em&gt;coconut&lt;/em&gt;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Una funci칩n puede devolver una expresi칩n, similar a las funciones &lt;em&gt;lambda&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;La funci칩n &lt;code&gt;reduce&lt;/code&gt; est치 disponible por defecto (importante en programaci칩n&amp;nbsp;funcional)&lt;/li&gt;
&lt;li&gt;Se usa el operador multiplicaci칩n como &lt;code&gt;(*)&lt;/code&gt; (&lt;em&gt;al estilo haskell&lt;/em&gt;) sin necesidar de importarlo del m칩dulo &lt;code&gt;operator&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Se usa una notaci칩n de tipos extendida con &lt;code&gt;int[]&lt;/code&gt; para hacer referencia a una &lt;em&gt;lista de enteros&lt;/em&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;La &lt;em&gt;notaci칩n de tipos&lt;/em&gt; es en realidad parte de &lt;em&gt;python 3&lt;/em&gt;, lo 칰nico que hace &lt;em&gt;coconut&lt;/em&gt; es facilitar su uso con una notaci칩n&amp;nbsp;extendida.&lt;/p&gt;
&lt;p&gt;Si es la primera vez que ves &lt;em&gt;programaci칩n funcional&lt;/em&gt;, seguramente no entiendas nada. Pronto tendr치 todo sentido y te empezar치s a preguntar porqu칠 no la conocistes&amp;nbsp;antes.&lt;/p&gt;
&lt;div class="footnote"&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id="fn:1"&gt;
&lt;p&gt;Este problema tambi칠n lo tiene la instalaci칩n de coconut para &lt;strong&gt;python 2&lt;/strong&gt;. En este caso, la simple ejecuci칩n del interface de l칤nea de comando sobra para entrar en un bucle sin fin que agote r치pidamente la memoria y bloquee todo el equipo. Forzar la versi칩n a &lt;code&gt;pyparsing=2.2.0&lt;/code&gt; solventa el problema.&amp;#160;&lt;a class="footnote-backref" href="#fnref:1" title="Jump back to footnote 1 in the text"&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;</content><category term="Coconut"></category><category term="coconut"></category><category term="functional-programming"></category><category term="python"></category></entry><entry><title>쯈u칠 es un맊oconut?</title><link href="https://blog.ch3m4.org/2019/04/16/que-es-un-coconut/" rel="alternate"></link><published>2019-04-16T00:00:00+02:00</published><updated>2019-04-16T00:51:57+02:00</updated><author><name>Chema Cort칠s</name></author><id>tag:blog.ch3m4.org,2019-04-16:/2019/04/16/que-es-un-coconut/</id><summary type="html">&lt;p&gt;Inicio de unos art칤culos dedicados al lenguaje coconut, un lenguaje funcional totalmente &lt;em&gt;pyth칩nico&lt;/em&gt;, y otras novedades para este nuevo reinicio del&amp;nbsp;blog.&lt;/p&gt;</summary><content type="html">&lt;div class="admonition type"&gt;
&lt;p class="admonition-title"&gt;&amp;#8230;and now for something completely&amp;nbsp;different&lt;/p&gt;
&lt;/div&gt;
&lt;h2&gt;Python&amp;nbsp;multiparadigma&lt;/h2&gt;
&lt;p&gt;La primera vez que o칤 hablar de python all칤 por finales del siglo pasado, una cosa que me encant칩 es que se defin칤a como &lt;em&gt;lenguaje multiparadigma&lt;/em&gt; combinandao el clasicismo de los lenguajes imperativos con la novedosa (entonces) &lt;em&gt;orientaci칩n a objetos&lt;/em&gt; y con algunas caracter칤sticas &lt;em&gt;funcionales&lt;/em&gt; a침adidas que lo hac칤an 칰nico. El tiempo ha ido puliendo el lenguaje y la programaci칩n funcional se ha ido arrinconando hacia algunos m칩dulos o, directamente, han desaparecido. El propio creador del lenguaje, Guido von Rossum, lleg칩 a pensar en &lt;a href="https://www.artima.com/weblogs/viewpost.jsp?thread=98196" title="The fate of reduce() in Python 3000"&gt;eliminar todo rastro&lt;/a&gt;, aunque finalmente s칩lo desterr칩 la funci칩n &lt;code&gt;reduce&lt;/code&gt; al m칩dulo &lt;code&gt;functools&lt;/code&gt; alegando que no era una caracter칤stica que entendiera ni usar un programador&amp;nbsp;python.&lt;/p&gt;
&lt;p&gt;Es una pena. La &lt;em&gt;Programaci칩n Imperativa&lt;/em&gt; impuesta como 칰nico modo de aprender a programar, sin base para cambiar luego hacia los otros dos paradigmas. Cuando se introdujo la &lt;em&gt;Programaci칩n Orientada a Objetos&lt;/em&gt; con los interfaces gr치ficos, se emple칩 mal. Los objetos fueron tamizados por la programaci칩n imperativa para verse como sacos de procedimientos que compart칤an unas mismas variables de estado. La &lt;em&gt;Programaci칩n Funcional&lt;/em&gt;, a pesar de estar presente desde el principio de la historia de la inform치tica, a pesar de ser la que m치s pr칩xima al pensamiento matem치tico, qued칩 fuera del entendimiento de los&amp;nbsp;programadores.&lt;/p&gt;
&lt;p&gt;Pero la tendencia se est치 inviertiendo. Hoy en d칤a es imprescidible la ejecuci칩n concurrente, ya sea para aprovechar las CPUs multin칰cleo de nuestros dispositivos, ya sea porque necesitamos atender un alto n칰mero de peticiones concurrentes. La programaci칩n imperativa ya no es apropiada cuando varios hilos de ejecuci칩n se acoplan e interfieren entre s칤 por los mismos recursos. La programaci칩n imperativa se hace menos determinista en estos casos y los fallos son imposibles de repetir de una ejecuci칩n a&amp;nbsp;otra.&lt;/p&gt;
&lt;p&gt;La programaci칩n funcional, dentro de lo complejo que sea de entender sus premisas a un programador tradicional, es la 칰nica que permite razonar l칩gicamente sobre la ejecuci칩n de un programa&amp;nbsp;concurrente.&lt;/p&gt;
&lt;h2&gt;쯈u칠 es un&amp;nbsp;coconut?&lt;/h2&gt;
&lt;p&gt;Python ha avanzando mucho estos a침os. Es el principal lenguaje usado en ciencia y ense침anza. Los &lt;em&gt;makers&lt;/em&gt; lo tienen en sus sistemas empotrados como microbit, raspberries pi y similares. Y pronto completar치 el hito de abandonar la versi칩n 2 para pasar definitivamente a la versi칩n 3, incluyendo entre sus novedades las instrucciones nuevas para la concurrencia y el&amp;nbsp;multiproceso.&lt;/p&gt;
&lt;p&gt;Para mi gusto, a python le falta un sistema de tipos m치s potente y tener caracter칤sticas funcionales. Para lo primero, hay avances con el &lt;em&gt;&amp;#8220;tipado gradual&amp;#8221;&lt;/em&gt;, soportado por varios IDEs que ayuda mucho en la codificaci칩n. Para la programaci칩n funcional, python cuenta con algunos m칩dulos como &lt;code&gt;itertools&lt;/code&gt; y &lt;code&gt;functools&lt;/code&gt;, pero no deja de ser algo&amp;nbsp;testimonial.&lt;/p&gt;
&lt;p&gt;Pero he descubierto un nuevo lenguaje funcional &lt;em&gt;pythonico&lt;/em&gt;: &lt;a href="http://coconut-lang.org/" title="Coconut Language"&gt;coconut&lt;/a&gt;. Aunque sigo recomendando empezar a programar con un verdadero lenguaje funcional como haskell para evitar adquirir vicios, con coconut se puede tener lo mejor de los dos mundos sin renunciar a usar&amp;nbsp;python.&lt;/p&gt;
&lt;p&gt;Me he animado a aprender coconut e ir creando peque침os art칤culos a medida que vaya aprendiendo. Intentar칠 hacer comparaciones con otros lenguajes como haskell, scala o typescript, ya que son los otros lenguajes que estoy empleando frecuentemente, adem치s de&amp;nbsp;python.&lt;/p&gt;
&lt;p&gt;Sobre el nombre de &lt;em&gt;coconut&lt;/em&gt; para un lenguaje &lt;em&gt;pyth칩nico&lt;/em&gt;, hay que recordar que todo lo relativo a &lt;em&gt;python&lt;/em&gt; proviene de las comedias del grupo humor칤stico &amp;#8220;Monty&amp;nbsp;Python&amp;#8221;:&lt;/p&gt;
&lt;p&gt;&lt;span class="videobox"&gt;
                    &lt;iframe width="640" height="390"
                        src='https://www.youtube.com/embed/Fhnjqy8JvEs'
                        frameborder='0' webkitAllowFullScreen
                        mozallowfullscreen allowFullScreen&gt;
                    &lt;/iframe&gt;
                &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Pero para los que tenemos ya una edad, &lt;em&gt;coconut&lt;/em&gt; siempre &lt;em&gt;ser치s t칰&lt;/em&gt;:&lt;/p&gt;
&lt;p&gt;&lt;span class="videobox"&gt;
                    &lt;iframe width="640" height="390"
                        src='https://www.youtube.com/embed/xwFp6THEddE'
                        frameborder='0' webkitAllowFullScreen
                        mozallowfullscreen allowFullScreen&gt;
                    &lt;/iframe&gt;
                &lt;/span&gt;&lt;/p&gt;</content><category term="Coconut"></category><category term="coconut"></category><category term="functional-programming"></category></entry><entry><title>Factorial en scala en맗aralelo</title><link href="https://blog.ch3m4.org/2018/07/25/factorial-en-scala-en-paralelo/" rel="alternate"></link><published>2018-07-25T20:49:57+02:00</published><updated>2018-08-14T01:00:09+02:00</updated><author><name>Chema Cort칠s</name></author><id>tag:blog.ch3m4.org,2018-07-25:/2018/07/25/factorial-en-scala-en-paralelo/</id><summary type="html">&lt;p&gt;Una nueva versi칩n del factorial en scala, ahora en&amp;nbsp;paralelo&lt;/p&gt;</summary><content type="html">&lt;p&gt;Una obsesi칩n de este blog siempre ha sido crear c치lculos de la funci칩n &lt;em&gt;factorial&lt;/em&gt; con diversos algoritmos y con cualquier&amp;nbsp;lenguaje.&lt;/p&gt;
&lt;p&gt;Para no perder la costumbre, veamos una de las formas m치s r치pidas de calcular un factorial aprovechando las CPUs multicores que equipan los equipos&amp;nbsp;modernos.&lt;/p&gt;
&lt;p&gt;Ten칤amos en scala una definici칩n de este&amp;nbsp;estilo:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="n"&gt;factorial&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="k"&gt;:&lt;/span&gt; &lt;span class="kt"&gt;Int&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;&lt;span class="k"&gt;:&lt;/span&gt; &lt;span class="kt"&gt;BigInt&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nc"&gt;BigInt&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="n"&gt;to&lt;/span&gt; &lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="o"&gt;).&lt;/span&gt;&lt;span class="n"&gt;product&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;El producto de los n칰meros se realiza en secuencia, desde el &lt;code&gt;2&lt;/code&gt; hasta &lt;code&gt;n&lt;/code&gt;. Como variante pod칤amos haber recorrido la secuencia en orden&amp;nbsp;inverso:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="n"&gt;factorial&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="k"&gt;:&lt;/span&gt; &lt;span class="kt"&gt;BigInt&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;&lt;span class="k"&gt;:&lt;/span&gt; &lt;span class="kt"&gt;BigInt&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt; &lt;span class="n"&gt;to&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt; &lt;span class="n"&gt;by&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="o"&gt;).&lt;/span&gt;&lt;span class="n"&gt;product&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;Puede pensarse que el orden en el que se multiplican los n칰meros podr칤a influir en el tiempo de c칩mputo, pero las pruebas que he hecho no parece que tenga demasiada influencia. Tal vez resulte ligeramente m치s costosa en orden&amp;nbsp;inverso.&lt;/p&gt;
&lt;p&gt;Una forma simple que tenemos de acelerar el producto ser칤a convertir la secuencia en una &lt;em&gt;colecci칩n paralela&lt;/em&gt;, algo tan sencillo como invocar el m칠todo &lt;code&gt;.par&lt;/code&gt; de la&amp;nbsp;secuencia:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="n"&gt;factorial&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="k"&gt;:&lt;/span&gt; &lt;span class="kt"&gt;Int&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;&lt;span class="k"&gt;:&lt;/span&gt; &lt;span class="kt"&gt;BigInt&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nc"&gt;BigInt&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="n"&gt;to&lt;/span&gt; &lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="o"&gt;).&lt;/span&gt;&lt;span class="n"&gt;par&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;product&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;Ahora el producto se realiza en paralelo, usando todos los &lt;em&gt;cores&lt;/em&gt; disponibles de la &lt;span class="caps"&gt;CPU&lt;/span&gt;. Para n칰meros peque침os, casi no se nota el incremento de velocidad debido a los cambios de contexto que realiza el c칩mputo. Pero en n칰meros bastantes grandes, la velocidad se multiplica pr치cticamente por el n칰mero de cores&amp;nbsp;disponibles.&lt;/p&gt;</content><category term="Scala"></category><category term="algorithms"></category><category term="factorial"></category></entry><entry><title>Reinicio2018</title><link href="https://blog.ch3m4.org/2018/07/22/reinicio-2018/" rel="alternate"></link><published>2018-07-22T11:40:51+02:00</published><updated>2018-07-25T20:41:54+02:00</updated><author><name>Chema Cort칠s</name></author><id>tag:blog.ch3m4.org,2018-07-22:/2018/07/22/reinicio-2018/</id><summary type="html">&lt;p&gt;Despu칠s de mucho tiempo, vuelvo a escribir en este blog. No ten칤a mucho qu칠 decir, pero es posible que haya llegado el momento de&amp;nbsp;hacerlo.&lt;/p&gt;</summary><content type="html">&lt;p&gt;Hac칤a mucho que no escrib칤a en este blog. La raz칩n principal es que no ten칤a mucho que decir. Lo poco que pod칤a contribuir lo he ido haciendo en otros 치mbitos de internet y no hab칤a nada m치s que a침adir con un m칤nimo&amp;nbsp;inter칠s.&lt;/p&gt;
&lt;p&gt;En este tiempo, he seguido profundizando m치s en la programaci칩n funcional de la mano de &lt;a href="https://scala-lang.org"&gt;scala&lt;/a&gt; y &lt;a href="https://haskell.org"&gt;haskell&lt;/a&gt;, he mirado novedades en varios lenguajes (&lt;a href="https://python.org"&gt;python&lt;/a&gt;, &lt;a href="https://www.typescriptlang.org/"&gt;typescript&lt;/a&gt;,..) y he probado algunas de las tecnolog칤as m치s populares en estos momentos (docker, angular, raspberry,&amp;nbsp;etc).&lt;/p&gt;
&lt;p&gt;Sin embargo, sigo notado que se programa desastrosamente para &lt;strong&gt;concurrencia&lt;/strong&gt;. Un programador, adem치s de saber programar, deber칤a ser capaz de razonar sobre las particularidades del entorno de ejecuci칩n que afectar치n a su programa. De igual modo que es capaz de usar algoritmos para optimizar el uso de memoria y reducir el consumo de &lt;span class="caps"&gt;CPU&lt;/span&gt;, tambi칠n deber칤a ser capaz de sincronizar los distintos hilos de ejecuci칩n y saber c칩mo crear &lt;em&gt;&amp;#8220;transacciones at칩micas&amp;#8221;&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Sobre todo, algo a tener claro en concurrencia es que &lt;strong&gt;&amp;#8220;&lt;span class="caps"&gt;NO&lt;/span&gt; &lt;span class="caps"&gt;EXISTE&lt;/span&gt; &lt;span class="caps"&gt;UNA&lt;/span&gt; SOLUCI칍N &lt;span class="caps"&gt;PARA&lt;/span&gt; &lt;span class="caps"&gt;TODO&lt;/span&gt;&amp;#8221;&lt;/strong&gt;. Cada caso tiene una soluci칩n distinta que requerir치 de estudio previo y una soluci칩n acorde al problema. Y para eso hay que aprender a&amp;nbsp;razonar.&lt;/p&gt;
&lt;div class="admonition info"&gt;
&lt;p&gt;&lt;strong&gt;Si no entiendes el problema, el lenguaje no te dar치 la&amp;nbsp;soluci칩n&lt;/strong&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Personalmente, sigo pensando que deber칤a cambiarse la &lt;em&gt;Ense침anza Tradicional de la Programaci칩n&lt;/em&gt;. Cambiar lenguajes din치micos y variables globales por lenguajes funcionales y sistemas de tipos. Aprender nuevos modos de hacer las&amp;nbsp;cosas.&lt;/p&gt;
&lt;p&gt;En&amp;nbsp;definitiva:&lt;/p&gt;
&lt;div class="admonition info"&gt;
&lt;p&gt;&lt;strong&gt;M치s matem치ticas y menos&amp;nbsp;ingeniera&lt;/strong&gt;&lt;/p&gt;
&lt;/div&gt;</content><category term="Pensamientos"></category><category term="concurrency"></category></entry><entry><title>Renacimiento</title><link href="https://blog.ch3m4.org/2016/01/10/renacimiento/" rel="alternate"></link><published>2016-01-10T15:51:06+01:00</published><updated>2016-01-10T15:51:06+01:00</updated><author><name>Chema Cort칠s</name></author><id>tag:blog.ch3m4.org,2016-01-10:/2016/01/10/renacimiento/</id><summary type="html">&lt;p&gt;Pensamientos de lo hecho estos a침os y qu칠 espero del&amp;nbsp;futuro&lt;/p&gt;</summary><content type="html">&lt;p&gt;Si eres uno de los pocos seguidores de este blog, habr치s notado que se migrado a un nuevo servidor y un nuevo &lt;em&gt;framework&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;He tenido el blog bastante abandonado. Podr칤a decirse que no ten칤a nada interesante qu칠 decir en este tiempo, pero la verdad es que  he preferido contar lo poco que ten칤a que contar a trav칠s de &lt;a href="https://twitter.com"&gt;twitter&lt;/a&gt; y otras v칤as&amp;nbsp;alternativas.&lt;/p&gt;
&lt;p&gt;Si esperas que contin칰e con los art칤culos de &lt;a href="http://python.org"&gt;Python&lt;/a&gt;, es posible que no lo haga. 칔ltimamente, estoy bastante defraudado con los programadores que se acercan a este lenguaje. Puede que sea por haberse convertido en un lenguaje tan popular, algo que siempre es bueno. Pero echo mucho de menos el &lt;em&gt;&amp;#8220;modo pyth칩nico&amp;#8221;&lt;/em&gt; que influ칤a en todo lo que se hac칤a para este lenguaje en sus principios. Ahora parece como que haya que programar para que lo entiendan incluso los que no saben python. Se evitan usar compresiones de listas o expresiones generadoras porque son t칠cnicas demasiado avanzadas, y las novedades que introduce python3 parece como que haya que evitarlas. Me parece &lt;em&gt;simplemente absurdo&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Creo que python es un lenguaje genial para &lt;em&gt;scripting&lt;/em&gt;, con 치mbitos de aplicaci칩n que abarcan desde gesti칩n de sistemas a aplicaciones cient칤ficas. &lt;em&gt;Un lenguaje para gobernarlos a todos&lt;/em&gt;. Pero necesita evolucionar, y necesita un mejor sistema de tipos. El &lt;em&gt;tipado gradual&lt;/em&gt; es imprescindible y deber칤a ser aceptado por la comunidad de programadores python cuanto antes (tema que espero tratar en alg칰n pr칩ximo&amp;nbsp;art칤culo).&lt;/p&gt;
&lt;p&gt;Sigo usando mucho python. De hecho, este blog est치 ahora creado con &lt;a href="http://getpelican.com/"&gt;pelican&lt;/a&gt;, un generador est치tico de p치ginas html. Tambi칠n me ayudo de varias herramientas python en tareas tales como el &lt;em&gt;push&lt;/em&gt; al repositorio de github donde alojo ahora el blog (posiblemente, tambi칠n sea objeto de un nuevo art칤culo c칩mo lo hago). Por si fuera poco, tambi칠n uso &lt;a href="https://wiki.gnome.org/Apps/Gedit/" title="Gnome Editor"&gt;gedit&lt;/a&gt; para editar el texto, donde estoy incorporado algunos &lt;em&gt;snippets&lt;/em&gt; en python para dar formato al texto &lt;em&gt;markdown&lt;/em&gt; (vale, tomo nota para otro&amp;nbsp;art칤culo).&lt;/p&gt;
&lt;p&gt;Este 칰ltimo a침o, creo que el lenguaje en el que m치s he programado ha sido &lt;a href="https://www.haskell.org/"&gt;haskell&lt;/a&gt;. Aunque ya muchos a침os, es en estos momentos cuando se est치 produciendo un autentico &lt;em&gt;&amp;#8220;Renacimento&amp;#8221;&lt;/em&gt; de este lenguaje. De modo similar al periodo hist칩rico, est치n surgiendo alrededor de este lenguaje verdaderos &lt;em&gt;hombres del renacimiento&lt;/em&gt; que combinan disciplinas tales como Matem치ticas, Filosof칤a y Ciencias &lt;sup id="fnref:1"&gt;&lt;a class="footnote-ref" href="#fn:1"&gt;1&lt;/a&gt;&lt;/sup&gt;. Una aut칠ntica 치gora virtual de pensadores alrededor de la programaci칩n abstracta que no deber칤a perderse nadie interesado en estos&amp;nbsp;temas.&lt;/p&gt;
&lt;p&gt;La verdad es que la vejez de haskell se nota en algunos problemas de dependencias entre m칩dulos y la carencia de herramientas de desarrollo modernas. Se est치 trabajando mucho en hacer de haskell una herramienta con suficiente &lt;em&gt;&amp;#8220;calidad industrial&amp;#8221;&lt;/em&gt; como para ser alternativa empresarial a cualquier otro lenguaje de programaci칩n &lt;sup id="fnref:2"&gt;&lt;a class="footnote-ref" href="#fn:2"&gt;2&lt;/a&gt;&lt;/sup&gt;.&lt;/p&gt;
&lt;p&gt;A칰n con todo, sigo programando en &lt;a href="http://scala-lang.org/"&gt;scala&lt;/a&gt;. Es el lenguaje con el que me siento m치s c칩modo. Este 칰ltimo a침o ha estado marcado por la popularizaci칩n del &lt;abbr title="compilador c칩digo fuente a c칩digo fuente"&gt;transpiler&lt;/abbr&gt; &lt;a href="http://www.scala-js.org/"&gt;scala.js&lt;/a&gt; para javascript, algo que est치 atrayendo m치s desarrolladores a scala que su contraparte para &lt;abbr title="Java Virtual Machine"&gt;&lt;span class="caps"&gt;JVM&lt;/span&gt;&lt;/abbr&gt;. Tengo intenci칩n de realizar algunos desarrollos para Angular o React con scala.js y pronto podr칠 contar algunas cosas&amp;nbsp;m치s.&lt;/p&gt;
&lt;p&gt;Tambi칠n este 칰ltimo a침o he estado usando bastante &lt;a href="https://github.com/alexarchambault/jupyter-scala"&gt;jupyter-scala&lt;/a&gt;, un kernel scala para el &lt;a href="http://jupyter.org/"&gt;jupyter-notebook&lt;/a&gt;, para la realizaci칩n de diversos ejercicios de bioinform치tica. Toda una gozada de usar y, sobre todo, de tener documentados todos los pasos que iba dando. Si os interesa la bioinform치tica, os recomiendo la serie &lt;span class="caps"&gt;MOOC&lt;/span&gt; sobre &lt;a href="https://www.coursera.org/specializations/bioinformatics"&gt;bioinform치tica&lt;/a&gt; de la UCSanDiego, unos cursos pr치cticos donde se combina la algor칤tmica con los distintos descubrimientos que se han ido produciendo en biolog칤a gen칠tica. &lt;em&gt;Clases magistrales de hacking del bueno&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Pero si hay algo que me sigue entusiasmando de scala es la gran cantidad de avances t칠cnicos que tiene. El compilador de scala es, en mi opini칩n, uno de los mejores que existe. Innovaciones como &lt;em&gt;&amp;#8220;macros&amp;#8221;&lt;/em&gt;, programaci칩n gen칠rica con &lt;a href="http://typelevel.org/"&gt;shapeless&lt;/a&gt;, las &lt;a href="http://akka.io/"&gt;akka-streams&lt;/a&gt; para microservicios o la reciente &lt;a href="http://rapture.io/"&gt;rapture.io&lt;/a&gt;, con una &lt;span class="caps"&gt;API&lt;/span&gt; magistralmente dise침ada, da idea del dinamismo que tiene este lenguaje. Algo que cuesta ver en otros&amp;nbsp;lenguajes.&lt;/p&gt;
&lt;p&gt;En fin. Espero poner en claro mucho de lo dicho aqu칤. Tambi칠n espero que mis nuevas entradas en el blog sean m치s frecuente. Hasta&amp;nbsp;pronto.&lt;/p&gt;
&lt;div class="footnote"&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id="fn:1"&gt;
&lt;p&gt;Sin menoscabo de otras expresiones art칤sticas como &lt;a href="http://haskell.cs.yale.edu/?post_type=publication&amp;amp;p=112"&gt;The Haskell School of Music&lt;/a&gt;.&amp;#160;&lt;a class="footnote-backref" href="#fnref:1" title="Jump back to footnote 1 in the text"&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id="fn:2"&gt;
&lt;p&gt;Una de la empresas que m치s est치 dinamizando haskell es &lt;a href="https://www.fpcomplete.com/"&gt;FPComplete&lt;/a&gt;, introduciendo haskell en los desarrollos para las grandes empresas.&amp;#160;&lt;a class="footnote-backref" href="#fnref:2" title="Jump back to footnote 2 in the text"&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;</content><category term="Pensamientos"></category><category term="python"></category><category term="haskell"></category><category term="scala"></category></entry><entry><title>Python Eficiente - Sobre la vida de los맖bjetos</title><link href="https://blog.ch3m4.org/2013/11/09/python-eficiente-sobre-la-vida-de-los-objetos/" rel="alternate"></link><published>2013-11-09T09:56:00+01:00</published><updated>2013-11-09T09:56:00+01:00</updated><author><name>Chema Cort칠s</name></author><id>tag:blog.ch3m4.org,2013-11-09:/2013/11/09/python-eficiente-sobre-la-vida-de-los-objetos/</id><summary type="html">&lt;p&gt;Antes de seguir adelante, necesitamos aclarar qu칠 les pasa a los objetos que creamos en una aplicaci칩n. Cu치ndo se crean, d칩nde se almacenan y c칩mo se destruyen. En definitiva, necesitamos conocer mejor la &lt;em&gt;vida de los objetos&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;El t칠rmino de &lt;strong&gt;variable&lt;/strong&gt; que usamos en programaci칩n tiene su origen en el &lt;/p&gt;</summary><content type="html">&lt;p&gt;Antes de seguir adelante, necesitamos aclarar qu칠 les pasa a los objetos que creamos en una aplicaci칩n. Cu치ndo se crean, d칩nde se almacenan y c칩mo se destruyen. En definitiva, necesitamos conocer mejor la &lt;em&gt;vida de los objetos&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;El t칠rmino de &lt;strong&gt;variable&lt;/strong&gt; que usamos en programaci칩n tiene su origen en el 츼lgebra Matem치tica. Una variable representa cada uno de los &lt;em&gt;grados de libertad&lt;/em&gt; que tenemos, de forma que cambiando su valor obtendr칤amos diferentes resultados de una&amp;nbsp;expresi칩n.&lt;/p&gt;
&lt;p&gt;Los primeros &lt;em&gt;lenguajes imperativos&lt;/em&gt;, sobre todo &lt;span class="caps"&gt;BASIC&lt;/span&gt;, definieron las &lt;em&gt;variables&lt;/em&gt; como espacios de memoria donde almacenar los distintos valores que necesitaba la &lt;em&gt;&lt;span class="caps"&gt;CPU&lt;/span&gt;&lt;/em&gt; en sus operaciones. Cada variable se &lt;em&gt;marcaba&lt;/em&gt; con un nombre 칰nico y se le asignaba un espacio en memoria. Con el fin de reducir el consumo de memoria, estas variables eran reutilizadas una y otra vez a lo largo del&amp;nbsp;programa.&lt;/p&gt;
&lt;p&gt;&lt;img alt="Variables de memoria" src="https://blog.ch3m4.org/pictures/memvar.jpg"&gt;&lt;/p&gt;
&lt;p&gt;Con los lenguajes procedurales y lenguajes orientados a objetos se cambi칩 este concepto. Los nombres de variables ya no eran 칰nicos. Dos variables pod칤an tener el mismo nombre en distintos 치mbitos (&lt;em&gt;scopes&lt;/em&gt;), as칤 como dos variables pod칤an representar el mismo dato. El nombre de la variable dej칩 de representar el espacio f칤sico en memoria para convertirse en un alias con el que nombrar a la variable. El proceso de enlazar un nombre con un valor se llam칩 &lt;em&gt;binding&lt;/em&gt; (&lt;em&gt;enlace&lt;/em&gt;) y se hizo fundamental para el funcionamiento de las &lt;em&gt;clausuras&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Se puede definir una variable como la &lt;strong&gt;&lt;em&gt;&amp;#8220;uni칩n de un nombre y un valor a trav칠s de un enlace&amp;#8221;&lt;/em&gt;&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;&lt;img alt="Enlaces de nombres y objetos" src="https://blog.ch3m4.org/pictures/etiquetas.jpg"&gt;&lt;/p&gt;
&lt;p&gt;Con este punto de vista, cuando hablamos de &lt;em&gt;&amp;#8220;modificar&amp;#8221;&lt;/em&gt; una variable tenemos dos modos de&amp;nbsp;hacerlo:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Modificando el &lt;em&gt;valor&lt;/em&gt; al que&amp;nbsp;apunta&lt;/li&gt;
&lt;li&gt;Modificando el &lt;em&gt;enlace&lt;/em&gt; para apunte a otro&amp;nbsp;valor&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Nosotros no sabemos, en realidad, c칩mo se modifican las variables. Lo 칰nico que nos tiene que importar es que nuestra variable modificada apuntar치 al nuevo valor. As칤 pues, cuando tenemos un&amp;nbsp;c칩digo:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;12&lt;/span&gt;
&lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;Seguimos diciendo que &lt;em&gt;&amp;#8220;a la variable X le asignamos el valor entero 12&amp;#8221;&lt;/em&gt;, pero lo correcto ser칤a decir que &lt;em&gt;&amp;#8220;al entero 12 lo llamaremos X&amp;#8221;&lt;/em&gt;. Y en lugar de decir que &lt;em&gt;&amp;#8220;a la variable Y le asignamos la variable X&amp;#8221;&lt;/em&gt;, lo correcto ser칤a decir que &lt;em&gt;&amp;#8220;la variable X tambi칠n se va a llamar Y&amp;#8221;&lt;/em&gt;. Pero la costumbre pesa m치s que la&amp;nbsp;correcci칩n.&lt;/p&gt;
&lt;p&gt;Pensando en un lenguaje de programaci칩n como Python, donde todo son objetos, podemos ver nuestro entorno como un gran &lt;em&gt;ecosistema&lt;/em&gt; poblado de objetos de todo tipo, que se crean, interaccionan y se destruyen. Al principio de una aplicaci칩n, s칩lo contamos con acceso a unos pocos objetos y nos las tenemos que apa침ar para acceder al resto de objetos a trav칠s de operaciones y llamadas a los distintos m칩dulos disponibles. Nuestro espacio de nombres inicial se ir치 expandiendo progresivamente con las referencias de los objetos de nuestro mundo&amp;nbsp;conocido.&lt;/p&gt;
&lt;h2&gt;Ciclo de la vida de un&amp;nbsp;objeto&lt;/h2&gt;
&lt;p&gt;Lo primero que hay que tener claro es que en python no tenemos verdadero control sobre la &lt;strong&gt;creaci칩n&lt;/strong&gt; y &lt;strong&gt;destrucci칩n&lt;/strong&gt; de los objetos. S칩lo podemos asegurar que un objeto &lt;strong&gt;existe mientras haya una referencia que lo enlace&lt;/strong&gt;. Para saber qu칠 pasa, tendremos que indagar en el funcionamiento del int칠rprete&amp;nbsp;python.&lt;/p&gt;
&lt;h3&gt;Objetos&amp;nbsp;b치sicos&lt;/h3&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;En esta expresi칩n, el int칠rprete emplea dos objetos existentes, &amp;#8216;&lt;code&gt;2&lt;/code&gt;&lt;span class="quo"&gt;&amp;#8216;&lt;/span&gt; y &amp;#8216;&lt;code&gt;3&lt;/code&gt;&lt;span class="quo"&gt;&amp;#8216;&lt;/span&gt;, y obtiene un tercer objeto, &amp;#8216;&lt;code&gt;5&lt;/code&gt;&lt;span class="quo"&gt;&amp;#8216;&lt;/span&gt;, al que asigna el nombre de &amp;#8216;&lt;code&gt;x&lt;/code&gt;&lt;span class="quo"&gt;&amp;#8216;&lt;/span&gt;. El objeto &amp;#8216;&lt;code&gt;5&lt;/code&gt;&lt;span class="quo"&gt;&amp;#8216;&lt;/span&gt; no sabemos si lo ha creado en el momento de evaluar la expresi칩n o si ya&amp;nbsp;exist칤a.&lt;/p&gt;
&lt;p&gt;Como optimizaci칩n del int칠rprete, siempre est치n creados un conjunto de los objetos m치s comunes. Estos objetos son los n칰meros enteros desde -5 a 256 (incluido el 0), los booleanos &lt;code&gt;True&lt;/code&gt; y &lt;code&gt;False&lt;/code&gt;, &lt;code&gt;None&lt;/code&gt; y los conjuntos vac칤os inmutables &lt;code&gt;()&lt;/code&gt;, &lt;code&gt;frozenset()&lt;/code&gt; y &lt;code&gt;""&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Para saber si dos objetos son el mismo, podemos usar la funci칩n &lt;code&gt;id&lt;/code&gt;. Podemos decir que dos objetos son el mismo si la funci칩n &lt;code&gt;id&lt;/code&gt; devuelve el mismo valor. As칤, podr칤amos obtener f치cilmente la lista de los n칰meros enteros que siempre tiene creados el&amp;nbsp;int칠rprete:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;j&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;zip&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;100&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;1000&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;&lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;100&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;1000&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="nb"&gt;id&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="nb"&gt;id&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;j&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;h3&gt;Internalizaci칩n de&amp;nbsp;cadenas&lt;/h3&gt;
&lt;p&gt;M치s curiosas resultan las &lt;em&gt;&amp;#8220;internalizaciones&amp;#8221;&lt;/em&gt; de las cadenas de caracteres. Para acelerar las b칰squedas, el int칠rprete mantiene una tabla global interna con las palabras usadas en nombres de variables, funciones, m칩dulos, etc. Adicionalmente, toda cadena de caracteres que usemos que cumpla con las reglas sint치cticas para ser nombres de variables acabar치n autom치camente dentro de esta tabla&amp;nbsp;interna.&lt;/p&gt;
&lt;p&gt;Adem치s de este funcionamiento autom치tico, podemos forzar a que una cadena entre en esta tabla con la funci칩n &lt;code&gt;intern&lt;/code&gt; (&lt;code&gt;sys.intern&lt;/code&gt; en&amp;nbsp;python3).&lt;/p&gt;
&lt;p&gt;Pues bien, todas las cadenas de caracteres de la tabla interna s칩lo son creadas una vez durante toda la ejecuci칩n del programa y permacer치n ah칤 hasta el&amp;nbsp;final.&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt; 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;hola&amp;quot;&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;hola&amp;quot;&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="nb"&gt;id&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="nb"&gt;id&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="kc"&gt;True&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;hola mundo&amp;quot;&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;hola mundo&amp;quot;&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="nb"&gt;id&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="nb"&gt;id&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="kc"&gt;False&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;intern&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;hola mundo&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;intern&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;hola mundo&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="nb"&gt;id&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="nb"&gt;id&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="kc"&gt;True&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;No siempre funciona el mecanismo de &lt;em&gt;internalizaci칩n&lt;/em&gt; y el int칠rprete crea una nueva cadena de&amp;nbsp;caracteres:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3
4
5
6
7&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;hola&amp;quot;&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;HOLA&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;lower&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="nb"&gt;id&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="nb"&gt;id&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="kc"&gt;False&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;intern&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;HOLA&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;lower&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="nb"&gt;id&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="nb"&gt;id&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="kc"&gt;True&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;Por culpa de la &lt;em&gt;internalizaci칩n&lt;/em&gt; nunca podremos estar seguros de cu치ndo se crea una cadena de caracteres. M치s all치 de este hecho, nunca nos deber칤a preocupar el internalizar o no las cadenas de caracteres que usemos. Al menos, yo no he encontrado ninguna ventaja concreta de&amp;nbsp;hacerlo.&lt;/p&gt;
&lt;h3&gt;Asignaciones&lt;/h3&gt;
&lt;p&gt;Ya hemos comentado que una asignaci칩n directa no crea un objeto nuevo, si no que enlaza una nueva etiqueta con el objeto&amp;nbsp;existente:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;En este caso, el mismo objeto al que apunta &amp;#8216;&lt;code&gt;y&lt;/code&gt;&lt;span class="quo"&gt;&amp;#8216;&lt;/span&gt; tambi칠n ser치 al que apunte &amp;#8216;&lt;code&gt;x&lt;/code&gt;&lt;span class="quo"&gt;&amp;#8216;&lt;/span&gt;. Muchas veces no querremos que esto ocurra, sobre todo en el caso de listas. El truco consiste en convertir la asignaci칩n directa en una expresi칩n que cree un nuevo objeto, pero de igual valor. Para ello usaremos las operaciones &lt;strong&gt;idempotentes&lt;/strong&gt; para cada tipo de&amp;nbsp;dato:&lt;/p&gt;
&lt;p&gt;Para n칰meros en general, podemos usar los elementos neutros de las operaciones &lt;code&gt;y*1&lt;/code&gt; 칩 &lt;code&gt;y+0&lt;/code&gt;:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3
4
5
6
7
8
9&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;2.0&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="nb"&gt;id&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="nb"&gt;id&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="kc"&gt;True&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="nb"&gt;id&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="nb"&gt;id&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="kc"&gt;False&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;
&lt;span class="kc"&gt;True&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;En el caso de listas, por convenio se suele usar el operador &lt;em&gt;split&lt;/em&gt; &lt;code&gt;lista[:]&lt;/code&gt;, pero podr칤amos usar cualquier otro como &lt;code&gt;lista*1&lt;/code&gt; o &lt;code&gt;lista+[]&lt;/code&gt;.&lt;/p&gt;
&lt;h3&gt;Destrucci칩n de un&amp;nbsp;objeto&lt;/h3&gt;
&lt;p&gt;Saber cu치ndo acaba la vida de un objeto suele ser la parte que m치s despista a quienes vienen a python desde otros lenguajes donde se acostumbra a hacer desaparecer un objeto por la&amp;nbsp;fuerza.&lt;/p&gt;
&lt;p&gt;Una vez m치s: en python, &lt;strong&gt;un objeto existe mientras est칠 referenciado&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;S칩lo cuando desaparezca la 칰ltima referencia al objeto se llamar치 a su &lt;em&gt;destructor&lt;/em&gt; (m칠todo &lt;code&gt;__del__&lt;/code&gt;) y ser치 eliminado de&amp;nbsp;memoria.&lt;/p&gt;
&lt;p&gt;No nos preocupamos de ello, pero cuando finaliza la ejecuci칩n de una funci칩n o de un m칠todo, desaparecen todas las referencias que hab칤amos creado. No hace falta que lo hagamos expl칤citamente. Todos los objetos creados durante la ejecuci칩n dejan de estar referenciados y ser치n destruidos, con excepci칩n de aquellos que se retornen como&amp;nbsp;resultado.&lt;/p&gt;
&lt;p&gt;Pero hay veces que guardamos referencias a objetos que ya no nos hacen falta, y no somos muy conscientes de que por culpa de estas referencias estos objetos no son destru칤dos. Por ejemplo, es frecuente ver aplicaciones que mantienen una lista de ventanas abiertas. Por culpa de esta lista, las ventanas siempre estar치n referencias. Si en el destructor estaba el c칩digo para eliminar la ventana y sus componentes, resulta que nunca ser치 llamado. Hace falta eliminar la referencia de la lista de ventanas para que la ventana sea destruida&amp;nbsp;finalmente.&lt;/p&gt;
&lt;p&gt;En pr칩ximos art칤culos veremos t칠cnicas mejores, como son usar &lt;em&gt;&amp;#8220;referencias d칠biles&amp;#8221;&lt;/em&gt; (&lt;em&gt;weakrefs&lt;/em&gt;). Las &lt;em&gt;weakrefs&lt;/em&gt; vienen a ser referencias a objetos que no obligan a que el objeto est칠 siempre vivo. Si todas las referencias un objeto son &lt;em&gt;weakrefs&lt;/em&gt;, entonces el objeto podr치 ser&amp;nbsp;destru칤do.&lt;/p&gt;
&lt;h3&gt;Referencias&amp;nbsp;circulares&lt;/h3&gt;
&lt;p&gt;Algunas veces, los objetos mantienen referencias entre ellos conocidas por &lt;em&gt;&amp;#8220;referencias circulares&amp;#8221;&lt;/em&gt;:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3
4
5&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[]&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;
&lt;span class="p"&gt;[[[&lt;/span&gt;&lt;span class="o"&gt;...&lt;/span&gt;&lt;span class="p"&gt;]]]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;De querer eliminar ambos objetos, no podr칤amos hacer nada al estar referenciados mutuamente. Para estos casos, el int칠rprete de python tiene un proceso propio que se dedica a detectar estas referencias circulares llamado &lt;strong&gt;&amp;#8220;Recolector de Basura&amp;#8221;&lt;/strong&gt;, m치s conocido por sus siglas &lt;em&gt;&lt;span class="caps"&gt;GC&lt;/span&gt;&lt;/em&gt; (&lt;em&gt;Garbage Collector&lt;/em&gt;). &lt;span class="caps"&gt;GC&lt;/span&gt; es un proceso que est치 permanentemente explorando la memoria para mantenerla limpia de objetos innecesarios, siendo parte vital para el correcto funcionamiento del int칠rprete. (M치s informaci칩n, en la documentaci칩n del &lt;a href="http://docs.python.org/2.7/library/gc.html" title="M칩dulo gc"&gt;m칩dulo &lt;code&gt;gc&lt;/code&gt;&lt;/a&gt;).&lt;/p&gt;</content><category term="Python"></category><category term="oop"></category></entry><entry><title>Python Eficiente - Hacia la programaci칩n맍uncional</title><link href="https://blog.ch3m4.org/2013/10/26/python-eficiente-hacia-la-programacion-funcional/" rel="alternate"></link><published>2013-10-26T13:03:00+02:00</published><updated>2013-10-26T13:03:00+02:00</updated><author><name>Chema Cort칠s</name></author><id>tag:blog.ch3m4.org,2013-10-26:/2013/10/26/python-eficiente-hacia-la-programacion-funcional/</id><summary type="html">&lt;p&gt;Existen muchas definiciones de &lt;strong&gt;Programaci칩n Funcional&lt;/strong&gt;, as칤 como comparativas con otros &lt;em&gt;paradigmas&lt;/em&gt; de la programaci칩n que m치s parece una cuesti칩n de gustos que una visi칩n razonada de ventajas e incovenientes. No voy a entrar en definiciones tediosas que necesitan demasiadas explicaciones. Prefiero verlo m치s como si se tratara de una &lt;/p&gt;</summary><content type="html">&lt;p&gt;Existen muchas definiciones de &lt;strong&gt;Programaci칩n Funcional&lt;/strong&gt;, as칤 como comparativas con otros &lt;em&gt;paradigmas&lt;/em&gt; de la programaci칩n que m치s parece una cuesti칩n de gustos que una visi칩n razonada de ventajas e incovenientes. No voy a entrar en definiciones tediosas que necesitan demasiadas explicaciones. Prefiero verlo m치s como si se tratara de una confrontaci칩n entre ingenieros y&amp;nbsp;matem치ticos.&lt;/p&gt;
&lt;p&gt;Un ingeniero piensa m치s en n칰meros que hay que traer de una zona de memoria, operar con ellos y luego almacenar hasta la siguiente operaci칩n. Un matem치tico es m치s de dejar las operaciones para el final. Asigna a cada n칰mero una letra, al resultado lo llama &lt;em&gt;incognita&lt;/em&gt;, e intenta operar algebraicamente. As칤, a &lt;em&gt;grosso modo&lt;/em&gt;, estar칤amos hablando de &lt;em&gt;programaci칩n imperativa&lt;/em&gt; versus &lt;em&gt;programaci칩n funcional&lt;/em&gt;,&amp;nbsp;respectivamente.&lt;/p&gt;
&lt;p&gt;Para lo que nos interesa en python, la visi칩n de retrasar las operaciones hasta el final es la caracter칤stica de la programaci칩n funcional que m치s nos puede interesar. Nos va a permitir crear c칩digo m치s eficiente, adem치s de enfocar algunos problemas desde un punto completamente diferente, m치s &lt;em&gt;matem치tico&lt;/em&gt; si&amp;nbsp;cabe.&lt;/p&gt;
&lt;p&gt;Podr칤a haber llamado a esta serie de art칤culos &lt;em&gt;&amp;#8220;Python Funcional&amp;#8221;&lt;/em&gt;, pero es casi seguro que mucha gente hubiera pasado de ellos por considerar esta tem치tica un rollazo, radicalmente distinta de c칩mo se ense침a la programaci칩n hoy en d칤a (a mi juicio,&amp;nbsp;equivocada).&lt;/p&gt;
&lt;p&gt;En cambio, llam치ndolos &lt;em&gt;&amp;#8220;Python Eficiente&amp;#8221;&lt;/em&gt; seguro que a m치s de uno le pica la curiosidad. En realidad, mi objetivo no es s칩lo hablar de programaci칩n funcional. Tambi칠n tratar치 de crear c칩digo que consuma menos recursos tales como tiempo de &lt;span class="caps"&gt;CPU&lt;/span&gt; o memoria. En definitiva, que problemas que cre칤amos fuera de nuestro alcance, podamos resolverlos con nuestros humildes&amp;nbsp;medios.&lt;/p&gt;
&lt;p&gt;No te pierdas los pr칩ximos&amp;nbsp;art칤culos.&lt;/p&gt;</content><category term="Python"></category><category term="functional programming"></category></entry><entry><title>Clausuras en python - Parte2</title><link href="https://blog.ch3m4.org/2013/10/26/clausuras-en-python-parte-2/" rel="alternate"></link><published>2013-10-26T04:15:00+02:00</published><updated>2021-01-10T20:03:45+01:00</updated><author><name>Chema Cort칠s</name></author><id>tag:blog.ch3m4.org,2013-10-26:/2013/10/26/clausuras-en-python-parte-2/</id><summary type="html">&lt;h2&gt;츼mbitos&amp;nbsp;anidados&lt;/h2&gt;
&lt;p&gt;La importancia de disponer de &lt;em&gt;clausuras&lt;/em&gt; va m치s all치 de saber d칩nde se eval칰a
la funci칩n. Si fuera posible encapsular una funci칩n junto con su propio entorno
de ejecuci칩n, podr칤amos conseguir que la funci칩n tenga &lt;em&gt;&amp;#8220;memoria&amp;#8221;&lt;/em&gt; o, dicho de
otro modo, que sea capaz de conservar sus propios &lt;/p&gt;</summary><content type="html">&lt;h2&gt;츼mbitos&amp;nbsp;anidados&lt;/h2&gt;
&lt;p&gt;La importancia de disponer de &lt;em&gt;clausuras&lt;/em&gt; va m치s all치 de saber d칩nde se eval칰a
la funci칩n. Si fuera posible encapsular una funci칩n junto con su propio entorno
de ejecuci칩n, podr칤amos conseguir que la funci칩n tenga &lt;em&gt;&amp;#8220;memoria&amp;#8221;&lt;/em&gt; o, dicho de
otro modo, que sea capaz de conservar sus propios estados entre llamadas a la
funci칩n. Este &lt;em&gt;empaquetado&lt;/em&gt; de funci칩n y entorno de ejecuci칩n se denomina a
veces &lt;strong&gt;clausuras verdaderas&lt;/strong&gt; y suele ser la principal caracter칤stica de los
llamados &lt;em&gt;Lenguajes Funcionales&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;En python podemos crear estas &lt;em&gt;clausuras verdaderas&lt;/em&gt; con *&lt;em&gt;funciones anidadas&lt;/em&gt;,
donde una funci칩n est치 definida dentro del 치mbito de la&amp;nbsp;otra.&lt;/p&gt;
&lt;p&gt;Un ejemplo&amp;nbsp;sencillo:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt; 1
 2
 3
 4
 5
 6
 7
 8
 9
10&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;incr&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;aux&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;n&lt;/span&gt;

    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;aux&lt;/span&gt;


&lt;span class="n"&gt;inc5&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;incr&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;inc5&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;  &lt;span class="c1"&gt;# --&amp;gt;15&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;Como resultado se devuelve la funci칩n &lt;code&gt;aux&lt;/code&gt;, definida dentro del 치mbito de
&lt;code&gt;incr&lt;/code&gt; y que emplea de 칠ste la variable &lt;code&gt;n&lt;/code&gt;. Internamente, se conserva la
referencia a la variable &lt;code&gt;n&lt;/code&gt;, pero no ser치 accesible desde fuera de la funci칩n
&lt;code&gt;aux&lt;/code&gt;. Hemos podido empaquetar la funci칩n junto con el entorno donde se&amp;nbsp;defini칩.&lt;/p&gt;
&lt;p&gt;Pongamos otro&amp;nbsp;ejemplo:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt; 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;count&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;
    &lt;span class="n"&gt;num&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;aux&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;
        &lt;span class="n"&gt;num&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;num&lt;/span&gt;

    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;aux&lt;/span&gt;


&lt;span class="n"&gt;c1&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;count&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;

&lt;span class="n"&gt;c1&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;  &lt;span class="c1"&gt;# --&amp;gt; 1&lt;/span&gt;
&lt;span class="n"&gt;c1&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;  &lt;span class="c1"&gt;# --&amp;gt; 2&lt;/span&gt;
&lt;span class="n"&gt;c1&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;  &lt;span class="c1"&gt;# --&amp;gt; 3&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;Si pruebas este c칩digo te dar치 error. La funci칩n anidada &lt;code&gt;aux&lt;/code&gt; intenta modificar
la variable &lt;code&gt;num&lt;/code&gt;. Para este caso, la variable se crea dentro del 치mbito m치s
interno, en lugar de usar la variable disponible. Y como se intenta modificar la
variable antes de asignarle un valor, entonces se produce el&amp;nbsp;error.&lt;/p&gt;
&lt;p&gt;Como soluci칩n, podr칤amos hacer la variable &lt;code&gt;num&lt;/code&gt; global para que fuera accesible
por todos los 치mbitos. Pero esta soluci칩n no es buena ya que nos abrir칤a el
empaquetado. Para python3 podr칤amos declarar la variable como &lt;code&gt;nonlocal&lt;/code&gt; para
que se busque en los 치mbitos&amp;nbsp;superiores:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3
4
5
6
7
8
9&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;count&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;
    &lt;span class="n"&gt;num&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;aux&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;
        &lt;span class="k"&gt;nonlocal&lt;/span&gt; &lt;span class="n"&gt;num&lt;/span&gt;
        &lt;span class="n"&gt;num&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;num&lt;/span&gt;

    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;aux&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;Como soluci칩n para salir del paso, se puede evitar la reasignaci칩n de variables.
Por ejemplo, usando una&amp;nbsp;lista:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3
4
5
6
7
8&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;count&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;
    &lt;span class="n"&gt;num&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;aux&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;
        &lt;span class="n"&gt;num&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;num&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;

    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;aux&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;Ya s칠 que no es muy elegante, pero hay otras formas de hacerlo&amp;nbsp;mejor.&lt;/p&gt;
&lt;h2&gt;Generadores&lt;/h2&gt;
&lt;p&gt;Una de las formas m치s comunes de usar clausuras es a trav칠s de &lt;strong&gt;generadores&lt;/strong&gt;.
B치sicamente, son funciones que en lugar de usar &lt;code&gt;return&lt;/code&gt; utilizan &lt;code&gt;yield&lt;/code&gt; para
devolver un valor. Entre invocaciones, se conserva el entorno de ejecuci칩n y
contin칰an desde el punto desde donde estaba. Para el ejemplo&amp;nbsp;anterior:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt; 1
 2
 3
 4
 5
 6
 7
 8
 9
10&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;count&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;
    &lt;span class="n"&gt;num&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;
    &lt;span class="k"&gt;while&lt;/span&gt; &lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;num&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;
        &lt;span class="k"&gt;yield&lt;/span&gt; &lt;span class="n"&gt;num&lt;/span&gt;


&lt;span class="n"&gt;c1&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;count&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="nb"&gt;next&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;c1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;  &lt;span class="c1"&gt;# --&amp;gt; 1&lt;/span&gt;
&lt;span class="nb"&gt;next&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;c1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;  &lt;span class="c1"&gt;# --&amp;gt; 2&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;h2&gt;Objetos&amp;nbsp;funciones&lt;/h2&gt;
&lt;p&gt;En los ejemplos que hemos visto, podr칤amos tener varias clausuras de una misma
funci칩n. Si hemos hecho bien las tareas, la ejecuci칩n de estas clausuras son&amp;nbsp;independientes:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3
4
5
6
7
8&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;c1&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;count&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;c2&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;count&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;

&lt;span class="nb"&gt;next&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;c1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;  &lt;span class="c1"&gt;# --&amp;gt;1&lt;/span&gt;
&lt;span class="nb"&gt;next&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;c1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;  &lt;span class="c1"&gt;# --&amp;gt;2&lt;/span&gt;
&lt;span class="nb"&gt;next&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;c2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;  &lt;span class="c1"&gt;# --&amp;gt;1&lt;/span&gt;
&lt;span class="nb"&gt;next&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;c2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;  &lt;span class="c1"&gt;# --&amp;gt;2&lt;/span&gt;
&lt;span class="nb"&gt;next&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;c1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;  &lt;span class="c1"&gt;# --&amp;gt;3&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;Con ello es posible establecer una analog칤a con clases y objetos. La definici칩n
de la funci칩n ser칤a la &lt;em&gt;clase&lt;/em&gt; y la clausura la &lt;em&gt;instancia&lt;/em&gt; de la&amp;nbsp;clase.&lt;/p&gt;
&lt;p&gt;쯏 si lo hacemos posible? En python se denominan &lt;em&gt;callables&lt;/em&gt; a todo objeto que
tenga un m칠todo &lt;code&gt;__call__&lt;/code&gt;, comport치ndose como si fueran funciones
(&lt;em&gt;Functores&lt;/em&gt;). Contruyamos una &lt;em&gt;callable&lt;/em&gt; que funcione como una funci칩n con&amp;nbsp;clausura:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt; 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;Count&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;object&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="fm"&gt;__init__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;num&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="fm"&gt;__call__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;num&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;num&lt;/span&gt;


&lt;span class="n"&gt;c1&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Count&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;c1&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;  &lt;span class="c1"&gt;# --&amp;gt;1&lt;/span&gt;
&lt;span class="n"&gt;c1&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;  &lt;span class="c1"&gt;# --&amp;gt;2&lt;/span&gt;
&lt;span class="n"&gt;c1&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;  &lt;span class="c1"&gt;# --&amp;gt;3&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;Sin duda es la manera m치s elegante de usar clausuras que tenemos en python.
Evita muchos problemas y nos da una gran potencia a la hora de resolver algunos&amp;nbsp;problemas.&lt;/p&gt;
&lt;p&gt;Por ejemplo: imagina que queremos recorrer una lista de n칰meros, excluyendo los
que sean pares, y siempre que la suma total de los n칰meros que ya hemos visitado
no supere cierto&amp;nbsp;l칤mite.&lt;/p&gt;
&lt;p&gt;En una primera aproximaci칩n se podr칤a crear un&amp;nbsp;generador:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt; 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;recorr&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;lista&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;maximo&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;total&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;
    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;lista&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt; &lt;span class="o"&gt;!=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;total&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="n"&gt;maximo&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                &lt;span class="n"&gt;total&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt;
                &lt;span class="k"&gt;yield&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt;
            &lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                &lt;span class="k"&gt;break&lt;/span&gt;


&lt;span class="n"&gt;recorr&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;7&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;8&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;11&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;23&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="mi"&gt;30&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c1"&gt;#--&amp;gt;[3,7,11]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;Est치 bien, pero no es f치cil de usar. Aunque s칩lo necesitemos algunos elementos,
seguramente estemos obligados a crear una lista completa con todos los
valores&lt;sup id="fnref:1"&gt;&lt;a class="footnote-ref" href="#fn:1"&gt;1&lt;/a&gt;&lt;/sup&gt;. Encima, no tenemos acceso a la variable &lt;code&gt;total&lt;/code&gt; para saber cu치nto
han sumado el&amp;nbsp;resultado.&lt;/p&gt;
&lt;p&gt;Una alternativa con objetos funciones, mucho m치s&amp;nbsp;elegante:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt; 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;RecorrFunc&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;object&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="fm"&gt;__init__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;maximo&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;maximo&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;maximo&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;total&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;filter&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;item&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="n"&gt;res&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;item&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt; &lt;span class="o"&gt;!=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="ow"&gt;and&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;total&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;item&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;maximo&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;res&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;total&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="n"&gt;item&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;res&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="fm"&gt;__call__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;lista&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;lista&lt;/span&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;filter&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt;


&lt;span class="n"&gt;recorr&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;RecorrFunc&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;30&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;recorr&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;7&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;8&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;11&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;23&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;  &lt;span class="c1"&gt;# --&amp;gt;[3,7,11]&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;recorr&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;total&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;  &lt;span class="c1"&gt;# --&amp;gt;21&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;Las posibilidades de los objetos funci칩n son muchas. Del mismo modo que se
devuelve una lista, ser칤a posible devolver un iterador. Empleando las funciones
del m칩dulo &lt;code&gt;itertools&lt;/code&gt;, y algunos trucos m치s, podr칤amos aplicar los principios
de la programaci칩n funcional en python sin&amp;nbsp;problemas.&lt;/p&gt;
&lt;p&gt;Pero 칠so lo veremos en pr칩ximos&amp;nbsp;art칤culos.&lt;/p&gt;
&lt;div class="footnote"&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id="fn:1"&gt;
&lt;p&gt;No sabemos de antemano cu치ntos items vamos a obtener. Si, por ejemplo,
necesitamos s칩lo los tres primeros, tendremos que iterar elemento a elemento
hasta llegar a los tres que necesitamos o, bien, hasta que quede exhausto el
iterador. Con la soluci칩n con funtores el proceso es mucho m치s directo y
eficiente.&amp;#160;&lt;a class="footnote-backref" href="#fnref:1" title="Jump back to footnote 1 in the text"&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;</content><category term="Python"></category><category term="closures"></category></entry><entry><title>Clausuras en python - Parte1</title><link href="https://blog.ch3m4.org/2013/10/25/clausuras-en-python-parte-1/" rel="alternate"></link><published>2013-10-25T21:02:00+02:00</published><updated>2021-01-10T19:58:16+01:00</updated><author><name>Chema Cort칠s</name></author><id>tag:blog.ch3m4.org,2013-10-25:/2013/10/25/clausuras-en-python-parte-1/</id><summary type="html">&lt;h2&gt;Funciones&amp;nbsp;Lambda&lt;/h2&gt;
&lt;p&gt;Antes de ver qu칠 son las &lt;strong&gt;clausuras&lt;/strong&gt; (&lt;em&gt;closures&lt;/em&gt;), veamos qu칠 tienen las
&lt;em&gt;funciones lambda&lt;/em&gt; que las hacen tan pol칠micas algunas&amp;nbsp;veces.&lt;/p&gt;
&lt;p&gt;Comencemos con un ejemplo. Te recomiendo que te esfuerces en deducir c칩mo
funciona sin ir a probar c칩mo funciona. A continuaci칩n te pondr칠 algunos valores
para que &lt;/p&gt;</summary><content type="html">&lt;h2&gt;Funciones&amp;nbsp;Lambda&lt;/h2&gt;
&lt;p&gt;Antes de ver qu칠 son las &lt;strong&gt;clausuras&lt;/strong&gt; (&lt;em&gt;closures&lt;/em&gt;), veamos qu칠 tienen las
&lt;em&gt;funciones lambda&lt;/em&gt; que las hacen tan pol칠micas algunas&amp;nbsp;veces.&lt;/p&gt;
&lt;p&gt;Comencemos con un ejemplo. Te recomiendo que te esfuerces en deducir c칩mo
funciona sin ir a probar c칩mo funciona. A continuaci칩n te pondr칠 algunos valores
para que elijas los valores de las tres&amp;nbsp;listas:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt; 1
 2
 3
 4
 5
 6
 7
 8
 9
10&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;    &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;
    &lt;span class="n"&gt;add_one&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;lambda&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt;

    &lt;span class="n"&gt;lista1&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;add_one&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;]]&lt;/span&gt;

    &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;
    &lt;span class="n"&gt;lista2&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;add_one&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;]]&lt;/span&gt;

    &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;
    &lt;span class="n"&gt;lista3&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;add_one&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;]]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;Valores para &lt;code&gt;lista1&lt;/code&gt;:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;[0, 1, 2]&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;[1, 2, 3]&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;[0, 2, 4]&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;[1, 3, 5]&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Valores para &lt;code&gt;lista2&lt;/code&gt;:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;[0, 1, 2]&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;[1, 2, 3]&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;[0, 2, 4]&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;[1, 3, 5]&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Valores para &lt;code&gt;lista3&lt;/code&gt;:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;[0, 1, 2]&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;[1, 2, 3]&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;[2, 3, 4]&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;[1, 3, 5]&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Las soluciones est치n al final del art칤culo&lt;sup id="fnref:1"&gt;&lt;a class="footnote-ref" href="#fn:1"&gt;1&lt;/a&gt;&lt;/sup&gt;, pero puedes probarlo ahora para
que lo veas t칰&amp;nbsp;mismo.&lt;/p&gt;
&lt;h3&gt;쯈u칠 es lo que ha&amp;nbsp;pasado?&lt;/h3&gt;
&lt;p&gt;Contrariamente a lo que estamos acostrumbrados con las funciones normales, la
evaluaci칩n de una &lt;em&gt;funci칩n lambda&lt;/em&gt; se hace dentro del entorno donde se ejecuta,
independiente del entorno donde se ha definido. As칤 pu칠s, en la &lt;em&gt;funci칩n lambda&lt;/em&gt;
&lt;code&gt;lambda x: x+i&lt;/code&gt;, la variable &lt;code&gt;i&lt;/code&gt; toma el valor de esta variable en el momento de
evaluar la funci칩n. Como se usa esta variable para la compresi칩n de la lista,
ir치 cambiando de valor a medida que se recorre la lista &lt;code&gt;[0,1,2]&lt;/code&gt;, por lo que la
expresi칩n &lt;code&gt;add_one(i)&lt;/code&gt; termina convirti칠ndose en la expresi칩n &lt;code&gt;i+i&lt;/code&gt;, y la
expresi칩n &lt;code&gt;add_one(i+1)&lt;/code&gt; en &lt;code&gt;i+1+i&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Tiene un funcionamiento similar a los &lt;em&gt;macros&lt;/em&gt;, donde se sustituye
&lt;em&gt;literalmente&lt;/em&gt; la llamada a la funci칩n por la expresi칩n equivalente. En python3,
se hace m치s evidente al denominarse &lt;em&gt;expresiones lambda&lt;/em&gt; en lugar de &lt;em&gt;funciones
lambda&lt;/em&gt;.&lt;/p&gt;
&lt;h2&gt;Clausuras&lt;/h2&gt;
&lt;p&gt;En una funci칩n podemos distinguir dos&amp;nbsp;partes:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;C칩digo&amp;nbsp;ejecutable&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Entorno de evaluaci칩n&lt;/strong&gt;, m치s conocido por &lt;strong&gt;츼mbito&lt;/strong&gt; o &lt;strong&gt;Scope&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Antes de ejecutar el c칩digo de la funci칩n, se aumenta el entorno de evaluaci칩n
con los &lt;em&gt;argumentos de entrada&lt;/em&gt; de la&amp;nbsp;funci칩n.&lt;/p&gt;
&lt;p&gt;Seg칰n en qu칠 entorno se evalua la funci칩n, tenemos dos&amp;nbsp;치mbitos:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Clausura&lt;/strong&gt;, tambi칠n llamado &lt;strong&gt;츼mbito l칠xico&lt;/strong&gt; o &lt;strong&gt;츼mbito
  Est치tico&lt;/strong&gt;, cuando la funci칩n se evalua en el entorno donde se ha&amp;nbsp;definido.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;츼mbito din치mico&lt;/strong&gt; cuando se evalua en el entorno donde se invoca la&amp;nbsp;funci칩n.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Con esta definici칩n, podemos afirmar que en python las funciones tienen &lt;em&gt;치mbito
l칠xico&lt;/em&gt;, con excepci칩n de las funciones lambda que tienen &lt;em&gt;치mbito din치mico&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;No voy a considerar las ventajas de uno u otro tipo. Por lo general, las
&lt;em&gt;clausuras&lt;/em&gt; se consideran mejores para desacoplar el c칩digo de la funci칩n del
c칩digo donde se invoca, lo que ayuda mucho al mantenimiento y correcci칩n de
errores. Es por ello la manera normal de crear funciones en la mayor칤a de
lenguajes de&amp;nbsp;programaci칩n.&lt;/p&gt;
&lt;h3&gt;쮺칩mo hacer que una funci칩n lambda se comporte como si tuviera &lt;em&gt;clausura&lt;/em&gt;?&lt;/h3&gt;
&lt;p&gt;La forma de hacer que un funci칩n lambda se evalue en el entorno donde se define
consiste en pasar las variables de ese entorno que necesite en los argumentos de
entrada, casi siempre como argumentos por&amp;nbsp;defecto.&lt;/p&gt;
&lt;p&gt;En el ejemplo anterior&amp;nbsp;ser칤a:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;  &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;
  &lt;span class="n"&gt;add_one&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;lambda&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;que equivaldr치&amp;nbsp;a&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;  &lt;span class="n"&gt;add_one&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;lambda&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;En este caso &lt;code&gt;i&lt;/code&gt; se toma de los argumentos de la funci칩n, y tendr치 por defecto
el valor de &lt;code&gt;i&lt;/code&gt; en el momento de la definici칩n de la funci칩n&amp;nbsp;lambda.&lt;/p&gt;
&lt;p&gt;No es perfecto, pero es lo mejor que tenemos. Lo recomendable es evitar las
funciones lambda complejas si no queremos llevarnos algunas&amp;nbsp;sorpresas.&lt;/p&gt;
&lt;div class="footnote"&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id="fn:1"&gt;
&lt;p&gt;Los valores de las listas son las opciones 3, 3 y 4, respectivamente.&amp;#160;&lt;a class="footnote-backref" href="#fnref:1" title="Jump back to footnote 1 in the text"&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;</content><category term="Python"></category><category term="closures"></category></entry><entry><title>Nuevos planteamientos, nueva만tapa</title><link href="https://blog.ch3m4.org/2013/10/07/nuevos-planteamientos-nueva-etapa/" rel="alternate"></link><published>2013-10-07T14:45:00+02:00</published><updated>2013-10-07T14:45:00+02:00</updated><author><name>Chema Cort칠s</name></author><id>tag:blog.ch3m4.org,2013-10-07:/2013/10/07/nuevos-planteamientos-nueva-etapa/</id><summary type="html">&lt;p&gt;Si me sigues por twitter, sabr치s que he cambiado de trabajo. Aunque sigo
siendo &amp;#8220;inform치tico&amp;#8221; a todos los efectos, para mi &amp;#8220;core&amp;#8221; interno ha
supuesto un cambio radical de trabajo. Mi labor actual est치 orientada
m치s a temas de dise침o y gesti칩n de sistemas y telecomunicaciones, lo que
relega las &lt;/p&gt;</summary><content type="html">&lt;p&gt;Si me sigues por twitter, sabr치s que he cambiado de trabajo. Aunque sigo
siendo &amp;#8220;inform치tico&amp;#8221; a todos los efectos, para mi &amp;#8220;core&amp;#8221; interno ha
supuesto un cambio radical de trabajo. Mi labor actual est치 orientada
m치s a temas de dise침o y gesti칩n de sistemas y telecomunicaciones, lo que
relega las tareas de programaci칩n a un nivel&amp;nbsp;secundario.&lt;/p&gt;
&lt;p&gt;No espero que este cambio me suponga abandonar el estudio de nuevos
conceptos y metodolog칤as de la programaci칩n, como hac칤a hasta ahora. Tal
vez, s칤 que suponga que en este blog incluya temas de gesti칩n de
sistemas que hasta ahora no inclu칤a, aunque todav칤a no tengo claro en
qu칠 medida puedo aportar algo que sea original en esta&amp;nbsp;tem치tica.&lt;/p&gt;
&lt;p&gt;Lo que s칤 que me estoy planteando reducir la programaci칩n en python. No
es por ning칰n motivo especial, si no por el deseo de explorar otros
mundos como son la programaci칩n reactiva con scala y el an치lisis de
datos con R. No tener que programar en el trabajo supone una liberaci칩n
para hacer este viaje, casi como si me hubieran concedido un periodo&amp;nbsp;sab치tico.&lt;/p&gt;
&lt;p&gt;A칰n tengo en el caj칩n varios art칤culos sobre python que ir칠 publicando
progresivametne, y pienso seguir cualquier novedad que surga. Lo que
quiz치s se note m치s sea que bajar칠 mi actividad (que no desaparici칩n) en
los distintos foros python. Posiblemente, haya muchos que ni se den&amp;nbsp;cuenta.&lt;/p&gt;</content><category term="Pensamientos"></category></entry><entry><title>Estudio funci칩n factorial -맕umpy</title><link href="https://blog.ch3m4.org/2013/08/14/estudio-funcion-factorial-numpy/" rel="alternate"></link><published>2013-08-14T14:28:00+02:00</published><updated>2013-08-14T14:28:00+02:00</updated><author><name>Chema Cort칠s</name></author><id>tag:blog.ch3m4.org,2013-08-14:/2013/08/14/estudio-funcion-factorial-numpy/</id><summary type="html">&lt;p&gt;Mientras busco tiempo para preparar algunos art칤culos sobre c칩mo hacer la programaci칩n python &lt;em&gt;m치s eficiente&lt;/em&gt;, he estado revisando nuevos m칠todos de programar la funci칩n factorial en python aplicando los nuevos conocimientos&amp;nbsp;adquiridos.&lt;/p&gt;
&lt;p&gt;Como puse en un &lt;a href="https://blog.ch3m4.org/2011/06/06/estudio-funcion-factorial/"&gt;art칤culo anterior&lt;/a&gt;, la implementaci칩n m치s compacta de la funci칩n factorial ser칤a aplicando la funci칩n &lt;/p&gt;</summary><content type="html">&lt;p&gt;Mientras busco tiempo para preparar algunos art칤culos sobre c칩mo hacer la programaci칩n python &lt;em&gt;m치s eficiente&lt;/em&gt;, he estado revisando nuevos m칠todos de programar la funci칩n factorial en python aplicando los nuevos conocimientos&amp;nbsp;adquiridos.&lt;/p&gt;
&lt;p&gt;Como puse en un &lt;a href="https://blog.ch3m4.org/2011/06/06/estudio-funcion-factorial/"&gt;art칤culo anterior&lt;/a&gt;, la implementaci칩n m치s compacta de la funci칩n factorial ser칤a aplicando la funci칩n &lt;code&gt;reduce&lt;/code&gt;:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;fact&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;reduce&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;lambda&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;xrange&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;&amp;#8230;o usando el &lt;code&gt;operator.__mul__&lt;/code&gt;:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3
4&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;operator&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="fm"&gt;__mul__&lt;/span&gt;

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;fact&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;reduce&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="fm"&gt;__mul__&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;xrange&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;Tambi칠n contaba el caso de una compresi칩n de listas &lt;em&gt;&amp;#8220;bizarra&amp;#8221;&lt;/em&gt; que evitaba el uso de &lt;code&gt;reduce&lt;/code&gt; y &lt;code&gt;lambda&lt;/code&gt;:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;fact&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;j&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;j&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;xrange&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;j&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;j&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;]][&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;El problema con esta expresi칩n es que calcula todos los elementos de la lista para quedarse 칰nicamente con el 칰ltimo elemento. Una forma de hacer lo mismo, sabiendo que la funci칩n factorial es estrictamente creciente, es obteniendo el m치ximo con &lt;code&gt;max&lt;/code&gt;:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;fact&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="nb"&gt;max&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;j&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;j&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;xrange&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;j&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;j&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;Para este tipo de tareas, en las que tenemos un iterador y queremos quedarnos con el 칰ltimo elemento, resulta mucho m치s eficiente el uso de la colecci칩n &lt;code&gt;deque&lt;/code&gt; limitando el n칰mero de elementos de la&amp;nbsp;lista:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3
4&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;collections&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;deque&lt;/span&gt;

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;fact&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;deque&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="n"&gt;j&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;j&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;xrange&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;j&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;j&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;]),&lt;/span&gt; &lt;span class="n"&gt;maxlen&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;Por comparar tiempos, para el c칩mputo de &lt;code&gt;fact(10000)&lt;/code&gt; me salen estos&amp;nbsp;tiempos:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3
4
5&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;reduce+lambda        72.0 ms
reduce+operator      71.2 ms
comprensi칩n listas  173.0 ms
funci칩n max          75.1 ms
deque                75.5 ms
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;Como se puede apreciar que los tiempos son muy similares (con la excepci칩n de la compresi칩n de listas debido a su gasto de memoria). Es l칩gico suponer que donde m치s tiempo se gasta es el c칩mputo de la multiplicaci칩n con la precisi칩n absoluta que tienen los n칰meros &lt;em&gt;longs&lt;/em&gt; de&amp;nbsp;python. &lt;/p&gt;
&lt;p&gt;De hecho, no se consigue gran cosa usando las librer칤as de c치lculo num칠rico m치s conocidas de python. Se hace imposible optimizar nada sin p칠rdida de precisi칩n o que salgan resultados extra침os. A칰n as칤, podemos expresar formas muy compactas para expresar la funci칩n factorial en &lt;code&gt;numpy&lt;/code&gt; si forzamos en el uso del tipo &lt;code&gt;object&lt;/code&gt; para que as칤 no lo&amp;nbsp;optimice:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3
4&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;numpy&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;np&lt;/span&gt;

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;fact&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;arange&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;dtype&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nb"&gt;object&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;prod&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;Tarda &lt;code&gt;70.8 ms.&lt;/code&gt; en calcular &lt;code&gt;fact(10000)&lt;/code&gt;, que es similar al resto de funciones factoriales que hemos visto. Da una buena idea de lo bien optimizada que est치 la librer칤a &lt;code&gt;numpy&lt;/code&gt; para cualquier cosa, incluso impidi칠ndole que optimice los tipos de datos que&amp;nbsp;emplea.&lt;/p&gt;</content><category term="Python"></category><category term="algorithm"></category><category term="factorial"></category><category term="maths"></category></entry><entry><title>LaOdisea</title><link href="https://blog.ch3m4.org/2013/07/29/la-odisea/" rel="alternate"></link><published>2013-07-29T16:35:00+02:00</published><updated>2013-07-29T16:35:00+02:00</updated><author><name>Chema Cort칠s</name></author><id>tag:blog.ch3m4.org,2013-07-29:/2013/07/29/la-odisea/</id><summary type="html">&lt;p&gt;Puede ser raro que alguien de ciencias, como yo, escriba sobre una de
las obras m치s significativas de la literatura griega cl치sica. Pero,
contrariamente a la gente de letras que sabe distinguir qu칠 es o no de
letras, la mentalidad cient칤fica ve ciencia por doquier, incluso en la&amp;nbsp;Odisea.&lt;/p&gt;
&lt;p&gt;Recientemente &lt;/p&gt;</summary><content type="html">&lt;p&gt;Puede ser raro que alguien de ciencias, como yo, escriba sobre una de
las obras m치s significativas de la literatura griega cl치sica. Pero,
contrariamente a la gente de letras que sabe distinguir qu칠 es o no de
letras, la mentalidad cient칤fica ve ciencia por doquier, incluso en la&amp;nbsp;Odisea.&lt;/p&gt;
&lt;p&gt;Recientemente he visto por televisi칩n la pel칤cula &lt;a href="http://www.imdb.com/title/tt0118414/" title="The Odissey (1997)"&gt;La Odisea&lt;/a&gt; de
Andr칠i Konchalovski, producida por Francis Ford Coppola, una adaptaci칩n
libre de la &amp;#8220;Il칤ada&amp;#8221; de Homero con a침adidos de la &amp;#8220;Eneida&amp;#8221; de Virgilio
(el archiconocido caballo de Troya). Si bien como pel칤cula de fantas칤a y
acci칩n se trata de un producto aceptable, sus conclusiones finales me
han decepcionado&amp;nbsp;bastante.&lt;/p&gt;
&lt;p&gt;La trama de la pel칤cula se centra en el castigo de los dioses al
orgulloso Ulises, conquistador de Troya. Despu칠s de muchos a침os vagando
por todo los mundos conocidos e inframundo, finalmente se somete a la
voluntad divina, quienes le permiten regresar a 칈taca para recuperar su
&amp;#8220;mundo&amp;#8221;, defender a su familia y acabar con todos los que pretend칤an
ursurpar su reino. Un planteamiento demasiado &amp;#8220;conservador&amp;#8221; de la
voluntad humana que desvirt칰a bastante el verdadero esp칤ritu de la&amp;nbsp;Il칤ada.&lt;/p&gt;
&lt;p&gt;Las aventuras de Ulises deber칤an verse en realidad como un viaje hacia
el conocimiento. All치 donde recala, Ulises adquiere m치s sabidur칤a y
conocimientos. Aqu칠l hombre inteligente que derrot칩 a los troyanos,
acaba volviendo sabio despu칠s de muchos a침os. Definitivamente 칈taca no
era el destino del viaje, si no la&amp;nbsp;Sabidur칤a.&lt;/p&gt;
&lt;p&gt;En la pel칤cula, Ulises decide viajar al reino de Hades para que el
profeta ciego Tiresias le indique c칩mo volver a 칈taca. Tiresias le dice
que el ciego es 칠l por no reconocer en el cielo estrellado el modo de
regresar a casa: &lt;em&gt;&amp;#8220;La constelaci칩n Ori칩n siempre al acecho de la Osa,
tambi칠n llamada carro, la 칰nica constelaci칩n que nunca se ba침a en el
mar. Mant칠n siempre la Osa a tu izquierda y llegar치s a 칈taca&amp;#8221;.&lt;/em&gt;
Tiresias le da el conocimiento para no depender de los dioses, del mismo
modo que Prometeo entreg칩 el fuego del conocimiento a los hombres. Con
este conocimiento, Ulises es capaz de volver a casa como hombre&amp;nbsp;sabio.&lt;/p&gt;
&lt;p&gt;Realmente, en la Il칤ada no es Tiresias qui칠n indica el camino a casa, si
no la divina Calypso cuando Ulises es finalmente perdonado por los
dioses. Pero aparte de esta licencia para lucimiento de Christopher Lee
en el papel de Tiresias, hay algo en esta indicaci칩n que resulta raro
para una &lt;em&gt;mente cient칤fica&lt;/em&gt;. Situada sobre el eje de giro de la
Tierra, la Osa Mayor gira sobre s칤 misma. Dependiendo de la latitud,
esta constelaci칩n nunca se pondr칤a en el horizonte marino de modo que
resulta una buena referencia para guiarse por la noche. Pero, 쯣or qu칠
no se habla de la estrella Polar como indicadora del norte? Muy
sencillo: en la 칠poca en la que se escribi칩 la Il칤ada, la estrella polar
no estaba fija en el cielo, giraba con el resto de estrellas de la
constelaci칩n debido a que la inclinaci칩n del eje de la Tierra cambia con
el tiempo. En la actualidad, la estrella Polar coincide con el eje de
giro, pero no siempre ha sido ni ser치&amp;nbsp;as칤.&lt;/p&gt;
&lt;p&gt;Es el conocimiento lo que finalmente nos libera del yugo de los dioses.
Tal y como cuenta en su poema &lt;strong&gt;&amp;#8220;칈taca&amp;#8221;&lt;/strong&gt; el griego &lt;em&gt;Constantinos
P. Cavafis&lt;/em&gt;:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt; 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;Cuando salgas de viaje para 칈taca  
desea que el camino sea largo,  
colmado de aventuras, colmado de experiencias.  
A los lestrigones y a los c칤clopes,  
al irascible Poseid칩n no temas,  
pues nunca encuentros tales tendr치s en tu camino,  
si tu pensamiento se mantiene alto,  
si una exquisita emoci칩n te toca cuerpo y alma.  
A los lestrigones y a los c칤clopes,  
al fiero Poseid칩n no encontrar치s,  
a no ser que los lleves ya en tu alma,  
a no ser que tu alma los ponga en pie ante ti.

Desea que el camino sea largo;  
que sean muchas las ma침anas estivales  
en que entres en puertos que ves por vez primera.  
Detente en los mercados fenicios,  
adquiere sus bellas mercanc칤as,  
madreperlas y n치cares, 칠banos y 치mbares,  
y voluptuosos perfumes de todas las clases,  
todos los voluptuosos perfumes que te sean posibles.  
Y vete a muchas ciudades de Egipto,  
y aprende, aprende de los sabios.

Mant칠n siempre a 칈taca en tu mente.  
Llegar all칤 es tu destino.  
Pero no tengas la menor prisa en tu viaje.  
Es mejor que dure muchos a침os  
y que viejo, al fin, arribes a la isla,  
rico por todas las ganancias de tu viaje,  
sin esperar que 칈taca te vaya a ofrecer riquezas.

칈taca te ha dado un viaje hermoso.  
Sin ella no te habr칤as puesto en marcha.  
Pero no tiene ya m치s que ofrecerte.

Aunque la encuentres pobre, 칈taca de ti no se ha burlado.  
Convertido en sabio y con tanta experiencia,  
ya habr치s comprendido el significado de todas las 칈tacas.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;Desde la primera vez que escuch칠 este poema en voz de &lt;a href="http://www.bernardosouviron.com" title="Bernardo Souvir칩n"&gt;Bernardo
Souvir칩n&lt;/a&gt; fui consciente que lo importante de este viaje hacia 칈taca,
que todos estamos realizando, no es el llegar pronto, si no la riqueza
de los conocimientos que atesoramos por el camino. No tengas&amp;nbsp;prisa.&lt;/p&gt;
&lt;p&gt;&lt;span class="caps"&gt;PD&lt;/span&gt;: por cierto, recomiendo seguir a Bernardo Souvir칩n, profesor de
lenguas cl치sicas, en sus intervenciones de radio &lt;span class="caps"&gt;RNE&lt;/span&gt; y diversos libros.
Si piensas que la historia cl치sica es un rollo es porque nunca las has
o칤do contar de la manera que las cuentas Bernardo&amp;nbsp;Souvir칩n.&lt;/p&gt;</content><category term="Ciencia"></category></entry><entry><title>Borrado de un descriptor (correcci칩n de만rrores)</title><link href="https://blog.ch3m4.org/2013/07/13/borrado-de-un-descriptor-correccion-de-errores/" rel="alternate"></link><published>2013-07-13T14:00:00+02:00</published><updated>2018-07-25T01:30:02+02:00</updated><author><name>Chema Cort칠s</name></author><id>tag:blog.ch3m4.org,2013-07-13:/2013/07/13/borrado-de-un-descriptor-correccion-de-errores/</id><summary type="html">&lt;p&gt;Tengo que hacer algunas correcciones a la serie de art칤culos sobre &lt;em&gt;descriptores&lt;/em&gt;, en concreto sobre el m칠todo &lt;code&gt;__delete__&lt;/code&gt; del protocolo &lt;em&gt;descriptor&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Primero, aclaremos c칩mo funciona el m칠todo &lt;code&gt;__delete__&lt;/code&gt; y en qu칠 se diferencia de &lt;code&gt;__del__&lt;/code&gt;. No se trata de m칠todos &lt;em&gt;destructores&lt;/em&gt; tal y como se entiende en otros lenguajes de &lt;/p&gt;</summary><content type="html">&lt;p&gt;Tengo que hacer algunas correcciones a la serie de art칤culos sobre &lt;em&gt;descriptores&lt;/em&gt;, en concreto sobre el m칠todo &lt;code&gt;__delete__&lt;/code&gt; del protocolo &lt;em&gt;descriptor&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Primero, aclaremos c칩mo funciona el m칠todo &lt;code&gt;__delete__&lt;/code&gt; y en qu칠 se diferencia de &lt;code&gt;__del__&lt;/code&gt;. No se trata de m칠todos &lt;em&gt;destructores&lt;/em&gt; tal y como se entiende en otros lenguajes de programaci칩n orientados a objeto. En python, &lt;strong&gt;todo objeto est치 vivo mientras est칠 referenciado&lt;/strong&gt;. S칩lo cuando se pierda la 칰ltima referencia se proceder치 a la destrucci칩n y borrado del objeto en memoria por parte del &lt;em&gt;recolector de basura&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Por ejemplo, veamos el siguiente&amp;nbsp;c칩digo:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt; 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;Miclase&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;object&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="fm"&gt;__del__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="nb"&gt;print&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;instance deleted&amp;quot;&lt;/span&gt;

&lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Miclase&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;b&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;
&lt;span class="k"&gt;del&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;

&lt;span class="nb"&gt;print&lt;/span&gt; &lt;span class="n"&gt;b&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Come on&amp;quot;&lt;/span&gt;
&lt;span class="n"&gt;b&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;END&amp;quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;De su ejecuci칩n, podemos comprobar que el m칠todo &lt;code&gt;__del__&lt;/code&gt; no se invoca justo en el momento de hacer &lt;code&gt;del a&lt;/code&gt;, si no cuando se pierde la 칰ltima referencia al asignar otro valor a la variable &lt;code&gt;b&lt;/code&gt;. La sentencia &lt;code&gt;del a&lt;/code&gt; no &lt;em&gt;destruye&lt;/em&gt; el objeto, tan s칩lo desliga el objeto de la etiqueta &lt;code&gt;a&lt;/code&gt; que lo referenciaba. Por ese motivo, es inexacto hablar en python de &amp;#8220;variable de memoria&amp;#8221;, como se entiende en otro lenguajes. Tan s칩lo cambiamos de una referencia de un objeto a otro, sin destruir su valor&amp;nbsp;anterior.&lt;/p&gt;
&lt;h2&gt;Revisi칩n del protocolo&amp;nbsp;descriptor&lt;/h2&gt;
&lt;p&gt;En un &lt;a href="https://blog.ch3m4.org/2011/06/19/descriptores-parte-1/"&gt;anterior art칤culo&lt;/a&gt; distingu칤a entre descriptores de datos y de no-datos. Hay que aclarar que un descriptor de datos &amp;#8220;es tambi칠n el que s칩lo tiene definido un m칠todo &lt;code&gt;__delete__&lt;/code&gt;, aunque no tenga m칠todo &lt;code&gt;__set__&lt;/code&gt;&lt;span class="dquo"&gt;&amp;#8220;&lt;/span&gt;. 쯇ara qu칠 puede sernos 칰til tener uno sin el&amp;nbsp;otro?&lt;/p&gt;
&lt;p&gt;Un descriptor de datos sin m칠todo &lt;code&gt;__set__&lt;/code&gt; no tiene forma de impedir que el atributo/m칠todo que implementa sea sustitu칤do por otro objeto (por ejemplo, por otro descriptor). El m칠todo &lt;code&gt;__delete__&lt;/code&gt; nos dar칤a la 칰ltima opci칩n de liberar recursos que ya no vayamos a usar antes de desaparecer el descriptor. Pero, independiemente de lo que haga, el m칠todo &lt;code&gt;__delete__&lt;/code&gt; indicar칤a que el descriptor puede ser sustituido. En definitiva, se comportar칤a como un &lt;em&gt;descriptor de no-datos&lt;/em&gt;, pero con las diferencias en la invocaci칩n entre estos dos tipos de descriptor&lt;sup id="fnref:1"&gt;&lt;a class="footnote-ref" href="#fn:1"&gt;1&lt;/a&gt;&lt;/sup&gt;.&lt;/p&gt;
&lt;p&gt;Para aclarar las cosas, veamos qu칠 estaba mal en el &lt;a href="https://blog.ch3m4.org/2011/06/19/descriptores-parte-1/"&gt;ejemplo&lt;/a&gt; que puse en su momento  sobre el uso de &lt;code&gt;__delete__&lt;/code&gt; (he cambiado algunos nombres para que se vea m치s&amp;nbsp;claro):&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt; 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;Desc&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;object&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="fm"&gt;__init__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;mul&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;mul&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;mul&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="fm"&gt;__get__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;obj&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="bp"&gt;cls&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;None&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;obj&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;mul&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="fm"&gt;__set__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;obj&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="k"&gt;raise&lt;/span&gt; &lt;span class="ne"&gt;AttributeError&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="fm"&gt;__delete__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;obj&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="k"&gt;del&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;

&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;Miclase&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;object&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;

    &lt;span class="n"&gt;a12&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Desc&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;a200&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Desc&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;200&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="fm"&gt;__init__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;value&lt;/span&gt;


&lt;span class="n"&gt;c&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Miclase&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="nb"&gt;print&lt;/span&gt; &lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;a12&lt;/span&gt; &lt;span class="c1"&gt;#--&amp;gt; 24&lt;/span&gt;

&lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;a12&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;100&lt;/span&gt;  &lt;span class="c1"&gt;# ERROR: AttributeError&lt;/span&gt;

&lt;span class="k"&gt;del&lt;/span&gt; &lt;span class="n"&gt;Miclase&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;a12&lt;/span&gt;
&lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;a12&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;100&lt;/span&gt;

&lt;span class="nb"&gt;print&lt;/span&gt; &lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;a12&lt;/span&gt;  &lt;span class="c1"&gt;#--&amp;gt; 100 (no descriptor)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;La idea era que se pudiera borrar el descriptor de datos para sustuirlo por otro valor. Tal como se침alaba Cristian en un comentario al respecto, este ejemplo parece funcionar con o sin el m칠todo &lt;code&gt;__delete__&lt;/code&gt; en el&amp;nbsp;descriptor.&lt;/p&gt;
&lt;p&gt;Funciona siempre debido a que con &lt;code&gt;'del Miclase.a12'&lt;/code&gt; estamos borrando la referencia al descriptor que tiene la clase, sin pasar por el protocolo descriptor. La particularidad de los descriptores es que &lt;em&gt;viven&lt;/em&gt; en la clase, pero se invocan desde la instancia. Con &lt;code&gt;'del Miclase.a12'&lt;/code&gt; estamos salt치ndonos el protocolo descriptor para acceder directamente al atributo de la clase&lt;sup id="fnref:2"&gt;&lt;a class="footnote-ref" href="#fn:2"&gt;2&lt;/a&gt;&lt;/sup&gt;.&lt;/p&gt;
&lt;p&gt;Adem치s, este c칩digo no funcionar칤a&amp;nbsp;nunca:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="fm"&gt;__delete__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;obj&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="k"&gt;del&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;Si la idea era borrar el objeto &lt;code&gt;self&lt;/code&gt;, referencia al descriptor, podemos quitarnos esa idea ya que el comando &lt;code&gt;del&lt;/code&gt; borra la referencia del &lt;em&gt;scope&lt;/em&gt; local donde se encuentra. &lt;strong&gt;춰No es un destructor!&lt;/strong&gt; En realidad, todas las variables locales son borradas al finalizar el m칠todo. En este caso en concreto, tambi칠n la variable local &lt;code&gt;obj&lt;/code&gt; ser치 borrada aunque no se indique&amp;nbsp;expl칤citamente.&lt;/p&gt;
&lt;p&gt;Otra cuesti칩n a tener en cuenta es que los atributos de clase son compartidos por todas sus instancias. Si en alg칰n momento alteramos un descriptor (por ejemplo, borr치ndolo), entonces todas las instancias sufririan el mismo cambio. No parece que sea el efecto&amp;nbsp;buscado.&lt;/p&gt;
&lt;p&gt;La gran pregunta es &lt;em&gt;entonces, 쯖칩mo podemos aprovecharnos del m칠todo &lt;code&gt;__delete__&lt;/code&gt;?&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Para sacarle alg칰n partido, el descriptor deber칤a comportarse de forma distinta seg칰n sea la instancia que lo invoca. Definido as칤 el descriptoor, entonces podr칤amos usar el m칠todo &lt;code&gt;__delete__&lt;/code&gt; para simular el borrado del atributo para esa instancia, sin que el descriptor pierda su&amp;nbsp;funcionalidad.&lt;/p&gt;
&lt;p&gt;Un ejemplo para ilustrar 칠sto&amp;nbsp;ser칤a:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt; 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;weakref&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;WeakKeyDictionary&lt;/span&gt;

&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;Desc&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;object&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="fm"&gt;__init__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;WeakKeyDictionary&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="fm"&gt;__get__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;obj&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="bp"&gt;cls&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;None&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;obj&lt;/span&gt; &lt;span class="ow"&gt;not&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="k"&gt;raise&lt;/span&gt; &lt;span class="ne"&gt;AttributeError&lt;/span&gt;
        &lt;span class="n"&gt;total&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;sum&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;values&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;obj&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;total&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="fm"&gt;__set__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;obj&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;obj&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="k"&gt;raise&lt;/span&gt; &lt;span class="ne"&gt;AttributeError&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;obj&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;value&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="fm"&gt;__delete__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;obj&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="k"&gt;del&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;obj&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;

&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;Miclase&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;object&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;

    &lt;span class="n"&gt;value&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Desc&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;


&lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Miclase&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;b&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Miclase&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;

&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;
&lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;5&lt;/span&gt;

&lt;span class="nb"&gt;print&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt;  &lt;span class="c1"&gt;#--&amp;gt; (2, 7)&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt; &lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt;  &lt;span class="c1"&gt;#--&amp;gt; (5, 7)&lt;/span&gt;

&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;100&lt;/span&gt;  &lt;span class="c1"&gt;# ERROR: AttributeError&lt;/span&gt;

&lt;span class="k"&gt;del&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt;
&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;11&lt;/span&gt;

&lt;span class="nb"&gt;print&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt;  &lt;span class="c1"&gt;#--&amp;gt; (11, 16)&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt; &lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt;  &lt;span class="c1"&gt;#--&amp;gt; (5, 16)&lt;/span&gt;

&lt;span class="k"&gt;del&lt;/span&gt; &lt;span class="n"&gt;b&lt;/span&gt;

&lt;span class="nb"&gt;print&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt;  &lt;span class="c1"&gt;#--&amp;gt; (11, 11)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;El descriptor mantiene un diccionario &lt;em&gt;weak&lt;/em&gt; con valores asignados para cada instancia de la clase. Usamos para ello un &lt;em&gt;WeakKeyDictionary&lt;/em&gt; que tiene la particularidad de relajar la referencia al objeto, de modo que si todas las referencias al objeto son borradas en el programa, tambi칠n es borrada la referencia que conservaba el&amp;nbsp;diccionario.&lt;/p&gt;
&lt;p&gt;En este ejemplo, el m칠todo &lt;code&gt;__get__&lt;/code&gt; devuelve el valor del atributo si el objeto est치 en el diccionario, si no da error. El m칠todo &lt;code&gt;__set__&lt;/code&gt; asigna un valor al atributo s칩lo si el objeto no existe. Para ver mejor el funcionamiento, el m칠todo &lt;code&gt;__get__&lt;/code&gt; devuelve una tupla con el valor del atributo y la suma de todos los&amp;nbsp;atributos.&lt;/p&gt;
&lt;p&gt;Ejecuntado el ejemplo, creamos dos instancias y les asignamos un valor al atributo controlado por el descriptor. Una vez asignado un valor, ya no podemos cambiarlo. La 칰nica opci칩n ser치 borrar el atributo y volverlo a&amp;nbsp;asignar.&lt;/p&gt;
&lt;p&gt;Tambi칠n se puede comprobar que, cuando borramos el objeto &lt;code&gt;b&lt;/code&gt;, la suma de todos los atributos se actualiza a las instancias que a칰n quedan &lt;em&gt;vivas&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;En el borrado del atributo se usa el m칠todo &lt;code&gt;__delete__&lt;/code&gt; del descriptor; en el borrado de la instancia, el m칠todo &lt;code&gt;__del__&lt;/code&gt; (si&amp;nbsp;existiera).&lt;/p&gt;
&lt;h2&gt;Referencia&lt;/h2&gt;
&lt;p&gt;No quisiera acabar este art칤culo sin a침adir una referencia sobre este tema que os recomiendo leer, con algunas recetas para aprovechar el uso de los&amp;nbsp;descriptores:&lt;/p&gt;
&lt;p&gt;&lt;a href="http://nbviewer.jupyter.org/gist/ChrisBeaumont/5758381/descriptor_writeup.ipynb"&gt;&lt;span class="dquo"&gt;&amp;#8220;&lt;/span&gt;Python Descriptors Demystified&amp;#8221;&lt;/a&gt; by &lt;a href="http://chrisbeaumont.org/"&gt;Chris&amp;nbsp;Beaumont&lt;/a&gt;&lt;/p&gt;
&lt;div class="footnote"&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id="fn:1"&gt;
&lt;p&gt;Comentado en los anteriores &lt;a href="https://blog.ch3m4.org/tag/descriptor/"&gt;art칤culos sobre descriptores&lt;/a&gt;.&amp;#160;&lt;a class="footnote-backref" href="#fnref:1" title="Jump back to footnote 1 in the text"&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id="fn:2"&gt;
&lt;p&gt;Un modo de impedir el borrado de atributos de una clase ser칤a aplicando el protocolo descriptor con metaclases, pero pienso que estar칤amos complic치ndolo todo demasiado para el beneficio que pudiera obtenerse a cambio.&amp;#160;&lt;a class="footnote-backref" href="#fnref:2" title="Jump back to footnote 2 in the text"&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;</content><category term="Python"></category><category term="descriptor"></category><category term="t칠cnicas din치micas"></category></entry><entry><title>Balance y cierre de만jercicio</title><link href="https://blog.ch3m4.org/2013/06/22/balance-y-cierre-de-ejercicio/" rel="alternate"></link><published>2013-06-22T14:51:00+02:00</published><updated>2013-06-22T14:51:00+02:00</updated><author><name>Chema Cort칠s</name></author><id>tag:blog.ch3m4.org,2013-06-22:/2013/06/22/balance-y-cierre-de-ejercicio/</id><summary type="html">&lt;p&gt;Ya s칠 que parece extra침o cerrar un periodo en mitad de a침o, pero los que me siguen de aqu칤 a unos a침os sabr치n que suelo hacer un breve resumen de situaci칩n comentando qu칠 he estado haciendo y qu칠 proyectos futuros estoy&amp;nbsp;ideando.&lt;/p&gt;
&lt;p&gt;Como puse en el 칰ltimo &lt;em&gt;twitt&lt;/em&gt;, parece que &lt;/p&gt;</summary><content type="html">&lt;p&gt;Ya s칠 que parece extra침o cerrar un periodo en mitad de a침o, pero los que me siguen de aqu칤 a unos a침os sabr치n que suelo hacer un breve resumen de situaci칩n comentando qu칠 he estado haciendo y qu칠 proyectos futuros estoy&amp;nbsp;ideando.&lt;/p&gt;
&lt;p&gt;Como puse en el 칰ltimo &lt;em&gt;twitt&lt;/em&gt;, parece que voy a cambiar de trabajo. Despu칠s de 20 a침os dedicados a la sanidad p칰blica, pasar칠 a trabajar para la gesti칩n inform치tica de la educaci칩n p칰blica. Ya s칠 que son dos de los sectores p칰blicos m치s castigados por los recortes presupuestarios, pero al menos queda algo, no como en el resto de&amp;nbsp;departamentos.&lt;/p&gt;
&lt;p&gt;Lo primero de todo es volver a afirmar una vez m치s que &lt;strong&gt;no voy a dejar python&lt;/strong&gt;. Agradezco los mensajes de 치nimo para que contin칰e participando en la comunidad hispana de python, incluso alguna que otra oferta para trabajar en proyectos punteros. No voy a abandonar python, tan s칩lo se me ha quedado peque침o. Ahora cierro el a침o que me d칤 para hacerme experto programador en scala y este a침o que viene har칠 lo propio con&amp;nbsp;R.&lt;/p&gt;
&lt;p&gt;Hace varios a침os que no programaba nada en python para el trabajo. En realidad, mi labor ha consistido en mantener y terminar proyectos que dejaban inconclusos las empresas externas que iban quebrando y que dejaban todo sin documentar y sin metodolog칤a alguna. Ha sido mucho c칩digo &lt;em&gt;&amp;#8220;desestructurado&amp;#8221;&lt;/em&gt; el que he tenido que leer y entender. Lo peor es que la actual situaci칩n econ칩mica de la administraci칩n p칰blica no permite configurar un equipo de desarrolladores capaces de abarcar estos proyectos y, peor 치un, si alg칰n d칤a salimos de la crisis y la administraci칩n p칰blica vuelve a disponer de medios econ칩micos, en primer lugar no habr치 gente capacitada (habr치n huido del pais si son inteligentes). Lo segundo, los dirigentes pol칤ticos no conf칤an en sus funcionarios y optan por sacar estas funciones del control p칰blico a empresas externas que puedan manipular y de las que puedan beneficiarse en&amp;nbsp;exclusiva.&lt;/p&gt;
&lt;p&gt;Porque hay que decirlo bien claro: &lt;strong&gt;los datos de la administraci칩n p칰blica deben ser p칰blicos&lt;/strong&gt;. No valen excusas para no publicar las listas de esperas de sanidad, ni saber cu치ntos contratos se hacen al mes, ni cu치nto se cobran de dietas,&amp;#8230; Como inform치ticos, conocemos que toda esta informaci칩n se est치 introduciendo al d칤a en el sistema, casi en tiempo real. El gran problema es que un pol칤tico no cree en los datos, s칩lo cree en aquello que confirme lo que cree. Como le칤 hace poco en un libro&lt;sup id="fnref:1"&gt;&lt;a class="footnote-ref" href="#fn:1"&gt;1&lt;/a&gt;&lt;/sup&gt;: &amp;#8220;El prop칩sito 칰ltimo del &lt;em&gt;an치lisis de datos&lt;/em&gt; es convencer a otras personas que sus creencias pueden ser alteradas por los datos&amp;#8221;. Y creo que es aqu칤 donde los inform치ticos somos m치s temidos. Nos niegan ser parte de las juntas de direcci칩n porque nuestros razonamientos se basar칤an en datos reales gracias a nuestro conocimiento integral de la estructura de la empresa. Somos demasiado poco manipulables para ser&amp;nbsp;directivos.&lt;/p&gt;
&lt;p&gt;Hay que exigir que la administraci칩n p칰blica abra sus datos. Son de agradecer los primeros esfuerzos en &lt;em&gt;opendata&lt;/em&gt; que realizan algunos gobiernos auton칩micos; pero son datos muy escasos y limitados, casi rid칤culos en comparaci칩n con la cantidad total de datos que gestiona. Deber칤a exigirse, por ley, que toda empresa que trabaje para la administraci칩n p칰blica publique sus datos. Ya no s칩lo porque los ciudadanos queramos saber m치s, si no porque el dinero p칰blico debe beneficiar a todos, incluso a las empresas que no conseguieron el contrato y que quieran&amp;nbsp;mejorar.&lt;/p&gt;
&lt;p&gt;Padezco de cierto S칤ndrome de Casandra, pero si me preguntaran c칩mo pienso que ser치 el futuro, imagino en un mundo inhundado de datos abiertos. La huella que dejaron generaciones pasadas en este oc칠ano de datos ser칤an la base con la que investigadores del presente har칤an nuevos descubrimientos m칠dicos y cient칤ficos. Datos que contradigan la manipulaci칩n del presente por pol칤ticos y multinacionales. En definitiva, un quinto poder para una Democracia m치s&amp;nbsp;justa.&lt;/p&gt;
&lt;div class="footnote"&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id="fn:1"&gt;
&lt;p&gt;&lt;span class="dquo"&gt;&amp;#8220;&lt;/span&gt;Doing Bayesian Data Analysis&amp;#8221; por John K. Kruschke&amp;#160;&lt;a class="footnote-backref" href="#fnref:1" title="Jump back to footnote 1 in the text"&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;</content><category term="Pensamientos"></category></entry><entry><title>Scala vs. Python vs.Lua</title><link href="https://blog.ch3m4.org/2013/04/09/scala-vs-python-vs-lua/" rel="alternate"></link><published>2013-04-09T20:55:00+02:00</published><updated>2013-04-09T20:55:00+02:00</updated><author><name>Chema Cort칠s</name></author><id>tag:blog.ch3m4.org,2013-04-09:/2013/04/09/scala-vs-python-vs-lua/</id><summary type="html">&lt;p&gt;Hace bastante tiempo que ando comentando cosas de estos tres lenguajes: Scala, Python y Lua. Hasta el momento no he hecho una comparativa entre ellos y creo que es el momento de hacerlo, siempre desde el punto de vista de un programador. M치s que llegar a la conclusi칩n de cu치l &lt;/p&gt;</summary><content type="html">&lt;p&gt;Hace bastante tiempo que ando comentando cosas de estos tres lenguajes: Scala, Python y Lua. Hasta el momento no he hecho una comparativa entre ellos y creo que es el momento de hacerlo, siempre desde el punto de vista de un programador. M치s que llegar a la conclusi칩n de cu치l es mejor o peor, quisiera dar una idea de porqu칠 los recomiendo, a los tres, sin decantarme por s칩lo uno de ellos. Si buscabas razones para quedarte con uno de ellos, tampoco deber칤as desestimar otros similares como Ruby, Groovy, Haskel, Clojure o Erlang. De todos hay cosas qu칠&amp;nbsp;aprender.&lt;/p&gt;
&lt;h2&gt;Python&lt;/h2&gt;
&lt;p&gt;Quiz치s Python sea el lenguaje m치s asequible para un programador que empieza o que busca un segundo lenguaje. Su aprendizaje es sencillo, mientras que su potencia y ubicuidad lo hace ideal desde los peque침os scripts que podamos necesitar en nuestro d칤a a d칤a, hasta escalar a servidores empresariales de tipo&amp;nbsp;medio.&lt;/p&gt;
&lt;p&gt;Puede que a muchos disguste python por su identaci칩n forzada o por su particular modelo de datos, por citar dos de las caracter칤sticas m치s criticadas. Sin embargo, conf칤a en m칤 si te digo que python es uno de los mayores compendios de sabidur칤a que puedes tener al alcance de tus manos. Cualquier cosa que creas extra침a o fuera de lugar, seguramente tenga su buena explicaci칩n. El sistema colaborativo que hace evolucionar a python (conocido como &lt;span class="caps"&gt;PEP&lt;/span&gt;-&lt;em&gt;Python Enhancement Proposals&lt;/em&gt;) consigue que todo el saber de la comunidad python termine decant치ndose hace un modelo de evoluci칩n del lenguaje que lo hace 칰nico, con el que mejora calmadamente con cada versi칩n. Operaciones con n칰meros grandes, algoritmo &lt;span class="caps"&gt;MRO&lt;/span&gt; para herencia m칰ltiple, estructuras de datos optimizadas (heapq, deque,&amp;#8230;), ordenaciones por clave, operaciones sobre secuencias (sum, any, all,&amp;#8230;)&amp;#8230; son s칩lo algunos ejemplos de optimizaciones que el usuario usa sin ser realmente consciente de la cantidad de trabajo que le est치 ahorrando. En python casi siempre hay una forma de hacer las cosas correctamente, y adem치s suele ser la&amp;nbsp;mejor.&lt;/p&gt;
&lt;h2&gt;Lua&lt;/h2&gt;
&lt;p&gt;Desde mi punto de vista, considero Lua como un &lt;em&gt;python minimalista&lt;/em&gt;. Sin objetos, sin posibilidad de construir tus propios tipos de datos, pero se apa침a con un s칩lo tipo de estrutura &lt;code&gt;table&lt;/code&gt; para montar un sistema de herencia y emular algunos tipos de datos. Si lenguajes como python te parece complicados, no comprendes conceptos como la herencia, la creaci칩n de tipos o para qu칠 sirven las metaclases, la simplicidad de lua har치 que entiendas mejor estos&amp;nbsp;conceptos.&lt;/p&gt;
&lt;p&gt;El reducido tama침o del int칠rprete de Lua lo hace apropiado para ser empotrado en otras aplicaciones. Lo tenemos en gestores de paquetes (&lt;span class="caps"&gt;RPM&lt;/span&gt;), bases de datos (mysql-lua), e IDEs (Scite), aunque quiz치s sea m치s famoso por ser el motor de script de juegos como &lt;em&gt;World of Warcraft&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;En cuanto a sint치xis, tambi칠n goza de un minimalismo que, a veces, desear칤as tuviera python. Posee cierta relajaci칩n en la llamada a funciones que permite usarlo para crear DSLs (&lt;em&gt;Lenguajes Espec칤ficos del Dominio&lt;/em&gt;), aunque quiz치s su mejor uso sea como lenguaje de descripci칩n de datos en sustituci칩n de xml, yaml o ficheros&amp;nbsp;ini.&lt;/p&gt;
&lt;h2&gt;Scala&lt;/h2&gt;
&lt;p&gt;Reconozco que soy un ferviente partidario de la &lt;em&gt;Programaci칩n Funcional&lt;/em&gt;. Python tiene alg칰n aspecto de este paradigma, pero cada vez parece m치s diluido dentro del sistema de Clases Abstractas (&lt;code&gt;ABC&lt;/code&gt;-Abstract Base Classes) que empiezan a generalizarse en python. La estrategia de python es optimizar el uso de estas clases abstractas, independientemente de las clases que deriven luego de ellas. Aunque es un buen enfoque de optimizaci칩n, siempre estar치 limitado a tiempo de&amp;nbsp;ejecuci칩n.&lt;/p&gt;
&lt;p&gt;Scala posee un potente sistema de tipado est치tico de datos que posibilita la inferencia del tipo de una operaci칩n, lo que permite cierta relajaci칩n en el tipado que lo hace muy similar al tipado din치mico. Pero la posibilidad de crear nuevos tipos, ya no s칩lo de objetos, si no tambi칠n a partir de funciones o de &lt;em&gt;patrones de c칩digo&lt;/em&gt;, consigue interfaces m치s robustos y que sea el compilador quien optimize el c칩digo, antes de su&amp;nbsp;ejecuci칩n.&lt;/p&gt;
&lt;p&gt;As칤 que tenemos que scala es funcional, con un potente sistema de tipos y, adem치s, 100% compatible con Java. 쯉e puede pedir algo&amp;nbsp;m치s?&lt;/p&gt;
&lt;p&gt;Pues s칤. Incorpora el llamado modelo &lt;em&gt;Actor&lt;/em&gt; para programaci칩n concurrente. Con los actores, en lugar de compartir un espacio com칰n de memoria entre los distintos procesos concurrentes, se establece un sistema de mensajes que son enviados y recibidos. Este modelo se ha mostrado bastante eficaz en sistemas de alta demanda como son algunas webs como twitter o&amp;nbsp;linkedin.&lt;/p&gt;
&lt;p&gt;En cuanto a la sint치xis, scala tambi칠n posee algunas normas relajadas para la creaci칩n de DSLs muy similar a lo que se ve en Groovy. Algunos lenguajes &lt;span class="caps"&gt;DSL&lt;/span&gt; se usan en &lt;em&gt;frameworks&lt;/em&gt; de creaci칩n webs, como Play2, o para crear conjuntos de pruebas&amp;nbsp;(ScalaUnit).&lt;/p&gt;
&lt;h2&gt;Conclusi칩n&lt;/h2&gt;
&lt;p&gt;Espero que te haya convencido para que eches un vistazo a algunos de estos lenguajes, aunque los tres sean altamente recomendables. Si tuviera que resumir en pocas l칤neas lo dicho hasta ahora, ser칤a&amp;nbsp;as칤:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Python: navaja suiza de los lenguajes. Sirve para todo y est치 presente en cualquier sitio. Es un compendio de sabidur칤a para hacer las cosas de la mejor forma, a칰n sin&amp;nbsp;propon칠rtelo.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Lua: lenguaje minimalista. Ayuda a comprender mejor algunos conceptos de programaci칩n. Es el lenguaje que me gustar칤a que tuviera todo navegador en lugar de&amp;nbsp;javascript.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Scala: funcional y con potente sistema de tipos. Su implementaci칩n del modelo actor lo hace id칩neo para la creaci칩n de sistemas de alta demanda de&amp;nbsp;accesos.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;</content><category term="Pensamientos"></category><category term="python"></category><category term="scala"></category><category term="lua"></category><category term="programming-languages"></category></entry><entry><title>De GeneracionesPerdidas</title><link href="https://blog.ch3m4.org/2013/03/31/de-generaciones-perdidas/" rel="alternate"></link><published>2013-03-31T15:15:00+02:00</published><updated>2013-03-31T15:15:00+02:00</updated><author><name>Chema Cort칠s</name></author><id>tag:blog.ch3m4.org,2013-03-31:/2013/03/31/de-generaciones-perdidas/</id><summary type="html">&lt;p&gt;All치 por los 80, en Zaragoza, cuando internet era tan s칩lo la &lt;code&gt;i&lt;/code&gt; del
protocolo &lt;span class="caps"&gt;TCP&lt;/span&gt;/&lt;span class="caps"&gt;IP&lt;/span&gt; y los meros mortales se apa침aban con sus modems para
acceder a alguna &lt;span class="caps"&gt;BBS&lt;/span&gt; local, y donde la 칰nica autopista de la informaci칩n
consist칤a en una cinta semanal de 200 &lt;span class="caps"&gt;MB&lt;/span&gt;. que llegaba &lt;/p&gt;</summary><content type="html">&lt;p&gt;All치 por los 80, en Zaragoza, cuando internet era tan s칩lo la &lt;code&gt;i&lt;/code&gt; del
protocolo &lt;span class="caps"&gt;TCP&lt;/span&gt;/&lt;span class="caps"&gt;IP&lt;/span&gt; y los meros mortales se apa침aban con sus modems para
acceder a alguna &lt;span class="caps"&gt;BBS&lt;/span&gt; local, y donde la 칰nica autopista de la informaci칩n
consist칤a en una cinta semanal de 200 &lt;span class="caps"&gt;MB&lt;/span&gt;. que llegaba desde el &lt;span class="caps"&gt;CERN&lt;/span&gt; de
Ginebra, exist칤a un grupo de &lt;em&gt;hackers&lt;/em&gt;, en el buen sentido de la
palabra&lt;sup id="fnref:1"&gt;&lt;a class="footnote-ref" href="#fn:1"&gt;1&lt;/a&gt;&lt;/sup&gt;, que abarrotaban las pocas salas de inform치tica que ten칤a
la Universidad de Zaragoza. No exist칤an ense침anza de inform치tica y los
conocimientos er치n compartidos entre todos sin&amp;nbsp;reservas.&lt;/p&gt;
&lt;p&gt;Fue una 칠poca convulsa, presagio de los cambios que iban a venir y que
lo cambiar칤an todo. Luchas por el espacio cybern칠tico, espionaje y
contraespionaje, virus y antivirus,&amp;#8230;un mundo cruel que qued칩 atr치s y
que origin칩 una &amp;#8220;generaci칩n perdida&amp;#8221;, una de tantas, pero de un nivel
tecnol칩gico sin parag칩n que hizo puntera a Zaragoza y de la que muy
pocos tienen siquiera una m칤nima noci칩n de su&amp;nbsp;existencia.&lt;/p&gt;
&lt;p&gt;A veces me he preguntado si valdr칤a la pena dar a conocer a esta
generaci칩n y todo lo que hicieron. Pero sus integrantes, una vez
rehechas sus vidas ajenas a la universidad, incluso dejando sus estudios
en la cuneta, callan y no parece que deseen que se hable del tema. No
esperes que yo lo haga aqu칤, pero si quieres una peque침a muestra de lo
que pas칩 existe una serie de historias contadas en el libro &lt;em&gt;&amp;#8220;Sue침os
Electr칩nicos. Emprendedores en la Red&amp;#8221;&lt;/em&gt; de Jos칠 Carlos Arnal (&lt;a href="http://www.casadellibro.com/libro-suenos-electronicos-emprendedores-en-la-red/9788483241172/817995"&gt;&lt;span class="caps"&gt;ISBN&lt;/span&gt;:9788483241172&lt;/a&gt;) que puede darte una buena idea, aunque incompleta.
Como se suele decir, &lt;em&gt;&amp;#8220;existen dos tipos de hackers: los buenos y los
famosos&amp;#8221;&lt;/em&gt;. Si a 치lguien le interesa el tema, que lea este libro, porque
de los buenos hackers nunca se&amp;nbsp;hablar치.&lt;/p&gt;
&lt;p&gt;En este pa칤s nunca aprenderemos. Ya sea por guerras, conflictos
pol칤ticos o por la avarienta corrupci칩n, seguimos quemando generaciones
en la gran pira de calamidades inevitables en la que se ha convertido la
historia de Espa침a. Sirva este art칤culo como callado homenaje a esta
&lt;em&gt;De-Generaci칩n Perdida&lt;/em&gt; junto con el que &lt;a href="http://qlio.blogspot.com.es/2012/01/jakers-finales-de-los-80s-en-zaragoza.html"&gt;escribi칩 Gaudi en su bit치cora&lt;/a&gt; hace ya un&amp;nbsp;a침o.  &lt;/p&gt;
&lt;div class="footnote"&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id="fn:1"&gt;
&lt;p&gt;Extraer conocimientos a trav칠s de la tecnolog칤a.&amp;#160;&lt;a class="footnote-backref" href="#fnref:1" title="Jump back to footnote 1 in the text"&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;</content><category term="Pensamientos"></category></entry><entry><title>Mutable o inmutable, he ah칤 el맋ilema</title><link href="https://blog.ch3m4.org/2013/03/22/mutable-o-inmutable-he-ahi-el-dilema/" rel="alternate"></link><published>2013-03-22T22:02:00+01:00</published><updated>2018-07-25T01:09:30+02:00</updated><author><name>Chema Cort칠s</name></author><id>tag:blog.ch3m4.org,2013-03-22:/2013/03/22/mutable-o-inmutable-he-ahi-el-dilema/</id><summary type="html">&lt;div class="admonition info"&gt;
&lt;p class="admonition-title"&gt;Info&lt;/p&gt;
&lt;p&gt;Disponible tambi칠n como &lt;a href="http://nbviewer.jupyter.org/5224623"&gt;ipynb&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Quien se enfrenta a la documentaci칩n de python por primera vez se pregunta porqu칠 esa insistencia en mantener tipos de datos duplicados en versiones mutables e inmutables. Tenemos listas y tuplas que casi hacen lo mismo. En python3, tenemos el tipo inmutable &lt;code&gt;bytes&lt;/code&gt; y el &lt;/p&gt;</summary><content type="html">&lt;div class="admonition info"&gt;
&lt;p class="admonition-title"&gt;Info&lt;/p&gt;
&lt;p&gt;Disponible tambi칠n como &lt;a href="http://nbviewer.jupyter.org/5224623"&gt;ipynb&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Quien se enfrenta a la documentaci칩n de python por primera vez se pregunta porqu칠 esa insistencia en mantener tipos de datos duplicados en versiones mutables e inmutables. Tenemos listas y tuplas que casi hacen lo mismo. En python3, tenemos el tipo inmutable &lt;code&gt;bytes&lt;/code&gt; y el mutable &lt;code&gt;bytearray&lt;/code&gt;. 쯈u칠 sentido tiene tener &lt;em&gt;&amp;#8220;duplicados&amp;#8221;&lt;/em&gt; algunos tipos en sus dos versiones? La 칰nica explicaci칩n que se puede encontrar en la documentaci칩n es que los tipos inmutables son m치s apropiados para usarlos como 칤ndices en diccionarios. No parece mucha ventaja para la complejidad que&amp;nbsp;aporta.&lt;/p&gt;
&lt;p&gt;En este art칤culo veremos qu칠 implica la &lt;em&gt;mutabilidad&lt;/em&gt; de un tipo de dato y en qu칠 puede sernos 칰til usar un tipo mutable u otro&amp;nbsp;inmutable.&lt;/p&gt;
&lt;h2&gt;쯈u칠 es lo que&amp;nbsp;cambia?&lt;/h2&gt;
&lt;p&gt;Antes de explicar nada, veamos si somos capaces de saber qu칠 est치 cambiando. Veamos dos c칩digos muy&amp;nbsp;similares:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3
4&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;7&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;7&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;7&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="p"&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;Parece que ambos c칩digos hagan lo mismo: a침adir un fragmento, en sus versiones tupla y lista, respectivamente. Vamos a analizarlo mejor. Para saber qu칠 pasa, usemos la funci칩n &lt;code&gt;id()&lt;/code&gt;. Esta funci칩n devuelve un identificador de un objeto de tal modo que si dos objetos tienen el mismo identificador, entonces son el mismo&amp;nbsp;objeto.&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3
4
5
6&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;id&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="mi"&gt;192021604&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;7&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;id&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="mi"&gt;189519828&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3
4
5
6&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;id&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="mi"&gt;189780876&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;7&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;id&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="mi"&gt;189780876&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;En la versi칩n tupla, se ha creado una nueva tupla para realizar la operaci칩n, mientras que en la versi칩n lista se ha usado la misma lista, modific치ndose con el resultado. Si cambiamos el operador &lt;code&gt;+=&lt;/code&gt; por una versi칩n m치s expl칤cita tal vez se vea&amp;nbsp;mejor:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;7&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;extend&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;7&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;Al operar con tuplas, los operandos no cambian de valor, cre치ndose una nueva tupla como resultado de la operaci칩n. Podr칤amos sustituir toda la operaci칩n por el resultado final y el c칩digo funcionar칤a igual. En el caso de las listas, la lista se modifica &lt;em&gt;&amp;#8220;in situ&amp;#8221;&lt;/em&gt; durante la operaci칩n. En estos casos, cambiar la expresi칩n por el resultado final no garantiza que el programa funcione igual. Se necesita pasar por todos y cada uno de los estados intermedios para asegurar que todo funcione&amp;nbsp;igual.&lt;/p&gt;
&lt;p&gt;Esta propiedad de poder cambiar una expresi칩n por su resultado final es conocida por &lt;a href="http://en.wikipedia.org/wiki/Referential_transparency_(computer_science)" title="Referential Transparency"&gt;Transparencia referencial&lt;/a&gt; en programaci칩n funcional. Por lo general, los tipos inmutables se adec칰an mejor a operaciones de c치lculo donde el resultado final depende 칰nicamente de los argumentos de entrada. Por otro lado, los tipos mutables son 칰tiles para salvaguardar estados intermedios necesarios para la toma de decisiones durante la ejecuci칩n de un&amp;nbsp;programa.&lt;/p&gt;
&lt;p&gt;Por lo general, se saber elegir un tipo mutable o su hom칩logo inmutable es todo un arte. Ante la duda, los tipos inmutables son m치s f치ciles de rastrear. As칤 mismo, veremos en pr칩ximos art칤culos que los tipos inmutables ayudan bastante en programaci칩n concurrente, por si est치s pensando en programaci칩n&amp;nbsp;multiproceso.&lt;/p&gt;
&lt;h2&gt;Ejemplos de tipos&amp;nbsp;propios&lt;/h2&gt;
&lt;p&gt;La mutabilidad e inmutabilidad va m치s all치 de los tipos est치ndar de python. Nosotros mismos podemos hacer nuestras propias clases mutables o inmutables, seg칰n nuestras&amp;nbsp;necesidades.&lt;/p&gt;
&lt;p&gt;Pongamos que creamos una clase &lt;code&gt;Point&lt;/code&gt; para definir puntos, junto con unas sencillas operaciones para sumar, restar y desplazar. Nuestra idea es poder usar estos objetos en expresiones, por lo que es pr치ctica com칰n que toda operaci칩n devuelva el resultado como un punto para seguir encadenando&amp;nbsp;operaciones.&lt;/p&gt;
&lt;p&gt;Una versi칩n &lt;em&gt;&amp;#8220;mutable&amp;#8221;&lt;/em&gt; del objeto ser칤a&amp;nbsp;as칤:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt; 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;PointMutable&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;object&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="fm"&gt;__init__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="fm"&gt;__repr__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&amp;lt;Point(&lt;/span&gt;&lt;span class="si"&gt;%d&lt;/span&gt;&lt;span class="s2"&gt;,&lt;/span&gt;&lt;span class="si"&gt;%d&lt;/span&gt;&lt;span class="s2"&gt;)&amp;gt;&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="fm"&gt;__sub__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;other&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;-=&lt;/span&gt; &lt;span class="n"&gt;other&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;-=&lt;/span&gt; &lt;span class="n"&gt;other&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="fm"&gt;__add__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;other&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="n"&gt;other&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="n"&gt;other&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;move&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;dx&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;dy&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="n"&gt;dx&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="n"&gt;dy&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;En todas las operaciones, operamos el objeto consigo mismo y lo retornamos como resultados. Si probamos, vemos que no funciona tal como se&amp;nbsp;esperaba:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3
4&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;p1&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;PointMutable&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;p2&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;PointMutable&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="nb"&gt;print&lt;/span&gt; &lt;span class="n"&gt;p1&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;move&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;p1&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;p2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;move&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;Point&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;Devuelve &lt;code&gt;&amp;lt;Point&amp;lt;0,0&amp;gt;&lt;/code&gt; independientemente de los valores iniciales y de los desplazamientos que demos. Al ser nuestro objeto mutable, cada operaci칩n lo va cambiando. Al final, toda la expresi칩n se reduce a una simple resta &lt;code&gt;p1-p1&lt;/code&gt;, que ser칤a la 칰ltima operaci칩n y que da siempre &lt;code&gt;&amp;lt;Point(0,0)&amp;gt;&lt;/code&gt;. No parece que sea el resultado&amp;nbsp;esperado.&lt;/p&gt;
&lt;p&gt;Debemos adoptar una t치ctica m치s defensiva: el objeto nunca debe cambiar durante el c치lculo. Como resultado de cada operaci칩n deberemos devolver una nueva instancia y que el estado de 칠sta, o sea, sus atributos, no se alteren a lo largo del&amp;nbsp;c치lculo:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt; 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;PointInmutable&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;object&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="fm"&gt;__init__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="fm"&gt;__repr__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&amp;lt;Point(&lt;/span&gt;&lt;span class="si"&gt;%d&lt;/span&gt;&lt;span class="s2"&gt;,&lt;/span&gt;&lt;span class="si"&gt;%d&lt;/span&gt;&lt;span class="s2"&gt;)&amp;gt;&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="fm"&gt;__sub__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;other&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;PointInmutable&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;other&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;other&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="fm"&gt;__add__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;other&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;PointInmutable&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;other&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;other&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;move&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;dx&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;dy&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;PointInmutable&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;dx&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;dy&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3
4&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;p1&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;PointInmutable&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;p2&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;PointInmutable&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="nb"&gt;print&lt;/span&gt; &lt;span class="n"&gt;p1&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;move&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;p1&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;p2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;move&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;Point&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;Siendo perfeccionistas, deber칤amos blindar mejor los atributos de la clase para hacerlos de &lt;em&gt;s칩lo lectura&lt;/em&gt; mediante &lt;code&gt;properties&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;En este ejemplo hemos podido ver los resultados imprevisibles que podemos tener si abusamos de la mutabilidad. Estos problemas se ven incrementados si hubiera varios hilos de ejecuci칩n y cada hilo estuviera modificando las mismas variables comunes. Lamentablemente, es un caso bastante com칰n debido a una mala previsi칩n a la hora de iniciar un proyecto de desarrollo. Pero 칠sto lo veremos en un pr칩ximo&amp;nbsp;art칤culo.&lt;/p&gt;</content><category term="Python"></category></entry><entry><title>Mutabilidad deListas</title><link href="https://blog.ch3m4.org/2013/03/16/mutabilidad-de-listas/" rel="alternate"></link><published>2013-03-16T15:53:00+01:00</published><updated>2019-04-07T21:14:30+02:00</updated><author><name>Chema Cort칠s</name></author><id>tag:blog.ch3m4.org,2013-03-16:/2013/03/16/mutabilidad-de-listas/</id><summary type="html">&lt;div class="admonition info"&gt;
&lt;p class="admonition-title"&gt;Info&lt;/p&gt;
&lt;p&gt;Puedes visionar este art칤culo y descarg치rtelo como notebook ipython en &lt;a href="http://nbviewer.jupyter.org/5177340"&gt;http://nbviewer.jupyter.org/5177340&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Mucha gente, cuando se enfrenta por primera vez al lenguaje python, no entiende bien el concepto de &lt;em&gt;&amp;#8220;inmutabilidad&amp;#8221;&lt;/em&gt; que tanto repite la documentaci칩n al tratar de diferenciar algunos tipos contenedores como tuplas, listas, conjuntos &lt;/p&gt;</summary><content type="html">&lt;div class="admonition info"&gt;
&lt;p class="admonition-title"&gt;Info&lt;/p&gt;
&lt;p&gt;Puedes visionar este art칤culo y descarg치rtelo como notebook ipython en &lt;a href="http://nbviewer.jupyter.org/5177340"&gt;http://nbviewer.jupyter.org/5177340&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Mucha gente, cuando se enfrenta por primera vez al lenguaje python, no entiende bien el concepto de &lt;em&gt;&amp;#8220;inmutabilidad&amp;#8221;&lt;/em&gt; que tanto repite la documentaci칩n al tratar de diferenciar algunos tipos contenedores como tuplas, listas, conjuntos y&amp;nbsp;diccionarios.&lt;/p&gt;
&lt;p&gt;Por lo general, la gente formada en lenguajes de programaci칩n cl치sicos tiene la idea de que las variables son porciones de memoria donde colocar valores. Que una variable no se 칠so, &lt;em&gt;variable&lt;/em&gt;, resulta un contrasentido. Han visto &lt;em&gt;constantes&lt;/em&gt;, pero s칩lo sirven para inicializar variables y poco m치s. Si en su carrera hubieran sido formados en alg칰n lenguaje funcional se dar칤an cuenta que hay quienes piensan que las variables que cambian de valor son las raras, que lo m치s natural es que una variable conserve su valor inicial, o sea, que sea&amp;nbsp;inmutable.&lt;/p&gt;
&lt;p&gt;Por poner un ejemplo, el siguiente c칩digo est치 basado en una pregunta reciente en la lista &lt;a href="http://docs.python.org/3.3/library/copy.html" title="M칩dulo copy"&gt;python-es&lt;/a&gt;. Tenemos una lista de pares y queremos quitar las parejas repetidas con orden&amp;nbsp;cambiado:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt; 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;quitar_dup&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;lista&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;

    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;item&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;lista&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;

        &lt;span class="n"&gt;item&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;reverse&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;

        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;item&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;lista&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="n"&gt;lista&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;remove&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;item&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;lista&lt;/span&gt;

&lt;span class="n"&gt;L&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]]&lt;/span&gt;

&lt;span class="nb"&gt;print&lt;/span&gt; &lt;span class="n"&gt;quitar_dup&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;L&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;  &lt;span class="c1"&gt;#res: [[1, 3], [3, 1]]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;A simple vista, el c칩digo parece correcto, pero tenemos dos operaciones que pueden mutar listas: &lt;code&gt;.reverse()&lt;/code&gt; y &lt;code&gt;.remove()&lt;/code&gt;. De hecho, el resultado es incorrecto: &lt;code&gt;[[1, 3], [3, 1]]&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;A medida que recorremos la lista en el bucle &lt;code&gt;for&lt;/code&gt;, la lista se va modificando, lo que da lugar a resultados inesperados. Si no lo ves bien, basta a침adir algunos &lt;code&gt;prints&lt;/code&gt; en lugares estrat칠gicos para que comprobar lo que pasa. De hecho, s칩lo existen dos iteraciones para cuatro elementos que tiene la&amp;nbsp;lista.&lt;/p&gt;
&lt;p&gt;Otro tipo de casos son cuando pasamos listas a&amp;nbsp;funciones:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt; 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;add&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;l&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;span class="o"&gt;...&lt;/span&gt;   &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="ow"&gt;not&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;l&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="o"&gt;...&lt;/span&gt;     &lt;span class="n"&gt;l&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="o"&gt;...&lt;/span&gt;   &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;l&lt;/span&gt;
&lt;span class="o"&gt;...&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;L&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;add&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;L&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;add&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;L&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;L&lt;/span&gt;
&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;Como efecto colateral, la funci칩n ha modificado la lista pasada como argumento, algo que no es siempre deseable. El problema se agrava m치s si empleamos listas en valores por&amp;nbsp;defecto:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt; 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;add&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;l&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[]):&lt;/span&gt;
&lt;span class="o"&gt;...&lt;/span&gt;   &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="ow"&gt;not&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;l&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="o"&gt;...&lt;/span&gt;     &lt;span class="n"&gt;l&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="o"&gt;...&lt;/span&gt;   &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;l&lt;/span&gt;
&lt;span class="o"&gt;...&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;add&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;add&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;add&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;[])&lt;/span&gt;
&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;add&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;Como se puede ver, aunque intentemos &lt;em&gt;resetear&lt;/em&gt; el valor por defecto, la funci칩n tiene un efecto memoria que es imposible de eliminar. Este efecto es a veces buscado, pero en general debe ser siempre evitado ya que desvirt칰a el sentido que tiene dar valores por&amp;nbsp;defecto.&lt;/p&gt;
&lt;p&gt;Estos efectos son todav칤a m치s perniciosos con la &lt;em&gt;funciones lambda&lt;/em&gt;. Al carecer de una &lt;em&gt;clausura&lt;/em&gt; como las funciones, la evaluaci칩n de una funci칩n lambda depende del &lt;em&gt;scope&lt;/em&gt; donde han sido definidas. Por ejemplo, observa esta creaci칩n de una lista de&amp;nbsp;funciones:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3
4
5
6
7&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;fns&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[]&lt;/span&gt;

&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;fns&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="k"&gt;lambda&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="nb"&gt;print&lt;/span&gt; &lt;span class="n"&gt;fns&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;](&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt; &lt;span class="n"&gt;fns&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;](&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;Siempre a침ade &lt;code&gt;4&lt;/code&gt; al argumento, que es el valor de &lt;code&gt;i&lt;/code&gt; al acabar el bucle, independientemente de qu칠 valor ten칤a esta variable en el momento de crear la funci칩n lambda. No es de extra침ar que se recomiende dejar de usar estas&amp;nbsp;funciones.&lt;/p&gt;
&lt;p&gt;Por 칰ltimo, otro efecto funesto de la mutabilidad de las listas aparece en la creaci칩n de &lt;em&gt;listas multidimensionales&lt;/em&gt; (aka &lt;em&gt;matrices&lt;/em&gt;). Una forma r치pida de crear una matriz de 2x2 es: &lt;code&gt;[[0]*2]*2&lt;/code&gt;. El problema aqu칤 est치 en que cuando clonamos listas, en lugar de copiar los elementos, los enlaza entre s칤. Quiz치s se vea mejor si hacemos alguna&amp;nbsp;operaci칩n:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3
4
5
6
7
8
9&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&amp;gt;&amp;gt;&amp;gt; l = [[0]*2]*2
[[0, 0], [0, 0]]
&amp;gt;&amp;gt;&amp;gt; l[0][0]
0
&amp;gt;&amp;gt;&amp;gt; l[0][0] = 1
&amp;gt;&amp;gt;&amp;gt; l
[[1, 0], [1, 0]]
&amp;gt;&amp;gt;&amp;gt; l[0] is l[1]
True
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;Los elementos &lt;code&gt;l[0]&lt;/code&gt; y &lt;code&gt;l[1]&lt;/code&gt; son el mismo elemento. Que los elementos de una lista puedan estar &lt;em&gt;entrelazados&lt;/em&gt; resulta muy interante para algunos algoritmos de b칰squedas. Pero hay que conocer bien lo que estamos haciendo si no queremos llevarnos alguna&amp;nbsp;sorpresa.&lt;/p&gt;
&lt;h2&gt;Recomendaciones para hacer c칩digo&amp;nbsp;funcional&lt;/h2&gt;
&lt;h3&gt;Copia de&amp;nbsp;listas&lt;/h3&gt;
&lt;p&gt;En funciones y m칠todos, si recibimos una lista como argumento, la primera acci칩n defensiva que deber칤amos hacer es copiar la lista en una variable local y trabajar solo con la variable local desde ese momento. Con una asignaci칩n directa no se realiza una copia, m치s bien estar칤amos &lt;em&gt;enlazando&lt;/em&gt; una nueva referenciasin solucionar&amp;nbsp;nada.&lt;/p&gt;
&lt;p&gt;La forma consensuada entre programadores python de copiar una lista es con la operaci칩n de &lt;em&gt;spliting&lt;/em&gt; &lt;code&gt;L[:]&lt;/code&gt;, aunque sirven otras operaciones idempotentes como &lt;code&gt;L*1&lt;/code&gt; 칩 &lt;code&gt;L+[]&lt;/code&gt;&lt;sup id="fnref:1"&gt;&lt;a class="footnote-ref" href="#fn:1"&gt;1&lt;/a&gt;&lt;/sup&gt;. Para listas de elementos entrelazados tendremos que acudir a otros mecanismos de copia como los que ofrece el &lt;a href="http://docs.python.org/3.3/library/copy.html" title="M칩dulo copy"&gt;m칩dulo &lt;code&gt;copy&lt;/code&gt;&lt;/a&gt;, aunque no ser치 frecuente que lo&amp;nbsp;necesitemos.&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3
4
5&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;add&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;lista&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
  &lt;span class="n"&gt;l&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;lista&lt;/span&gt;&lt;span class="p"&gt;[:]&lt;/span&gt;
  &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="ow"&gt;not&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;l&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;l&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
  &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;l&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;En cuanto a los argumentos por defecto, lo mejor es no usar nunca una lista para tal cosa. Una buena estrategia defensiva consiste en usar &lt;code&gt;None&lt;/code&gt; de esta&amp;nbsp;forma:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3
4
5&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;add&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;lista&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;None&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
  &lt;span class="n"&gt;l&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[]&lt;/span&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;lista&lt;/span&gt; &lt;span class="ow"&gt;is&lt;/span&gt; &lt;span class="kc"&gt;None&lt;/span&gt; &lt;span class="k"&gt;else&lt;/span&gt; &lt;span class="n"&gt;lista&lt;/span&gt;&lt;span class="p"&gt;[:]&lt;/span&gt;
  &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="ow"&gt;not&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;l&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;l&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
  &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;l&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;h3&gt;Operaciones inmutables con&amp;nbsp;listas&lt;/h3&gt;
&lt;p&gt;En cuanto a evitar las operaciones que mutan listas, siempre hay alternativas inmutables de todas estas operaciones. El siguiente cuadro puede servir como&amp;nbsp;referencia:&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Mutable&lt;/th&gt;
&lt;th&gt;Inmutable&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;L.append(item)&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;L+[item]&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;L.extend(sequence)&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;L + list(sequence)&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;L.insert(index, item)&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;L[:index] + [item] + L[index:]&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;L.reverse()&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;L[::-1]&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;L.sort()&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;sorted(L)&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;item = L.pop()&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;item,L = L[-1],L[:-1]&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;item = L.pop(0)&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;item,L = L[0],L[1:]&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;item = L.pop(index)&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;item, L = L[item], L[:item]+L[item+1:]&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;L.remove(item)&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;L=L[:item]+L[item+1:]&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;L[i:j] = K&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;L[:i] + K + L[j:]&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;A la hora de decidir qu칠 versi칩n usar, la versi칩n inmutable es m치s apropiada para programaci칩n funcional y resulta incluos m치s intuitiva de interpretar. No es extra침o ver errores de c칩digo donde se espera resultados de las operaciones &lt;code&gt;.sort()&lt;/code&gt; o &lt;code&gt;.reverse()&lt;/code&gt;, que siempre devuelven &lt;code&gt;None&lt;/code&gt;. Para el int칠rprete de python no hay error, pero a veces nos ser치 dif칤cil darnos cuenta de estos&amp;nbsp;errores:&lt;/p&gt;
&lt;p&gt;&lt;em&gt;&lt;span class="caps"&gt;MODO&lt;/span&gt; ERR칍NEO: machacamos la lista con&amp;nbsp;None&lt;/em&gt;&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3
4
5&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;l&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;l_2&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;l&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sort&lt;/span&gt;&lt;span class="p"&gt;()]&lt;/span&gt;
&lt;span class="n"&gt;Traceback&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;most&lt;/span&gt; &lt;span class="n"&gt;recent&lt;/span&gt; &lt;span class="n"&gt;call&lt;/span&gt; &lt;span class="n"&gt;last&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
  &lt;span class="n"&gt;File&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&amp;lt;stdin&amp;gt;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;line&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;module&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;
&lt;span class="ne"&gt;TypeError&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;NoneType&amp;#39;&lt;/span&gt; &lt;span class="nb"&gt;object&lt;/span&gt; &lt;span class="ow"&gt;is&lt;/span&gt; &lt;span class="ow"&gt;not&lt;/span&gt; &lt;span class="n"&gt;iterable&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;&lt;em&gt;&lt;span class="caps"&gt;MODO&lt;/span&gt; &lt;span class="caps"&gt;CORRECTO&lt;/span&gt;&lt;/em&gt;&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3
4&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;l&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;l_2&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;sorted&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;l&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;l_2&lt;/span&gt;
&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;9&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;16&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;25&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;div class="footnote"&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id="fn:1"&gt;
&lt;p&gt;De hecho, la operaci칩n &lt;code&gt;L*1&lt;/code&gt; es m치s eficiente que &lt;code&gt;L[:]&lt;/code&gt;.&amp;#160;&lt;a class="footnote-backref" href="#fnref:1" title="Jump back to footnote 1 in the text"&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;</content><category term="Python"></category></entry><entry><title>Dobleces en맗ython</title><link href="https://blog.ch3m4.org/2013/02/27/dobleces-en-python/" rel="alternate"></link><published>2013-02-27T21:39:00+01:00</published><updated>2013-02-27T21:39:00+01:00</updated><author><name>Chema Cort칠s</name></author><id>tag:blog.ch3m4.org,2013-02-27:/2013/02/27/dobleces-en-python/</id><summary type="html">&lt;p&gt;En el &lt;a href="https://blog.ch3m4.org/2013/02/21/collage-vs-origami/" title="Collage vs. Origami"&gt;칰ltimo art칤culo&lt;/a&gt; del blog contaba en qu칠 consist칤a &lt;em&gt;doblar c칩digo&lt;/em&gt;&lt;sup id="fnref:1"&gt;&lt;a class="footnote-ref" href="#fn:1"&gt;1&lt;/a&gt;&lt;/sup&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;span class="dquo"&gt;&amp;#8220;&lt;/span&gt;&amp;#8230;un c칩digo que se pliega sobre s칤 mismo. Un c칩digo que te
lleva desde un principio a un final por el camino m치s&amp;nbsp;corto.&amp;#8221;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Para ilustrar este concepto voy a usar un trozo de c칩digo python que &lt;/p&gt;</summary><content type="html">&lt;p&gt;En el &lt;a href="https://blog.ch3m4.org/2013/02/21/collage-vs-origami/" title="Collage vs. Origami"&gt;칰ltimo art칤culo&lt;/a&gt; del blog contaba en qu칠 consist칤a &lt;em&gt;doblar c칩digo&lt;/em&gt;&lt;sup id="fnref:1"&gt;&lt;a class="footnote-ref" href="#fn:1"&gt;1&lt;/a&gt;&lt;/sup&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;span class="dquo"&gt;&amp;#8220;&lt;/span&gt;&amp;#8230;un c칩digo que se pliega sobre s칤 mismo. Un c칩digo que te
lleva desde un principio a un final por el camino m치s&amp;nbsp;corto.&amp;#8221;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Para ilustrar este concepto voy a usar un trozo de c칩digo python que se ve frecuentemente entre los programadores reci칠n llegados de otros&amp;nbsp;lenguajes:&lt;/p&gt;
&lt;p&gt;&lt;sub&gt;&lt;em&gt;&lt;span class="caps"&gt;NOTA&lt;/span&gt;: se usar치 python 3.x para los siguientes ejemplos&lt;/em&gt;&lt;/sub&gt;&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt; 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;listar&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;num&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;
    &lt;span class="k"&gt;while&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;num&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
        &lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;format&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot; 5d&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="o"&gt;+=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;

&lt;span class="n"&gt;fich&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nb"&gt;open&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;fichero.txt&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;lineas&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;fich&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;readlines&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;listar&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;lineas&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;Resumen: se define una funci칩n para imprimir en pantalla la lista de l칤neas le칤das de un fichero, precedidas con el n칰mero de caracteres que tiene la&amp;nbsp;l칤nea.&lt;/p&gt;
&lt;p&gt;Quien tenga algo de experiencia con python seguramente vea raro este c칩digo, incluso lo califique como &lt;em&gt;&amp;#8220;poco pyth칩nico&amp;#8221;&lt;/em&gt;. Nombrar a la funci칩n &lt;code&gt;listar&lt;/code&gt;, como verbo, es se침al de que el programador proviene de un lenguaje de &lt;em&gt;programaci칩n imperativo&lt;/em&gt;. El programador ha buscado en python las mismas estructuras de control que ten칤a en su lenguaje de origen y s칩lo ha encontrado familiar la estructura &lt;code&gt;while&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Rebuscando un poco m치s, tal vez encuentre c칩mo se usan los bucles &lt;code&gt;for&lt;/code&gt; en&amp;nbsp;python:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3
4
5&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;listar&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;num&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;num&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
        &lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;format&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot; 5d&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;Un bucle &lt;code&gt;for&lt;/code&gt; se caracteriza por concentrar en una sentencia todo el control del bucle, una gran ayuda visual para quien vaya a leer este c칩digo. La variable de control solo se modifica en la sentencia &lt;code&gt;for&lt;/code&gt;, lo que evita&amp;nbsp;errores.&lt;/p&gt;
&lt;p&gt;Analizando m치s detenidamente, el bucle &lt;code&gt;for&lt;/code&gt; itera sobre una secuencia de enteros dada por &lt;code&gt;range(0,num)&lt;/code&gt;, de donde se sacan los 칤ndices con los que acceder a cada elemento de la lista &lt;code&gt;args&lt;/code&gt;. 칄sta ser칤a la visi칩n cl치sica de c칩mo operar con &lt;code&gt;arrays&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Pero esta visi칩n ha evolucionado con el tiempo hasta llegar al concepto de &lt;em&gt;&amp;#8220;Colecci칩n&amp;#8221;&lt;/em&gt; que ya poseen casi todos los lenguajes, bien en su sintaxis, bien como librer칤a est치ndar. Una &lt;em&gt;&amp;#8220;Colecci칩n&amp;#8221;&lt;/em&gt; consiste en un grupo de objetos sobre los que puede iterar. &lt;code&gt;range(0,num)&lt;/code&gt; ser칤a una colecci칩n ordenada de n칰meros. El siguiente paso a dar ser칤a iterar directamente sobre la&amp;nbsp;lista:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;listar&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;format&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot; 5d&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;Con este c칩digo hemos conseguido un doble objetivo, mejorar la legibilidad y darle m치s robustez al despreocuparnos por los 칤ndices de acceso. Los 칤ndices de acceso fuera de l칤mites suelen ser origen de multitud de&amp;nbsp;errores.&lt;/p&gt;
&lt;p&gt;Pero tenemos algo m치s: al no usar 칤ndices hemos generalizado el uso de la funci칩n por cualquier secuencia, generador o &lt;a href="http://docs.python.org/3/library/stdtypes.html#iterator-types" title="Tipo iterador"&gt;iterador&lt;/a&gt;. Concretamente, los objetos &lt;code&gt;files&lt;/code&gt; cumplen con el protocolo iterador, por lo que ser칤a posible pasarlo directamente a esta funci칩n sin necesidad de volcar todas las l칤neas del fichero a una&amp;nbsp;lista:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3
4
5&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;listar&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;it&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;it&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;format&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot; 5d&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;listar&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;open&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;fichero.txt&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;Con este 칰ltimo doblez hemos ganado concisi칩n. Pero sobre hemos ahorrado recursos ya que no necesitamos leer todo el fichero en memoria. La lectura del fichero se har치 progresivamente en el momento que se solicite la siguiente l칤nea, por lo que este c칩digo deber칤a funcionar incluso con ficheros enormes, independiente de la cantidad de memoria disponible. S칩lo se emplear치 la memoria suficiente para cachear una pocas l칤neas para ir renov치ndolas a medida que se prosiga la lectura del&amp;nbsp;fichero.&lt;/p&gt;
&lt;p&gt;Es un buen momento para comparar esta versi칩n del c칩digo con la original de la que hemos&amp;nbsp;partido.&lt;/p&gt;
&lt;h2&gt;Programaci칩n&amp;nbsp;Funcional&lt;/h2&gt;
&lt;p&gt;Entre doblez y doblez, hemos perdido algunas variables intermedias superfluas. Esta &lt;em&gt;man칤a&lt;/em&gt; por deshacerse de variables intermedias es se침al de estar aproxim치ndonos a un estilo de &lt;em&gt;programaci칩n funcional&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Una posible definici칩n de &lt;em&gt;&amp;#8220;Programaci칩n Funcional&amp;#8221;&lt;/em&gt; ser칤a como &lt;em&gt;aquella programaci칩n que difiere la evaluaci칩n de una expresi칩n hasta el momento 칰ltimo en el que se vaya a usar su valor&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Para este prop칩sito, la expresi칩n no puede depender de factores externos como variables globales o cambios de estado. No sabemos cu치ndo ser치 evaluada una expresi칩n. Lo 칰nico posible es hacer depender el resultado de una expresi칩n en funci칩n del valor de otra, lo que se conoce por &lt;em&gt;&amp;#8220;Composici칩n de funciones&amp;#8221;&lt;/em&gt; (y de ah칤 el nombre de programaci칩n&amp;nbsp;funcional).&lt;/p&gt;
&lt;p&gt;Este modo de diferir la evaluaci칩n es lo que hicimos con el iterador fichero, cuyas l칤neas no se le칤an hasta el momento preciso. La pregunta es 쯣odemos mejorar la orientaci칩n funcional de nuestro&amp;nbsp;c칩digo?&lt;/p&gt;
&lt;p&gt;La funci칩n &lt;code&gt;listar&lt;/code&gt; no devuelve nada, tan s칩lo busca un efecto colateral. Es lo que se conoce en otros lenguajes como &lt;em&gt;&amp;#8220;procedimiento&amp;#8221;&lt;/em&gt; (&lt;em&gt;procedure&lt;/em&gt;). En nuestra met치fora de &amp;#8220;pliegues&amp;#8221;, una funci칩n que no devuelve nada la podr칤amos considerar como un &amp;#8220;corte&amp;#8221;, ya que no podemos hacer nada m치s a partir de&amp;nbsp;aqu칤.&lt;/p&gt;
&lt;p&gt;쯈u칠 pasar칤a si queremos cambiar la l칤nea que se imprime en pantalla? 쯏 si queremos parar despu칠s de imprimir un n칰mero de l칤neas? En este punto, lo mejor es &amp;#8220;desdoblar&amp;#8221; el c칩digo y darle una orientaci칩n m치s&amp;nbsp;funcional:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt; 1
 2
 3
 4
 5
 6
 7
 8
 9
10&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;itertools&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;islice&lt;/span&gt;

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;lineas&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;it&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;it&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="k"&gt;yield&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="si"&gt;{: 5d}&lt;/span&gt;&lt;span class="s2"&gt; &lt;/span&gt;&lt;span class="si"&gt;{}&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;format&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;

&lt;span class="n"&gt;it&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;lineas&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;open&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;pr.py&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;

&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;l&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;enumerate&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;islice&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;it&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;)):&lt;/span&gt;
    &lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;|&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;l&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;La funci칩n &lt;code&gt;listar&lt;/code&gt; ha pasado a ser el iterador &lt;code&gt;lineas&lt;/code&gt; que retorna las l칤neas ya formateadas. Asimismo, se ha cambiado la funci칩n &lt;code&gt;format&lt;/code&gt; por el m칠todo &lt;code&gt;format&lt;/code&gt; de los &lt;code&gt;strings&lt;/code&gt; con el que se pueden formatear mejor varios valores a la vez. La impresi칩n de las l칤neas en pantalla se deja para el 칰ltimo momento, cuando se necesita ver el resultado. Es en este momento cuando se decide cu치ntas l칤neas se van a imprimir, que es lo que hace el &lt;code&gt;islice&lt;/code&gt; acortando el iterador &lt;code&gt;lineas&lt;/code&gt; a 5 iteraciones. Tambi칠n se usa el iterador &lt;code&gt;enumerate&lt;/code&gt; para ir enumerando las l칤neas a medida que las&amp;nbsp;obtenemos.&lt;/p&gt;
&lt;p&gt;Como se ve, una orientaci칩n funcional permite encadenar varias operaciones sin necesidad de mantener estados intermedios&lt;sup id="fnref:2"&gt;&lt;a class="footnote-ref" href="#fn:2"&gt;2&lt;/a&gt;&lt;/sup&gt;. Adem치s de lo que supone de ahorro de recursos, no tener que mantener un contexto con los estados intermedios har치 m치s sencillo migrar la ejecuci칩n de un proceso a otro en programaci칩n concurrente (eg: &lt;em&gt;multihilo&lt;/em&gt;). Hoy en d칤a, tal como evolucionan los ordenadores, quien no programe pensando en la ejecuci칩n concurrente terminar치 programando dos&amp;nbsp;veces.&lt;/p&gt;
&lt;div class="footnote"&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id="fn:1"&gt;
&lt;p&gt;Puede que prefieras usar el t칠rmino &lt;a href="http://es.wikipedia.org/wiki/Refactorizaci칩n" title="Refactorizaci칩n"&gt;&lt;em&gt;&amp;#8220;refactorizar&amp;#8221;&lt;/em&gt;&lt;/a&gt;, pero he pensado que es mejor dejar este t칠rmino para la programaci칩n orientada a objeto y usar &lt;em&gt;&amp;#8220;doblez&amp;#8221;&lt;/em&gt; para dar una idea m치s af칤n a la programaci칩n funcional.&amp;#160;&lt;a class="footnote-backref" href="#fnref:1" title="Jump back to footnote 1 in the text"&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id="fn:2"&gt;
&lt;p&gt;En realidad, no es del todo cierto que la funci칩n no dependa de estados externos ya que el iterador &lt;code&gt;it&lt;/code&gt; que hemos pasado como argumento podr칤a cambiar externamente entre iteraciones.&amp;#160;&lt;a class="footnote-backref" href="#fnref:2" title="Jump back to footnote 2 in the text"&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;</content><category term="Python"></category></entry><entry><title>Collage vs.Origami</title><link href="https://blog.ch3m4.org/2013/02/21/collage-vs-origami/" rel="alternate"></link><published>2013-02-21T22:09:00+01:00</published><updated>2013-02-21T22:09:00+01:00</updated><author><name>Chema Cort칠s</name></author><id>tag:blog.ch3m4.org,2013-02-21:/2013/02/21/collage-vs-origami/</id><summary type="html">&lt;p&gt;En mis a침os como programador he visto mucho c칩digo. Lo suficiente como para saber qu칠 estilo tiene el programador que lo escribe, cu치les son sus vicios y cu치les son sus errores de&amp;nbsp;concepto.&lt;/p&gt;
&lt;p&gt;Nos resulta imposible definir conceptos como &lt;em&gt;&amp;#8220;elegancia&amp;#8221;&lt;/em&gt; o &lt;em&gt;&amp;#8220;claridad&amp;#8221;&lt;/em&gt; en un c칩digo. Son conceptos m치s afines a &lt;/p&gt;</summary><content type="html">&lt;p&gt;En mis a침os como programador he visto mucho c칩digo. Lo suficiente como para saber qu칠 estilo tiene el programador que lo escribe, cu치les son sus vicios y cu치les son sus errores de&amp;nbsp;concepto.&lt;/p&gt;
&lt;p&gt;Nos resulta imposible definir conceptos como &lt;em&gt;&amp;#8220;elegancia&amp;#8221;&lt;/em&gt; o &lt;em&gt;&amp;#8220;claridad&amp;#8221;&lt;/em&gt; en un c칩digo. Son conceptos m치s afines a la &lt;em&gt;Est칠tica&lt;/em&gt; que a las &lt;em&gt;Ciencias de la Computaci칩n&lt;/em&gt;, siendo dif칤ciles de medir objetivamente. Nunca ser치n parte de una metodolog칤a y, sin embargo, se consideran objetivos a alcanzar por todo programador que se&amp;nbsp;precie.&lt;/p&gt;
&lt;p&gt;En nuestra simpleza, necesitamos compartimentar todo lo que conocemos en grandes grupos: imperativo vs. din치mico, tipado est치tico vs. tipado din치mico, estructural vs. orientado a objeto, orientado a objeto vs. funcional,&amp;nbsp;&amp;#8230;&lt;/p&gt;
&lt;p&gt;En este mundo de &lt;em&gt;versus&lt;/em&gt;, podemos hacer una similitud de la programaci칩n de c칩digo con el versus &lt;em&gt;&amp;#8220;Collage vs. Origami&amp;#8221;&lt;/em&gt;.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Un &lt;strong&gt;c칩digo collage&lt;/strong&gt; ser칤a un c칩digo construido como parches. Secciones de estructuras distintas, con controles que encajen todas las piezas. Todo pensado para que si una pieza no funciona, se &amp;#8220;arranca&amp;#8221; y se pone otra&amp;nbsp;encima.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Un &lt;strong&gt;c칩digo origami&lt;/strong&gt; ser칤a un c칩digo que se pliega sobre s칤 mismo. Un c칩digo que te lleva desde un principio a un final por el camino m치s corto. Si algo no funciona, se vuelve atr치s, se &amp;#8220;desdobla&amp;#8221; y se hace un doblez&amp;nbsp;nuevo.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Al igual que el origami, la creaci칩n de c칩digo requiere muchas veces pararse a pensar qu칠 parte del c칩digo se complic칩 demasiado y actuar sobre esa parte. Si no se entiende bien, una repetici칩n consistente en teclear decenas de veces ese c칩digo ayuda a entender mejor lo que hace y el motivo que hac칤a que fuera tan complicado. Es muy similar a repetir los mismos dobleces de una figura de papel hasta lograr su doblado&amp;nbsp;perfecto. &lt;/p&gt;
&lt;p&gt;Como parte de tribunales de selecci칩n para puestos inform치ticos, me he sentido muchas veces molesto por tener que redactar tediosos cuestionarios de preguntas t칠cnicas que nada valoraban la capacidad real del candidato para el futuro trabajo que iba a realizar. El objeto era realizar una fuerte criba entre los candidatos y, sobre todo, ordenarlos por puntos para hacer m치s sencilla su selecci칩n&amp;nbsp;posterior.&lt;/p&gt;
&lt;p&gt;Pero era en la posterior prueba pr치ctica donde mejor pod칤a apreciar la val칤a de un candidato. Una visi칩n del c칩digo fuente y la documentaci칩n asociada permit칤a apreciar claramente qui칠nes eran los adecuados para el puesto. Pero 쯖칩mo valorar con una puntuaci칩n esta&amp;nbsp;percepci칩n?&lt;/p&gt;
&lt;p&gt;Puede que para la pr칩xima vez empiece por pedir al candidato que doble el papel de los enunciados de la prueba. Seguramente consiga saber m치s de 칠l que de las respuestas que pueda&amp;nbsp;darme.&lt;/p&gt;</content><category term="Pensamientos"></category></entry><entry><title>Estado de맙ituaci칩n</title><link href="https://blog.ch3m4.org/2013/02/19/estado-de-situacion/" rel="alternate"></link><published>2013-02-19T21:39:00+01:00</published><updated>2013-02-19T21:39:00+01:00</updated><author><name>Chema Cort칠s</name></author><id>tag:blog.ch3m4.org,2013-02-19:/2013/02/19/estado-de-situacion/</id><summary type="html">&lt;p&gt;Hac칤a mucho que no actualizaba mi blog y creo que ya es momento de contar algunas cosillas. Me gustar칤a no tener que hablar de la crisis por la que estamos pasando, al menos en Espa침a, pero resulta imposible abstraerse de su&amp;nbsp;influencia.&lt;/p&gt;
&lt;p&gt;En mi trabajo como inform치tico en una administraci칩n &lt;/p&gt;</summary><content type="html">&lt;p&gt;Hac칤a mucho que no actualizaba mi blog y creo que ya es momento de contar algunas cosillas. Me gustar칤a no tener que hablar de la crisis por la que estamos pasando, al menos en Espa침a, pero resulta imposible abstraerse de su&amp;nbsp;influencia.&lt;/p&gt;
&lt;p&gt;En mi trabajo como inform치tico en una administraci칩n p칰blica, soy testigo de c칩mo se est치n aplicando medidas de austeridad sin contramedidas que eviten el colapso del sistema. Sin duda alguna, el objetivo de estas medidas no puede ser otro que liquidar el sistema p칰blico para su sustituci칩n por otro basado en el libre mercado, menos solidario y m치s&amp;nbsp;injusto.&lt;/p&gt;
&lt;p&gt;Pero no quiero hablar de la crisis en general. Hay otros muchos blogs que lo hacen mucho mejor que yo y con mayor profundidad. Solo quisiera hablar ahora de los cambios que estoy viviendo en mi entorno de&amp;nbsp;trabajo.&lt;/p&gt;
&lt;p&gt;Por un lado, todos aquellos proyectos innovadores en los que estaba implicado han sido cancelados o aminorados por los nuevos gestores. Como primera consecuencia de ello, han quedado sin uso todos mis programas hechos en python con los que extra칤a la informaci칩n que necesitaba la direcci칩n para la toma de decisiones (&lt;abbr title="&amp;quot;Management Information System&amp;quot; - &amp;quot;Sistema de informaci칩n gerencial (SIG)&amp;quot;"&gt;&lt;span class="caps"&gt;MIS&lt;/span&gt;&lt;/abbr&gt;). Conf칤o que alg칰n d칤a vuelva a interesar el &lt;em&gt;estado real&lt;/em&gt; de la administraci칩n donde trabajo, aunque sospecho que para entonces ser치 demasiado&amp;nbsp;tarde.&lt;/p&gt;
&lt;p&gt;Se puede afirmar que ahora mismo ya no programo en python. Por si fuera poco, a 칠sto hay que a침adir la cantidad de proyectos que se nos est치n quedando hu칠rfanos por no poder renovar su mantenimiento o, simplemente, por quebrar y desaparecer las empresas que los llevaban. Todos estos proyectos est치n cayendo en mi bandeja de tareas pendientes, con lo que ahora he tenido que volver a programar en lenguajes que cre칤a olvidados como Visual Basic, &lt;span class="caps"&gt;TSQL&lt;/span&gt; o &lt;span class="caps"&gt;PHP&lt;/span&gt;. Un gran paso atr치s del que no veo que podamos salir en bastantes&amp;nbsp;a침os.&lt;/p&gt;
&lt;p&gt;Por este motivo, cuando un grupo de entusiastas programadores espa침oles de python unieron esfuerzos para crear una &lt;a href="http://www.es.pycon.org/" title="PyCon Espa침a"&gt;asociaci칩n&lt;/a&gt; con la que montar la primera &lt;a href="http://www.es.pycon.org/" title="PyCon Espa침a"&gt;&lt;strong&gt;PyCon&lt;/strong&gt; espa침ola&lt;/a&gt;, no he podido dejar de pensar lo lejos que estoy en estos momentos de considerarme &lt;em&gt;&amp;#8220;programador python&amp;#8221;&lt;/em&gt;. Se me incluy칩 en un principio entre los &lt;em&gt;&amp;#8220;socios fundadores&amp;#8221;&lt;/em&gt; de la asociaci칩n, supongo que debido a mi labor en la lista de &lt;a href="http://mail.python.org/mailman/listinfo/python-es"&gt;python-es&lt;/a&gt; todos estos a침os. Pero pienso que un socio fundador debe ser una especie de socio &lt;em&gt;&amp;#8220;compromisario&amp;#8221;&lt;/em&gt; que trabaje duro para hacer viable la asociaci칩n, sobre todo en sus inicios m치s dif칤ciles. En estos momentos, no me veo capaz de algo as칤, ni siquiera de mostrar el m치s m칤nimo entusiasmo. Por 칠so mismo, he preferido declinar el ofrecimiento y figurar como un socio m치s, a pesar de haber podido disgustar a m치s de&amp;nbsp;uno.&lt;/p&gt;
&lt;p&gt;Como puntilla a lo dicho, 칰ltimamente estoy dedicando todo mi tiempo disponible al estudio del lenguaje &lt;a href="http://www.scala-lang.org/"&gt;scala&lt;/a&gt;. Adem치s de reconciliarme con la programaci칩n funcional, me ha hecho f칠rreo defensor del tipado est치tico frente al tipado din치mico que usa python. No quiero decir de ninguna manera que abandone python, pero preveo que este a침o lo dedicar칠 a convertirme en experto programador de scala. Definitivamente, no encajo preparando la PyCon. Mis disculpas por&amp;nbsp;ello.&lt;/p&gt;</content><category term="Pensamientos"></category><category term="PyConES"></category></entry><entry><title>Pruebas b치sicas de python (y맙cala)</title><link href="https://blog.ch3m4.org/2012/10/25/pruebas-basicas-de-python-y-scala/" rel="alternate"></link><published>2012-10-25T17:04:00+02:00</published><updated>2012-10-25T17:04:00+02:00</updated><author><name>Chema Cort칠s</name></author><id>tag:blog.ch3m4.org,2012-10-25:/2012/10/25/pruebas-basicas-de-python-y-scala/</id><summary type="html">&lt;p&gt;Como continuaci칩n del art칤culo &lt;a href="https://blog.ch3m4.org/2012/10/17/como-contratar-un-programador-de-python/" title="C칩mo contratar un programador de python"&gt;&amp;#8220;C칩mo contratar a un programador de python&amp;#8221;&lt;/a&gt; voy a dar las soluciones a algunas de las pruebas b치sicas que comentaba del proceso de selecci칩n. A침ado tambi칠n las soluciones sobre c칩mo ser칤a con &lt;em&gt;scala&lt;/em&gt; y de paso comparamos ambos lenguajes&lt;sup id="fnref:1"&gt;&lt;a class="footnote-ref" href="#fn:1"&gt;1&lt;/a&gt;&lt;/sup&gt;.&lt;/p&gt;
&lt;h2&gt;Prueba del &amp;#8220;Hello,&amp;nbsp;World!&amp;#8221;&lt;/h2&gt;
&lt;p&gt;Desde que &lt;/p&gt;</summary><content type="html">&lt;p&gt;Como continuaci칩n del art칤culo &lt;a href="https://blog.ch3m4.org/2012/10/17/como-contratar-un-programador-de-python/" title="C칩mo contratar un programador de python"&gt;&amp;#8220;C칩mo contratar a un programador de python&amp;#8221;&lt;/a&gt; voy a dar las soluciones a algunas de las pruebas b치sicas que comentaba del proceso de selecci칩n. A침ado tambi칠n las soluciones sobre c칩mo ser칤a con &lt;em&gt;scala&lt;/em&gt; y de paso comparamos ambos lenguajes&lt;sup id="fnref:1"&gt;&lt;a class="footnote-ref" href="#fn:1"&gt;1&lt;/a&gt;&lt;/sup&gt;.&lt;/p&gt;
&lt;h2&gt;Prueba del &amp;#8220;Hello,&amp;nbsp;World!&amp;#8221;&lt;/h2&gt;
&lt;p&gt;Desde que se invent칩 el lenguaje C, la prueba del &lt;code&gt;"Hello, World!"&lt;/code&gt; es la prueba que inicialmente caracteriza a un lenguaje. Y en python&amp;nbsp;ser칤a:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="nb"&gt;print&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;춰Hola, Mundo!&amp;quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;Lo que hay que saber es que este c칩digo no funciona en python3 y ser치 lo primero que te pregunte el seleccionador. En python3, el comando &lt;code&gt;print&lt;/code&gt; se convierte en una funci칩n, por lo que se debe a침adir los&amp;nbsp;par칠ntesis:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;춰Hola, Mundo!&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;Con esta introducci칩n, el seleccionador te puede preguntar alguna cosa m치s sobre el comando &lt;code&gt;print&lt;/code&gt;, como si se puede usar con cualquier objeto o si se puede sacar f치cilmente una salida&amp;nbsp;tabulada.&lt;/p&gt;
&lt;p&gt;En scala, la respuesta tambi칠n es&amp;nbsp;simple:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;println&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;춰Hola, Mundo!&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;&lt;code&gt;println&lt;/code&gt; es una funci칩n, como es l칩gico al tratarse de un &lt;em&gt;lenguaje funcional&lt;/em&gt;. Un seleccionador te puede preguntar por el sufijo &lt;code&gt;ln&lt;/code&gt;, que no es otra cosa que a침adir un salto de l칤nea en la salida. Este c칩digo es equivalente&amp;nbsp;a:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;print&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;춰Hola, Mundo!\n&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;Se puede ver al final una expresi칩n de escape que representa al salto de l칤nea, universalmente aceptada por un buen n칰mero de lenguajes (python&amp;nbsp;inclu칤do).&lt;/p&gt;
&lt;h2&gt;Detector de&amp;nbsp;pal칤ndromos&lt;/h2&gt;
&lt;p&gt;Un pal칤ndromo ser칤a una frase que resulta igual le칤da del principio al final, que del final al principio. Algunos&amp;nbsp;ejemplos:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;A man, a plan, a canal: Panama!
D치bale arroz a la zorra el Abad
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;Para hacer un detector de pal칤ndromos en python tenemos que hacer una funci칩n que lo primero que haga sea filtrar todos los espacios en blancos y los signos de puntuaci칩n de la frase, convertir todas las letras a min칰sculas (o may칰sculas) y comprobar luego si la frase es igual en un sentido y&amp;nbsp;otro:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;isPalindrome&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;frase&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;frase_limpia&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;lower&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;c&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;frase&lt;/span&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;A&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;frase_limpia&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="n"&gt;frase_limpia&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;reverse&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;Como primera aproximaci칩n puede valer. Se filtra la frase para que s칩lo aparezcan letras (&lt;code&gt;c&amp;gt;="A"&lt;/code&gt;), quitando espacios y signos de puntuaci칩n. Tambi칠n se ha convertido a min칰sculas con &lt;code&gt;c.lower()&lt;/code&gt; para hacer mejor la comparaci칩n. El problema es que no convierte las vocales con tilde a vocales sin tilde, con lo que el pal칤ndromo &lt;em&gt;&amp;#8220;D치bale arroz a la zorra el Abad&amp;#8221;&lt;/em&gt; no lo va a detectar bien. El &lt;em&gt;&amp;#8220;candidato&amp;#8221;&lt;/em&gt; debe darse cuenta de ello e intentar explicar alg칰n modo de resolverlo (cuya resoluci칩n completa quedar칤a fuera de la prueba real y del presente art칤culo&lt;sup id="fnref:2"&gt;&lt;a class="footnote-ref" href="#fn:2"&gt;2&lt;/a&gt;&lt;/sup&gt;).&lt;/p&gt;
&lt;p&gt;En scala ser칤a algo&amp;nbsp;as칤:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3
4&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="n"&gt;isPalindrome&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="n"&gt;frase&lt;/span&gt;&lt;span class="k"&gt;:&lt;/span&gt;&lt;span class="kt"&gt;String&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;&lt;span class="k"&gt;:&lt;/span&gt;&lt;span class="kt"&gt;Boolean&lt;/span&gt;&lt;span class="o"&gt;={&lt;/span&gt;
    &lt;span class="k"&gt;val&lt;/span&gt; &lt;span class="n"&gt;frase_limpia&lt;/span&gt;&lt;span class="k"&gt;=&lt;/span&gt;&lt;span class="n"&gt;frase&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;filter&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="k"&gt;_&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;=&lt;/span&gt;&lt;span class="sc"&gt;&amp;#39;A&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;).&lt;/span&gt;&lt;span class="n"&gt;toLowerCase&lt;/span&gt;
    &lt;span class="n"&gt;frase_limpia&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="n"&gt;frase_limpia&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;reverse&lt;/span&gt;
&lt;span class="o"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;Aqu칤 todas las operaciones se han hecho con el tipo &lt;code&gt;String&lt;/code&gt;, sin necesidad de pasar a una lista como en python. La 칰ltima sentencia de la funci칩n ser치 el resultado que devuelve la funci칩n. En s칤, esta funci칩n ser칤a correcta, pero usar una variable intermedia como &lt;code&gt;frase_limpia&lt;/code&gt; para guardar un estado intermedio va en contra de la filosof칤a de la programaci칩n funcional. Un programa funcional &lt;em&gt;intenta retrasar todo lo que se pueda la evaluaci칩n del resultado con el fin de evitar posibles efectos colaterales&lt;/em&gt;. Lo ideal ser칤a que s칩lo se hiciera la &lt;em&gt;evaluaci칩n&lt;/em&gt; en la 칰ltima sentencia de la&amp;nbsp;funci칩n.&lt;/p&gt;
&lt;p&gt;Una forma de hacerlo m치s &lt;em&gt;&amp;#8220;funcional&amp;#8221;&lt;/em&gt;:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3
4
5&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="n"&gt;isPalindrome&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="n"&gt;frase&lt;/span&gt;&lt;span class="k"&gt;:&lt;/span&gt;&lt;span class="kt"&gt;String&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;&lt;span class="k"&gt;:&lt;/span&gt;&lt;span class="kt"&gt;Boolean&lt;/span&gt;&lt;span class="o"&gt;={&lt;/span&gt;
    &lt;span class="k"&gt;val&lt;/span&gt; &lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="k"&gt;=&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="k"&gt;:&lt;/span&gt;&lt;span class="kt"&gt;String&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;&lt;span class="k"&gt;=&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;reverse&lt;/span&gt;
    &lt;span class="k"&gt;val&lt;/span&gt; &lt;span class="n"&gt;g&lt;/span&gt;&lt;span class="k"&gt;=&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="k"&gt;:&lt;/span&gt;&lt;span class="kt"&gt;String&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;&lt;span class="k"&gt;=&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;filter&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="k"&gt;_&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;=&lt;/span&gt;&lt;span class="sc"&gt;&amp;#39;A&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;).&lt;/span&gt;&lt;span class="n"&gt;toLowerCase&lt;/span&gt;
    &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="n"&gt;f&lt;/span&gt; &lt;span class="n"&gt;compose&lt;/span&gt; &lt;span class="n"&gt;g&lt;/span&gt;&lt;span class="o"&gt;)(&lt;/span&gt;&lt;span class="n"&gt;frase&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;
&lt;span class="o"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;&amp;#8230;o todo junto en una&amp;nbsp;l칤nea:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="n"&gt;isPalindrome&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="n"&gt;frase&lt;/span&gt;&lt;span class="k"&gt;:&lt;/span&gt;&lt;span class="kt"&gt;String&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;&lt;span class="k"&gt;:&lt;/span&gt;&lt;span class="kt"&gt;Boolean&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;
    &lt;span class="o"&gt;((&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="k"&gt;:&lt;/span&gt;&lt;span class="kt"&gt;String&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;&lt;span class="k"&gt;=&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;reverse&lt;/span&gt;&lt;span class="o"&gt;)(&lt;/span&gt;&lt;span class="n"&gt;frase&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;filter&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="k"&gt;_&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;=&lt;/span&gt;&lt;span class="sc"&gt;&amp;#39;A&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;).&lt;/span&gt;&lt;span class="n"&gt;toLowerCase&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;h2&gt;Expresi칩n regular para encontrar tel칠fonos en un&amp;nbsp;texto&lt;/h2&gt;
&lt;p&gt;Lo m치s simple es buscar 9 d칤gitos seguidos y sin espacios: &lt;code&gt;"\d{9}"&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;El examinador probablemente quiera que te esfuerces algo m치s. Te puede decir que esa expresi칩n no sirve para localizar tel칠fonos como el &lt;code&gt;+34 666 010101&lt;/code&gt; y quiere saber c칩mo se podr칤a hacer. La cosa se complica bastante, aunque no es imposible. En este momento &lt;span class="caps"&gt;NUNCA&lt;/span&gt; digas que har칤a falta leerse bien la documentaci칩n y que tendr칤as que investigar un poco, suena muy mal. Lo de &lt;em&gt;investigar&lt;/em&gt; da la idea que vas a buscar una soluci칩n por internet, que acabar치s en un blog como 칠ste y que vas a copiarte la soluci칩n sin siquiera leer c칩mo&amp;nbsp;funciona.&lt;/p&gt;
&lt;p&gt;M치s vale que busques otra alternativa, aunque sea sin usar expresiones regulares. Lo que realmente interesa al entrevistador es que tengas ideas propias y originales que se puedan aplicar para resolver el problema que se te&amp;nbsp;plantea.&lt;/p&gt;
&lt;p&gt;A continuaci칩n pongo una posible soluci칩n, aunque te aconsejo que la estudies antes de aplicarla literalmente a tu&amp;nbsp;c칩digo:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;    &amp;quot;((\+34 )?\d{3} ?\d{6})&amp;quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;h2&gt;Una conversi칩n de lista de tuplas a&amp;nbsp;diccionario&lt;/h2&gt;
&lt;p&gt;Este es uno de esos casos que cuesta m치s explicar el problema que su soluci칩n. Se pretende ver si el candidato comprende realmente los conceptos que se tratan, si sabe lo que es una tupla y un diccionario, y si tiene claro el concepto de &lt;em&gt;&amp;#8220;mapping&amp;#8221;&lt;/em&gt; por el cu치l se contruye el&amp;nbsp;diccionario.&lt;/p&gt;
&lt;p&gt;La soluci칩n empieza por poner en dependencia el segundo elemento del&amp;nbsp;primero:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;lista&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;a&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;),(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;b&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;),(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;c&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt;
&lt;span class="n"&gt;dic&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nb"&gt;dict&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;lista&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;En scala es muy&amp;nbsp;parecido:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="k"&gt;val&lt;/span&gt; &lt;span class="n"&gt;lista&lt;/span&gt;&lt;span class="k"&gt;=&lt;/span&gt;&lt;span class="nc"&gt;List&lt;/span&gt;&lt;span class="o"&gt;((&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;a&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="o"&gt;),(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;b&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="o"&gt;),(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;c&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="o"&gt;))&lt;/span&gt;
&lt;span class="k"&gt;val&lt;/span&gt; &lt;span class="n"&gt;dic&lt;/span&gt;&lt;span class="k"&gt;=&lt;/span&gt;&lt;span class="n"&gt;lista&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;toMap&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;Por complicarlo algo m치s, se puede pedir que se repita el ejercicio, pero con tuplas de m치s de dos elementos, con el primero como clave del &lt;em&gt;mapping&lt;/em&gt;:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;lista&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;a&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;),(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;b&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;20&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;30&lt;/span&gt;&lt;span class="p"&gt;),(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;c&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;100&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;200&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;300&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt;
&lt;span class="n"&gt;dic&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nb"&gt;dict&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;:])&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;lista&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;En scala es algo m치s complicado. Lo que en python se entiende por tupla (una secuencia inmutable), en scala son en realidad las listas. Las listas mutables, como se entienden en python, son instancias de la clase &lt;code&gt;MutableList&lt;/code&gt;. Las tuplas de scala se usan para paso de par치metros y poco&amp;nbsp;m치s:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3
4&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="k"&gt;val&lt;/span&gt; &lt;span class="n"&gt;lista&lt;/span&gt;&lt;span class="k"&gt;=&lt;/span&gt;&lt;span class="nc"&gt;List&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nc"&gt;List&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;a&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="o"&gt;),&lt;/span&gt;&lt;span class="nc"&gt;List&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;b&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;20&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;30&lt;/span&gt;&lt;span class="o"&gt;),&lt;/span&gt;
  &lt;span class="nc"&gt;List&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;c&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;100&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;200&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;300&lt;/span&gt;&lt;span class="o"&gt;))&lt;/span&gt;

&lt;span class="k"&gt;val&lt;/span&gt; &lt;span class="n"&gt;dic&lt;/span&gt;&lt;span class="k"&gt;=&lt;/span&gt;&lt;span class="n"&gt;lista&lt;/span&gt; &lt;span class="n"&gt;map&lt;/span&gt; &lt;span class="o"&gt;{&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="k"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;head&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;tail&lt;/span&gt;&lt;span class="o"&gt;}&lt;/span&gt; &lt;span class="n"&gt;toMap&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;Aqu칤 se ve el uso de los atributos &lt;code&gt;head&lt;/code&gt; y &lt;code&gt;tail&lt;/code&gt; para manejar listas que son tan caracter칤sticos de los lenguajes&amp;nbsp;funcionales.&lt;/p&gt;
&lt;p&gt;Las 칰ltimas versiones de Scala incorporan la &amp;#8220;comparaci칩n de patrones&amp;#8221; (&lt;em&gt;&amp;#8220;pattern matching&amp;#8221;&lt;/em&gt;) que consiguen hacer algo m치s legible el&amp;nbsp;c칩digo:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="k"&gt;val&lt;/span&gt; &lt;span class="n"&gt;dic&lt;/span&gt;&lt;span class="k"&gt;=&lt;/span&gt;&lt;span class="n"&gt;lista&lt;/span&gt; &lt;span class="n"&gt;map&lt;/span&gt; &lt;span class="o"&gt;{&lt;/span&gt;&lt;span class="k"&gt;case&lt;/span&gt; &lt;span class="n"&gt;h&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;t&lt;/span&gt; &lt;span class="k"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;h&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;t&lt;/span&gt;&lt;span class="o"&gt;}&lt;/span&gt; &lt;span class="n"&gt;toMap&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;No parece que haya variado mucho. La potencia de los patrones est치 en poder realizar distintas operaciones seg칰n el tipo de los par치metros. En otros lenguajes se necesitar칤a incorporar expresiones condicionales o sobrecarga de&amp;nbsp;operadores.&lt;/p&gt;
&lt;p&gt;Por ejemplo, imagina que la lista tuviera elementos extra como cadenas y&amp;nbsp;n칰meros:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3
4
5
6
7&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="k"&gt;val&lt;/span&gt; &lt;span class="n"&gt;lista&lt;/span&gt;&lt;span class="k"&gt;=&lt;/span&gt;&lt;span class="nc"&gt;List&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nc"&gt;List&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;a&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="o"&gt;),&lt;/span&gt;&lt;span class="nc"&gt;List&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;b&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;20&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;30&lt;/span&gt;&lt;span class="o"&gt;),&lt;/span&gt;
  &lt;span class="nc"&gt;List&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;c&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;100&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;200&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;300&lt;/span&gt;&lt;span class="o"&gt;),&lt;/span&gt;&lt;span class="nc"&gt;List&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="o"&gt;),&lt;/span&gt;&lt;span class="nc"&gt;List&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="o"&gt;),&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;Hola&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;1.5&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;

&lt;span class="k"&gt;val&lt;/span&gt; &lt;span class="n"&gt;dic&lt;/span&gt;&lt;span class="k"&gt;=&lt;/span&gt;&lt;span class="n"&gt;lista&lt;/span&gt; &lt;span class="n"&gt;collect&lt;/span&gt; &lt;span class="o"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;case&lt;/span&gt; &lt;span class="n"&gt;h&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;t&lt;/span&gt; &lt;span class="k"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;h&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;t&lt;/span&gt;
    &lt;span class="k"&gt;case&lt;/span&gt; &lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="k"&gt;:&lt;/span&gt;&lt;span class="kt"&gt;String&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="nc"&gt;List&lt;/span&gt;&lt;span class="o"&gt;()&lt;/span&gt;
   &lt;span class="o"&gt;}&lt;/span&gt; &lt;span class="n"&gt;toMap&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;Vemos el&amp;nbsp;resultado:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3
4
5
6&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;//for((k,v)&amp;lt;-dic) println(k,v)
(Hola,List())
(1,List())
(a,List(1, 2, 3))
(b,List(10, 20, 30))
(c,List(100, 200, 300))
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;En el primer patr칩n, &lt;code&gt;h::t&lt;/code&gt; (llamado de &lt;em&gt;extracci칩n de lista&lt;/em&gt;), s칩lo encajar치n los items que son listas; en el segundo patr칩n &lt;code&gt;s:String&lt;/code&gt; s칩lo encaja la &lt;code&gt;String "Hola"&lt;/code&gt;; mientras que el 칰ltimo elemento de la lista, el &lt;code&gt;double 1.5&lt;/code&gt;, no coincide con ning칰n patr칩n y ser치 filtrado por el m칠todo &lt;code&gt;collect&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Si intentamos hacer lo mismo con python nos saldr칤a un c칩digo bastante menos&amp;nbsp;legible:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3
4&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;lista&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;a&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;),(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;b&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;20&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;30&lt;/span&gt;&lt;span class="p"&gt;),(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;c&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;100&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;200&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;300&lt;/span&gt;&lt;span class="p"&gt;),(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,),&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Hola&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mf"&gt;1.5&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;

&lt;span class="n"&gt;dic&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nb"&gt;dict&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;:])&lt;/span&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="nb"&gt;isinstance&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nb"&gt;tuple&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;else&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,()))&lt;/span&gt;
    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;lista&lt;/span&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="nb"&gt;isinstance&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;tuple&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;basestring&lt;/span&gt;&lt;span class="p"&gt;)))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;h2&gt;Conclusi칩n&lt;/h2&gt;
&lt;p&gt;Con estos ejemplos tan s칩lo he querido darte una idea de qu칠 cosas podemos encontrarnos en una prueba de selecci칩n. En programaci칩n, deber칤a interesar m치s la capacidad resolutiva del &lt;em&gt;candidato&lt;/em&gt; que su nivel de conocimientos. Una soluci칩n innovadora o que aporte otro punto de vista no contemplado en un principio suele ser de m치s valor que dar la soluci칩n correcta. Busca distintos ejemplos de resolver los mismos problemas, incluso en lenguajes de programaci칩n diferentes, y estar치s preparado para todo reto que se te&amp;nbsp;presente.&lt;/p&gt;
&lt;hr&gt;
&lt;div class="footnote"&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id="fn:1"&gt;
&lt;p&gt;Si te preguntas porqu칠 &lt;em&gt;scala&lt;/em&gt;, la respuesta simple ser칤a 
&lt;em&gt;porque es el lenguaje que estoy aprendiendo ahora mismo&lt;/em&gt;. Pero si realmente te preguntas qu칠 puede aprender un programador python de un lenguaje como scala, no te pierdas el pr칩ximo art칤culo.&amp;#160;&lt;a class="footnote-backref" href="#fnref:1" title="Jump back to footnote 1 in the text"&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id="fn:2"&gt;
&lt;p&gt;Busca en la lista &lt;a href="http://mail.python.org/mailman/listinfo/python-es"&gt;python-es&lt;/a&gt;&amp;#160;&lt;a class="footnote-backref" href="#fnref:2" title="Jump back to footnote 2 in the text"&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;</content><category term="Python"></category><category term="python"></category><category term="scala"></category><category term="programming"></category></entry><entry><title>Entornos virtuales en python3.3</title><link href="https://blog.ch3m4.org/2012/10/23/entornos-virtuales-en-python-3-3/" rel="alternate"></link><published>2012-10-23T20:58:00+02:00</published><updated>2012-10-23T20:58:00+02:00</updated><author><name>Chema Cort칠s</name></author><id>tag:blog.ch3m4.org,2012-10-23:/2012/10/23/entornos-virtuales-en-python-3-3/</id><summary type="html">&lt;p&gt;Con la &lt;a href="http://docs.python.org/3.3/whatsnew/3.3.html" title="What's new in python 3.3?"&gt;nueva versi칩n de python 3.3&lt;/a&gt; se ha incorporado la propuesta &lt;a href="http://www.python.org/dev/peps/pep-0405" title="PEP-0405 Python Virtual Environments"&gt;&lt;span class="caps"&gt;PEP&lt;/span&gt;-405&lt;/a&gt; que a침ade al repertorio interno de python la posibilidad de crear entornos virtuales de modo parecido a virtualenv (vimos esta herramienta hace poco al hablar de la &lt;a href="https://blog.ch3m4.org/2012/07/24/instalacion-de-modulos/"&gt;instalaci칩n de m칩dulos&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Tal como lo define &lt;a href="http://www.python.org/dev/peps/pep-0405" title="PEP-0405 Python Virtual Environments"&gt;&lt;span class="caps"&gt;PEP &lt;/span&gt;&lt;/a&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;Con la &lt;a href="http://docs.python.org/3.3/whatsnew/3.3.html" title="What's new in python 3.3?"&gt;nueva versi칩n de python 3.3&lt;/a&gt; se ha incorporado la propuesta &lt;a href="http://www.python.org/dev/peps/pep-0405" title="PEP-0405 Python Virtual Environments"&gt;&lt;span class="caps"&gt;PEP&lt;/span&gt;-405&lt;/a&gt; que a침ade al repertorio interno de python la posibilidad de crear entornos virtuales de modo parecido a virtualenv (vimos esta herramienta hace poco al hablar de la &lt;a href="https://blog.ch3m4.org/2012/07/24/instalacion-de-modulos/"&gt;instalaci칩n de m칩dulos&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Tal como lo define &lt;a href="http://www.python.org/dev/peps/pep-0405" title="PEP-0405 Python Virtual Environments"&gt;&lt;span class="caps"&gt;PEP&lt;/span&gt;-405&lt;/a&gt;: &lt;em&gt;&amp;#8220;Los &lt;/em&gt;entornos virtuales&lt;em&gt; poseen su propio conjunto de paquetes instalados localmente, segregados del resto de paquetes instalados del sistema&amp;#8221;&lt;/em&gt;. Para crear y administrar estos entornos virtuales, se incluye el m칩dulo &lt;code&gt;venv&lt;/code&gt;, as칤 como el script &lt;code&gt;pyvenv.py&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Para crear un entorno virtual se puede utilizar el script &lt;code&gt;pyvenv&lt;/code&gt; (con python&amp;nbsp;3.3):&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ pyvenv /ruta/al/nuevo/entorno/virtual
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;En windows, probablemente haya que ejecutar el script que se encuentra en &lt;code&gt;"C:\&amp;gt; Python33\Tools\Scripts\pyvenv.py"&lt;/code&gt;. Posiblemente sea m치s sencillo ejecutar directamente el m칩dulo &lt;code&gt;venv&lt;/code&gt;:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ python -m venv /ruta/al/nuevo/entorno/virtual
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;Entrando dentro del nuevo directorio, activamos el entorno de modo similar a como hac칤amos con &lt;code&gt;virtualenv&lt;/code&gt;:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ &lt;span class="nb"&gt;cd&lt;/span&gt; /ruta/al/nuevo/entorno/virtual
$ &lt;span class="nb"&gt;source&lt;/span&gt; bin/activate
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;Hay que notar que el script &lt;code&gt;activate&lt;/code&gt; se debe ejecutar con &lt;code&gt;source&lt;/code&gt; ya que necesita cambiar algunas variables del entorno de ejecuci칩n&amp;nbsp;actual. &lt;/p&gt;
&lt;p&gt;En windows, se debe ejecutar el script &lt;code&gt;Scripts\activate.bat&lt;/code&gt;.&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;C&lt;/span&gt;&lt;span class="err"&gt;:&lt;/span&gt;&lt;span class="p"&gt;\&amp;gt;&lt;/span&gt; &lt;span class="nb"&gt;cd &lt;/span&gt;&lt;span class="n"&gt;entorno_virtual&lt;/span&gt;
&lt;span class="n"&gt;C&lt;/span&gt;&lt;span class="err"&gt;:&lt;/span&gt;&lt;span class="p"&gt;\&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;Scripts&lt;/span&gt;&lt;span class="p"&gt;\&lt;/span&gt;&lt;span class="n"&gt;activate&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;bat&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;Una vez activado el entorno veremos que el prompt de la l칤nea de comandos ha cambiado para indicarnos que estamos dentro. Las variables de entorno han cambiado, como puedes comprobar si miras &lt;code&gt;$PATH&lt;/code&gt;. A partir de aqu칤, la instalaci칩n de paquetes con &lt;code&gt;easy_install&lt;/code&gt; o &lt;code&gt;pip&lt;/code&gt; se realizar치n dentro del entorno. A diferencia con &lt;code&gt;virtualenv&lt;/code&gt;, el m칩dulo &lt;code&gt;venv&lt;/code&gt; no instala en nuestro entorno ninguna de estas herramientas, por lo que lo primero que tendremos que hacer ser치&amp;nbsp;instalarlas:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="o"&gt;(&lt;/span&gt;py3.3&lt;span class="o"&gt;)&lt;/span&gt; $ curl -O http://python-distribute.org/distribute_setup.py
&lt;span class="o"&gt;(&lt;/span&gt;py3.3&lt;span class="o"&gt;)&lt;/span&gt; $ python distribute_setup.py
&lt;span class="o"&gt;(&lt;/span&gt;py3.3&lt;span class="o"&gt;)&lt;/span&gt; $ easy_install pip
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;Para desactivar el entorno se ejecuta &lt;code&gt;deactivate&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Aunque &lt;code&gt;venv&lt;/code&gt; sigue el mismo funcionamiento que &lt;code&gt;virtualenv&lt;/code&gt;, tiene notables&amp;nbsp;carencias:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;No permite configurar versiones distintas de&amp;nbsp;python&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;No replica la instalaci칩n python del sistema en la copia&amp;nbsp;local&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;No permite independizar el entorno virtual del la ruta donde se crea (&lt;em&gt;no relocatable&lt;/em&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;En definitiva, los entornos virtuales creados con &lt;code&gt;venv&lt;/code&gt; no son completamente independientes de la instalaci칩n python del sistema como s칤 puede hacer &lt;code&gt;virtualenv&lt;/code&gt;. Esperemos que se amplien las opciones con nuevas versiones de python. De momento, seguiremos con &lt;code&gt;virtualenv&lt;/code&gt;.&lt;/p&gt;</content><category term="Python"></category></entry><entry><title>C칩mo contratar un programador de맗ython</title><link href="https://blog.ch3m4.org/2012/10/17/como-contratar-un-programador-de-python/" rel="alternate"></link><published>2012-10-17T17:30:00+02:00</published><updated>2012-10-17T17:30:00+02:00</updated><author><name>Chema Cort칠s</name></author><id>tag:blog.ch3m4.org,2012-10-17:/2012/10/17/como-contratar-un-programador-de-python/</id><summary type="html">&lt;p&gt;En 칠poca de &lt;em&gt;crisis&lt;/em&gt; se produce un curioso desequilibrio de las cosas. Por un lado, est치n los emprendedores que se arriesgan mucho m치s buscando productos innovadores con los que poder competir mejor, alejados de las tendencias impuestas por las grandes empresas del sector. Son las &lt;em&gt;startups&lt;/em&gt;, surgidas como respuestas del &lt;/p&gt;</summary><content type="html">&lt;p&gt;En 칠poca de &lt;em&gt;crisis&lt;/em&gt; se produce un curioso desequilibrio de las cosas. Por un lado, est치n los emprendedores que se arriesgan mucho m치s buscando productos innovadores con los que poder competir mejor, alejados de las tendencias impuestas por las grandes empresas del sector. Son las &lt;em&gt;startups&lt;/em&gt;, surgidas como respuestas del estancamiento de la econom칤a actual. Por contra, la crisis tambi칠n nos obliga a deshacernos de todo aquello que se salga de la norma, siguiendo el dictado de recortes indiscriminados, persiguiendo no se sabe bi칠n qu칠 fines. Al final se consigue mermar la creatividad, a costa de imponer la mediocridad en todo lo que se&amp;nbsp;hace.&lt;/p&gt;
&lt;p&gt;Centr치ndonos en la programaci칩n python, es parad칩jico que en estos momentos la carencia de programadores python est칠 siendo una de las razones que impida crecer a algunas peque침as empresas. Empresas que podr칤an ambicionar a tener un equipo de desarrollo acorde a la demanda que est치n teniendo, terminan por orientar su negocio a las adaptaciones para uno o dos clientes importantes, abandonando la mejora del producto en manos de la comunidad de software libre que lo crea&amp;nbsp;interesante.&lt;/p&gt;
&lt;p&gt;Antes de seguir, habr칤a que precisar a qu칠 nos referimos cuando hablamos de &lt;em&gt;programadores python&lt;/em&gt;. No basta con saber la sint치xis del lenguaje, del mismo modo que no es suficiente saber coser para ser cirujano. Se est치 buscando un perfil concreto de programador, capaz de dar soluciones creativas e ingeniosas, y que sea capaz de expresarlas como c칩digo python al resto del equipo de&amp;nbsp;desarrolladores.&lt;/p&gt;
&lt;p&gt;Si te est치s pregunt치ndo si t칰 encajar칤as en este perfil, o bien si te preguntas c칩mo se har칤a una de estas selecciones de &lt;em&gt;programadores python&lt;/em&gt;, en este art칤culo pretendo dar una idea de las preguntas de un proceso de selecci칩n de este tipo, m치s pensado como &lt;em&gt;&amp;#8220;filtrado&amp;#8221;&lt;/em&gt; de todo perfil no deseado que en ser una exhaustiva evaluaci칩n de conocimientos. En un pr칩ximo art칤culo pondr칠 algunas soluciones a estas preguntas para que as칤 tengas tiempo para&amp;nbsp;reflexionar.&lt;/p&gt;
&lt;h2&gt;1. Filtrado del simple &amp;#8220;Hello,&amp;nbsp;World!&amp;#8221;&lt;/h2&gt;
&lt;p&gt;Antes de perder m치s tiempo, lo primero es preguntar al candidato si realmente sabe de python. No son pocos los que acuden con la idea de que da igual que sea python que cualquiera de los otros lenguajes &amp;#8220;populares&amp;#8221; como &lt;em&gt;java&lt;/em&gt; o &lt;em&gt;visual basic&lt;/em&gt;. Por mucho que se insista en que tiene que ser un programador experimentado en python, muchas veces te encuentras que ni es python lo que sabe, ni tampoco es&amp;nbsp;experimentado.&lt;/p&gt;
&lt;p&gt;La prueba del &amp;#8220;Hello, World!&amp;#8221; en python deber칤a ser la primera prueba para descartar a los oportunistas. Otra de las preguntas m치s elementales ser칤a hablar del &lt;em&gt;&amp;#8220;Zen de python&amp;#8221;&lt;/em&gt;, si no recitarlo entero, al menos una explicaci칩n de la regla &lt;em&gt;&amp;#8220;Explicit is better than implicit&amp;#8221;&lt;/em&gt;.&lt;/p&gt;
&lt;h2&gt;2. Preguntar por muestras de sus&amp;nbsp;trabajos&lt;/h2&gt;
&lt;p&gt;Todo programador que aprecie debe tener una colecci칩n de cosas en las que haya trabajado. No tienen que ser cosas asombrosas. Pueden ser simplemente aquellas muestras de saber dejadas por internet como ayuda a los dem치s, tal vez un perfil de &lt;em&gt;Stack Overflow&lt;/em&gt; o de &lt;em&gt;Python Majibu&lt;/em&gt; donde se pueda ver qu칠 clase de comunicador y resolvedor de problemas eres. Tal vez alg칰n repositorio de c칩digo abierto donde participes, un blog profesional,&amp;nbsp;twitter,&amp;#8230;&lt;/p&gt;
&lt;p&gt;Simplemente, viendo la clase de trabajos que hace la gente resulta de mucha ayuda para saber en qu칠 destaca o no un&amp;nbsp;programador.&lt;/p&gt;
&lt;h2&gt;3. Af칤n a la cultura de la&amp;nbsp;empresa&lt;/h2&gt;
&lt;p&gt;La experiencia dice que ser af칤n a la cultura de la empresa asegura mejores 칠xitos que el ser un monstruo programando. Un ejemplo com칰n son las empresas de software libre cuando tienden a adoptar ciertas pr치cticas 칠ticas entre sus empleados como es la de compartir todo el&amp;nbsp;conocimiento.&lt;/p&gt;
&lt;p&gt;Trat치ndose de python, un programador en este lenguaje tiende a adoptar un perfil muy caracter칤stico. Busca como fin la sencillez y la elegancia del c칩digo, antes que la optimizaci칩n y eficiencia del mismo. Intenta ser &lt;em&gt;&amp;#8220;agn칩stico&amp;#8221;&lt;/em&gt; frente a la plataforma, que el c칩digo funcione en (casi) cualquier sitio. Sin embargo, es 치vido de conocer nuevas librer칤as que poder emplear en sus desarrollos, siempre con python como lenguaje director de la l칩gica de la&amp;nbsp;aplicaci칩n.&lt;/p&gt;
&lt;p&gt;Toda esta actividad se ve plasmada en las &amp;#8220;comunidades&amp;#8221; python, donde se proponen y discuten sobre estos temas. Destaca la comunidad de &amp;#8220;python hispano&amp;#8221; como un primer lugar donde buscar perfiles apropiados, pero tambi칠n se puede acudir a otros foros locales como las comunidades de python en Argentina, Per칰, M칠xico,&amp;#8230; o a foros m치s especializados de django o&amp;nbsp;zope.&lt;/p&gt;
&lt;p&gt;Pero una empresa que se precie, que tenga un buen producto de c칩digo abierto que ofrecer, deber칤a ser capaz de formar su propia comunidad como punto de encuentro de los afines al proyecto, que no son s칩lo programadores. Esta comunidad sirve tanto para difundir la filosof칤a de la empresa como ser el punto de encuentro del personal af칤n a ella. Lamentablemente, muchas empresas han cre칤do que una comunidad se monta mediante el bombardeo publicitario y es as칤 como han concebido sus cuentas en las redes sociales como facebook o twitter. De este modo han conseguido consumidores &lt;em&gt;fan치ticos&lt;/em&gt;, pero muy pocos&amp;nbsp;colaboradores.&lt;/p&gt;
&lt;p&gt;A un programador hay que darle c칩digo. Las comunidades de programadores se forman alrededor de servicios como los github, bitbucket, sourceforge, launchpad, trac, etc. Si encuentras en tu comunidad un programador que te ha hecho un gran aporte o un hacker que ha dado con una extra침a y oculta vulnerabilidad, contr치talo sin m치s&amp;nbsp;dubitaciones.&lt;/p&gt;
&lt;h2&gt;4. Prueba de&amp;nbsp;programaci칩n&lt;/h2&gt;
&lt;p&gt;Lo siguiente es pedir la realizaci칩n de algunos programas sencillos: un detector de pal칤ndromos, crear una expresi칩n regular para encontrar tel칠fonos en un texto, una conversi칩n de una lista de tuplas a&amp;nbsp;diccionario,&amp;#8230;&lt;/p&gt;
&lt;p&gt;Con la prueba de programaci칩n no se busca, necesariamente, una respuesta perfecta, si no el crear un contexto donde observar al programador en su compresi칩n de los problemas, as칤 c칩mo su intento de resolverlos. Dentro de las posibilidades, es una prueba que muy bien se podr칤a hacer online, combinando videconferencia y pizarra virtual. Si saltaran demasiadas alarmas, al ser &lt;em&gt;online&lt;/em&gt; se podr칤a dar por terminada la prueba en cualquier momento y as칤 ahorrar tiempo tanto al candidato como al&amp;nbsp;seleccionador.&lt;/p&gt;
&lt;h2&gt;5. Prueba&amp;nbsp;real&lt;/h2&gt;
&lt;p&gt;Antes de dar el paso definitivo, se puede probar al candidato sobre un caso real como resolver alg칰n ticket del gestor de bugs o crear una extensi칩n sencilla en un plazo determinado. Por supuesto, no debe ser ninguna parte importante, tan s칩lo un medio de comprobar si el candidato es capaz de cumplir los plazos establecidos para as칤 no desequilibrar al resto del&amp;nbsp;equipo.&lt;/p&gt;
&lt;p&gt;Idealmente, ser칤a bueno que esta labor se realizara en las mismas instalaciones de la empresa, con los recursos de la empresa y con un contrato en&amp;nbsp;pr치cticas.&lt;/p&gt;
&lt;h2&gt;6. Entrevista&amp;nbsp;personal&lt;/h2&gt;
&lt;p&gt;Habiendo pasando todos los puntos anteriores, es casi seguro que el candidato es apto para la empresa. La entrevista est치 orientada m치s en conocer el perfil comunicativo del candidato con vistas a su integraci칩n de un equipo de trabajo. La entrevista empieza por una presentaci칩n del candidato sobre su experiencia hasta el momento. A continuaci칩n, se le realizan una serie de preguntas encaminadas a conocer del candidato su apasionamiento por lo que hace, su capacidad para comunicarse en grupos peque침os y qu칠 podr칤a aportar dentro de un peque침o equipo de&amp;nbsp;trabajo.&lt;/p&gt;
&lt;h2&gt;7. Prueba de&amp;nbsp;ingl칠s&lt;/h2&gt;
&lt;p&gt;Se quiera o no, el ingl칠s es el idioma com칰n del programador, y no s칩lo porque toda la documentaci칩n est칠 en ingl칠s. Cualquier proyecto de envergadura debe usar el ingl칠s si quiere llamar la atenci칩n y conseguir nuevos colaboradores, ya sea en internet como en presentaciones en congresos. Tambi칠n empieza a ser frecuente la creaci칩n de equipos multinacionales de desarrollo. El ingl칠s es la &lt;em&gt;lingua franca&lt;/em&gt; de nuestros tiempos y comunicarse en ingl칠s es fundamental para ser programador. Al ser una prueba de comunicaci칩n, la prueba de ingl칠s podr칤a formar parte de la entrevista&amp;nbsp;personal. &lt;/p&gt;
&lt;h2&gt;8.&amp;nbsp;Conclusi칩n&lt;/h2&gt;
&lt;p&gt;Si has le칤do hasta aqu칤, espero no haberte aburrido y/o decepcionado mucho. No espero que todo lo dicho sea tomado al pie de letra. M치s que una lista de reglas para buscar candidatos, he pretendido que sirva m치s como consejos para programadores python que buscan trabajo, sepan c칩mo hacerlo y, sobre todo, que se animen a buscarlos. Si de paso se ampl칤a el n칰mero de programadores profesionales de python, mejor todav칤a. Ganaremos&amp;nbsp;todos.&lt;/p&gt;</content><category term="Python"></category></entry><entry><title>Estudio funci칩n factorial en scala - operador맙ufix</title><link href="https://blog.ch3m4.org/2012/08/15/estudio-funcion-factorial-en-scala-operador-sufix/" rel="alternate"></link><published>2012-08-15T09:30:00+02:00</published><updated>2012-08-15T09:30:00+02:00</updated><author><name>Chema Cort칠s</name></author><id>tag:blog.ch3m4.org,2012-08-15:/2012/08/15/estudio-funcion-factorial-en-scala-operador-sufix/</id><summary type="html">&lt;p&gt;A medida que voy aprendiendo m치s sobre el lenguaje &lt;strong&gt;scala&lt;/strong&gt;, se me ocurren nuevas formas de expresar la funci칩n&amp;nbsp;factorial.&lt;/p&gt;
&lt;p&gt;La &lt;em&gt;&amp;#8220;expresividad&amp;#8221;&lt;/em&gt; del lenguaje permite usar operadores para crear c칩digo m치s corto. Por ejemplo, la funci칩n factorial con &lt;em&gt;&amp;#8220;plegados&amp;#8221;&lt;/em&gt; (&lt;em&gt;&amp;#8220;folds&lt;/em&gt;&amp;#8220;) que pon칤amo en un art칤culo anterior se podr칤a expresar&amp;nbsp;as칤 &lt;/p&gt;</summary><content type="html">&lt;p&gt;A medida que voy aprendiendo m치s sobre el lenguaje &lt;strong&gt;scala&lt;/strong&gt;, se me ocurren nuevas formas de expresar la funci칩n&amp;nbsp;factorial.&lt;/p&gt;
&lt;p&gt;La &lt;em&gt;&amp;#8220;expresividad&amp;#8221;&lt;/em&gt; del lenguaje permite usar operadores para crear c칩digo m치s corto. Por ejemplo, la funci칩n factorial con &lt;em&gt;&amp;#8220;plegados&amp;#8221;&lt;/em&gt; (&lt;em&gt;&amp;#8220;folds&lt;/em&gt;&amp;#8220;) que pon칤amo en un art칤culo anterior se podr칤a expresar&amp;nbsp;as칤:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="n"&gt;fact&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="k"&gt;:&lt;/span&gt;&lt;span class="kt"&gt;Int&lt;/span&gt;&lt;span class="o"&gt;)=(&lt;/span&gt;&lt;span class="nc"&gt;BigInt&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="o"&gt;/:&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="n"&gt;to&lt;/span&gt; &lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="o"&gt;))(&lt;/span&gt;&lt;span class="k"&gt;_&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="k"&gt;_&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;En esta expresi칩n, hacemos el &lt;em&gt;plegado&lt;/em&gt; de la secuencia &lt;code&gt;(1 to n)&lt;/code&gt; sobre el valor inicial &lt;code&gt;BigInt(1)&lt;/code&gt; con la operaci칩n &lt;code&gt;(_*_)&lt;/code&gt; (multiplicaci칩n). Se ve rara, pero una vez profundizas en scala se ve como algo&amp;nbsp;normal.&lt;/p&gt;
&lt;p&gt;Otra de las opciones de scala es poder usar casi cualquier car치cter como indentificador, lo que nos facilita la creaci칩n de &lt;span class="caps"&gt;DSL&lt;/span&gt; (&lt;em&gt;&amp;#8220;Lenguajes Espec칤ficos al Dominio&amp;#8221;&lt;/em&gt;). Una de estas posibilidades ser칤a crear el operador &lt;em&gt;sufix&lt;/em&gt; de la funci칩n factorial, de modo que el c치lculo de factorial de &lt;code&gt;n&lt;/code&gt; se pudiera expresar como &lt;code&gt;n!&lt;/code&gt;. Para ello aprovechamos el mecanismo que tiene scala para conversi칩n autom치tica de tipos de&amp;nbsp;datos:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3
4
5
6
7&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;Factorizer&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="k"&gt;:&lt;/span&gt;&lt;span class="kt"&gt;Int&lt;/span&gt;&lt;span class="o"&gt;){&lt;/span&gt;
    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="o"&gt;!&lt;/span&gt; &lt;span class="k"&gt;=&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nc"&gt;BigInt&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="n"&gt;to&lt;/span&gt; &lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="o"&gt;).&lt;/span&gt;&lt;span class="n"&gt;product&lt;/span&gt;
&lt;span class="o"&gt;}&lt;/span&gt;

&lt;span class="k"&gt;implicit&lt;/span&gt; &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="n"&gt;int2fact&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="k"&gt;:&lt;/span&gt;&lt;span class="kt"&gt;Int&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;&lt;span class="k"&gt;=new&lt;/span&gt; &lt;span class="nc"&gt;Factorizer&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;println&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;5!=&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;+(&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="o"&gt;!))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;La explicaci칩n es bien sencilla: como no encuentra el m칠todo &lt;code&gt;'!'&lt;/code&gt; en el tipo &lt;code&gt;Int&lt;/code&gt;, busca entre las conversiones otros tipos que lo puedan tener, en este caso &lt;code&gt;Factorizer&lt;/code&gt;. Una vez hecha la conversi칩n, ejecuta el&amp;nbsp;operador.&lt;/p&gt;</content><category term="Scala"></category><category term="algorithm"></category><category term="factorial"></category></entry><entry><title>Instalaci칩n de맔칩dulos</title><link href="https://blog.ch3m4.org/2012/07/24/instalacion-de-modulos/" rel="alternate"></link><published>2012-07-24T22:02:00+02:00</published><updated>2012-07-24T22:02:00+02:00</updated><author><name>Chema Cort칠s</name></author><id>tag:blog.ch3m4.org,2012-07-24:/2012/07/24/instalacion-de-modulos/</id><summary type="html">&lt;p&gt;Resulta habitual la instalaci칩n de nuevos m칩dulos o paquetes en nuestra instalaci칩n de python, para lo que basta con introducir en el directorio &lt;code&gt;site-packages&lt;/code&gt; el fichero del m칩dulo o, en caso de paquetes, el directorio con el paquete. Algunas veces, la instalaci칩n requiere compilar e instalar librer칤as en el sistema &lt;/p&gt;</summary><content type="html">&lt;p&gt;Resulta habitual la instalaci칩n de nuevos m칩dulos o paquetes en nuestra instalaci칩n de python, para lo que basta con introducir en el directorio &lt;code&gt;site-packages&lt;/code&gt; el fichero del m칩dulo o, en caso de paquetes, el directorio con el paquete. Algunas veces, la instalaci칩n requiere compilar e instalar librer칤as en el sistema, por lo que la instalaci칩n se complica&amp;nbsp;bastante.&lt;/p&gt;
&lt;p&gt;Para hacer m치s sencillo la b칰squeda e instalaci칩n de m칩dulos, podemos elegir entre varias utilidades que, frecuentemente, se ven mezcladas en las documentaciones que podamos consultar, sin quedar claro cu치l deber칤amos utilizar en nuestro d칤a a&amp;nbsp;d칤a.&lt;/p&gt;
&lt;p&gt;En este art칤culo voy a aclarar estas utilidades, as칤 como algunos trucos que podemos usar para crear entornos de trabajo aislados del&amp;nbsp;resto.&lt;/p&gt;
&lt;h2&gt;Instaladores de&amp;nbsp;paquetes&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Distutils&lt;/strong&gt; era la herramienta est치ndar para empaquetar paquetes&amp;nbsp;python.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;python setup.py install&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Funciona bien, pero con algunas limitaciones que no eran f치cil de arreglar. Viene de serie con la instalaci칩n de python y se puede reconocer por existir un fichero llamado &lt;code&gt;setup.py&lt;/code&gt; que configura la creaci칩n del paquete listo para su distribuci칩n, pudiendo generar ficheros &lt;code&gt;.deb&lt;/code&gt;  o &lt;code&gt;.rpm&lt;/code&gt; para las distribuciones linux m치s populares, o los habituales instaladores para windows o mac a trav칠s de complementos. La&amp;nbsp;instalaci칩n &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="http://pypi.python.org/pypi/setuptools" title="Setuptools (con instrucciones de instalaci칩n)"&gt;&lt;strong&gt;Setuptools&lt;/strong&gt;&lt;/a&gt; era un proyecto que pretend칤a mejorar &lt;code&gt;distutils&lt;/code&gt; a침adiendo m치s&amp;nbsp;funcionalidades.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;easy_install &amp;lt;module&amp;gt;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;En muchos sentidos, se considera un &lt;em&gt;&amp;#8220;est치ndar de facto&amp;#8221;&lt;/em&gt; gracias al comando &lt;a href="http://packages.python.org/distribute/easy_install.html" title="Easy_install"&gt;&lt;code&gt;easy_install&lt;/code&gt;&lt;/a&gt;; pero deja de funcionar en python3. Introdujeron el &lt;strong&gt;egg&lt;/strong&gt; (huevo) como formato de los ficheros para distribuir m칩dulos, as칤 como un repositorio central llamado &lt;em&gt;&amp;#8220;CheeseShop&amp;#8221;&lt;/em&gt; donde buscar los m칩dulos a instalar que fue el germen de lo que ahora es el directorio &lt;a href="http://pypi.python.org/pypi" title="the Python Package Index"&gt;PyPi&lt;/a&gt;. Estos ficheros &lt;em&gt;eggs&lt;/em&gt; suelen ser ficheros comprimidos que se instalan simplemente al ejecutarlos python como si fueran un&amp;nbsp;programa.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="http://pypi.python.org/pypi/distribute" title="Distribute (con instrucciones de instalaci칩n)"&gt;&lt;strong&gt;Distribute&lt;/strong&gt;&lt;/a&gt; es un &lt;em&gt;fork&lt;/em&gt; de &lt;em&gt;setuptools&lt;/em&gt; que pretend칤a acelerar su desarrollo y que lo ha suplantado en muchos casos. Su desarrollo ha quedado algo parado al salir &lt;em&gt;distutils2&lt;/em&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Instalador &lt;a href="http://www.pip-installer.org/en/latest/index.html" title="Instalador pip"&gt;&lt;strong&gt;pip&lt;/strong&gt;&lt;/a&gt;: es un popular instalador de uso similar a los instaladores de paquetes de las distribuciones&amp;nbsp;linux.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;pip install &amp;lt;paquete&amp;gt;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;A침ade muchas funcionalidades como son las b칰squedas de paquetes o la descarga de dependencias. Puede funcionar sobre setuptools, aunque lo normal es usarlo con&amp;nbsp;distribute.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Distutils2&lt;/strong&gt; (renombrado como &lt;strong&gt;&lt;code&gt;packaging&lt;/code&gt;&lt;/strong&gt; en python3.3+) es un fork de &lt;em&gt;distutils&lt;/em&gt; que incorpora ideas tra칤das de &lt;em&gt;setuptools&lt;/em&gt; y &lt;em&gt;distribute&lt;/em&gt; y que se discuten mediante los PEPs habituales. Su instalador est치 inspirado por &amp;#8220;pip&amp;#8221; y ser치 est치ndar para&amp;nbsp;python3.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Instalador &lt;span class="caps"&gt;PIP&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;Centr칠monos en la utilidad de instalaci칩n &lt;a href="http://www.pip-installer.org/en/latest/index.html" title="Instalador pip"&gt;&lt;code&gt;pip&lt;/code&gt;&lt;/a&gt;. Se trata de una herramienta que puede buscar, instalar/desinstalar, reempaquetar,&amp;#8230; y muchas m치s cosas que nos va a facilitar la vida a la hora de realizar instalaciones distribuidas como veremos a&amp;nbsp;continuaci칩n.&lt;/p&gt;
&lt;p&gt;Caracter칤sticas de&amp;nbsp;pip:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;B칰squedas en el repositorio &lt;a href="http://pypi.python.org/pypi" title="the Python Package Index"&gt;PyPi&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Descarga de todas las dependencias antes de la instalaci칩n. Muy importante para mantener la fidelidad de la instalaci칩n en despliegues&amp;nbsp;remotos.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Puede instalar directamente de una direcci칩n de internet, o directamente desde sistemas de control de versiones como git, mercurial, subversion o&amp;nbsp;bazaar.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Con el comando &lt;code&gt;freeze&lt;/code&gt; podemos crear un fichero de requisitos con la lista de los paquetes y su versi칩n exacta que actualmente tenemos&amp;nbsp;instalados.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Con el comando &lt;code&gt;bundle&lt;/code&gt; podemos crear &lt;em&gt;pybundles&lt;/em&gt;, archivos que contienen m칰ltiples&amp;nbsp;paquetes.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Virtualenv&lt;/h2&gt;
&lt;p&gt;Otra gran caracter칤stica de &lt;strong&gt;pip&lt;/strong&gt; es que funciona tremendamente bien con &lt;a href="http://www.virtualenv.org" title="Virtuaenv"&gt;virtualenv&lt;/a&gt;. No en vano, son del mismo autor, &lt;a href="http://blog.ianbicking.org/" title="blog de Ian Bicking"&gt;Ian Bicking&lt;/a&gt;. Virtualenv nos permitir치 crear entornos de desarrollo aislados del resto de instalaciones python, controlando tanto las versiones de los m칩dulos instalados como la versi칩n de python que usaremos en&amp;nbsp;칠l.&lt;/p&gt;
&lt;p&gt;Pero creo que ser치 mejor poner algunos ejemplos de las aplicaciones de&amp;nbsp;virtualenv:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3
4&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ virtualenv --no-site-packages --python&lt;span class="o"&gt;=&lt;/span&gt;/usr/bin/python3 py3
$ &lt;span class="nb"&gt;cd&lt;/span&gt; py3
$ &lt;span class="nb"&gt;source&lt;/span&gt; bin/activate
&lt;span class="o"&gt;(&lt;/span&gt;py3&lt;span class="o"&gt;)&lt;/span&gt;$ pip install markdown
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;Con estas l칤neas hemos conseguido instalar el m칩dulo &lt;code&gt;markdown&lt;/code&gt; en un entorno python3. El int칠rprete de python3 que ejecutaremos desde aqu칤 estar치 instalado en la ruta &lt;code&gt;py3/bin/python&lt;/code&gt; y el m칩dulo m치rkdown en &lt;code&gt;py3/lib/python-3.2/site-packages&lt;/code&gt;. Tambi칠n se ha instalado en &lt;code&gt;py3/bin/python&lt;/code&gt; el script &lt;code&gt;markdown_py&lt;/code&gt; que ejecutar치 el comando. En resumen, de una manera simple tenemos un entorno con lo m칤nimo donde hacer nuestras pruebas sin trastocar nada del&amp;nbsp;sistema.&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt; 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ virtualenv --python&lt;span class="o"&gt;=&lt;/span&gt;/usr/local/bin/jython jydjango
$ &lt;span class="nb"&gt;cd&lt;/span&gt; jydjango
$ &lt;span class="nb"&gt;source&lt;/span&gt; bin/activate
&lt;span class="o"&gt;(&lt;/span&gt;jydjango&lt;span class="o"&gt;)&lt;/span&gt;$ pip install django
&lt;span class="o"&gt;(&lt;/span&gt;jydjango&lt;span class="o"&gt;)&lt;/span&gt;$ django-admin.py startproject djython
&lt;span class="o"&gt;(&lt;/span&gt;jydjango&lt;span class="o"&gt;)&lt;/span&gt;$ &lt;span class="nb"&gt;cd&lt;/span&gt; djython/
&lt;span class="o"&gt;(&lt;/span&gt;jydjango&lt;span class="o"&gt;)&lt;/span&gt;$ jython manage.py runserver
Validating models...

&lt;span class="m"&gt;0&lt;/span&gt; errors found
Django version &lt;span class="m"&gt;1&lt;/span&gt;.4, using settings &lt;span class="s1"&gt;&amp;#39;djython.settings&amp;#39;&lt;/span&gt;
Development server is running at http://127.0.0.1:8000/
Quit the server with CONTROL-C.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;En este caso, a partir de una instalaci칩n local de jython hemos creado un entorno virtual, en el que hemos instalado &lt;code&gt;django&lt;/code&gt; y lo hemos ejecutado con jython. De este modo podemos experimentar con django y jython sin que afecte a cualquier otra instalaci칩n de django que&amp;nbsp;tengamos.&lt;/p&gt;
&lt;p&gt;A partir de aqu칤, la imaginaci칩n es el&amp;nbsp;l칤mite.&lt;/p&gt;
&lt;p&gt;Como recomendaci칩n, instala &lt;a href="http://www.doughellmann.com/projects/virtualenvwrapper/"&gt;virtualenvwrapper&lt;/a&gt;, una colecci칩n de comandos para bash que hace m치s sencillo el uso de virtualenv, adem치s de gestionar todos los entornos virtuales  desde un 칰nico directorio (&lt;code&gt;$HOME/.virtualenv&lt;/code&gt;). Tambi칠n existe una &lt;a href="https://bitbucket.org/guillermooo/virtualenvwrapper-powershell"&gt;versi칩n para PowerShell&lt;/a&gt; para&amp;nbsp;windows.&lt;/p&gt;</content><category term="Python"></category></entry><entry><title>BOM - marcas de orden de막ytes</title><link href="https://blog.ch3m4.org/2012/07/10/bom-marcas-de-orden-de-bytes/" rel="alternate"></link><published>2012-07-10T13:32:00+02:00</published><updated>2012-07-10T13:32:00+02:00</updated><author><name>Chema Cort칠s</name></author><id>tag:blog.ch3m4.org,2012-07-10:/2012/07/10/bom-marcas-de-orden-de-bytes/</id><summary type="html">&lt;p&gt;Los &lt;abbr title="Marca de orden de bytes"&gt;&lt;span class="caps"&gt;BOM&lt;/span&gt;&lt;/abbr&gt;&amp;#8216;s son marcas que aparecen en ficheros y transmisiones de datos para indicar el &lt;em&gt;&amp;#8220;orden de los bytes&amp;#8221;&lt;/em&gt; de la codificaci칩n empleada. Si pensamos que el tama침o de cada dato transmitido puede ser 2, 4 u 8 bytes (16bits, 32 bits 칩 64 bits), el orden de los &lt;/p&gt;</summary><content type="html">&lt;p&gt;Los &lt;abbr title="Marca de orden de bytes"&gt;&lt;span class="caps"&gt;BOM&lt;/span&gt;&lt;/abbr&gt;&amp;#8216;s son marcas que aparecen en ficheros y transmisiones de datos para indicar el &lt;em&gt;&amp;#8220;orden de los bytes&amp;#8221;&lt;/em&gt; de la codificaci칩n empleada. Si pensamos que el tama침o de cada dato transmitido puede ser 2, 4 u 8 bytes (16bits, 32 bits 칩 64 bits), el orden de los bytes nos indica c칩mo se est치n empaquetando los bytes en cada&amp;nbsp;dato.&lt;/p&gt;
&lt;p&gt;Sin entrar en detalle, cuando usamos las codificaciones para unicode en ficheros, se suele convenir en el uso de una marca &lt;abbr title="Marca de orden de bytes"&gt;&lt;span class="caps"&gt;BOM&lt;/span&gt;&lt;/abbr&gt; al inicio del fichero para indicar el orden de los bytes del fichero, pero que sirve asimismo para saber la codificaci칩n&amp;nbsp;empleada.&lt;/p&gt;
&lt;p&gt;En unicode, el car치cter &lt;abbr title="Marca de orden de bytes"&gt;&lt;span class="caps"&gt;BOM&lt;/span&gt;&lt;/abbr&gt; se representa por &lt;strong&gt;U+&lt;span class="caps"&gt;FEFF&lt;/span&gt;&lt;/strong&gt;. Codificado en los distintos UTFs&amp;nbsp;tenemos:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt; 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="c1"&gt;# UTF-8&lt;/span&gt;
&lt;span class="n"&gt;BOM_UTF8&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="se"&gt;\xef\xbb\xbf&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;

&lt;span class="c1"&gt;# UTF-16, little endian&lt;/span&gt;
&lt;span class="n"&gt;BOM_LE&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;BOM_UTF16_LE&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="se"&gt;\xff\xfe&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;

&lt;span class="c1"&gt;# UTF-16, big endian&lt;/span&gt;
&lt;span class="n"&gt;BOM_BE&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;BOM_UTF16_BE&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="se"&gt;\xfe\xff&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;

&lt;span class="c1"&gt;# UTF-32, little endian&lt;/span&gt;
&lt;span class="n"&gt;BOM_UTF32_LE&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="se"&gt;\xff\xfe\x00\x00&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;

&lt;span class="c1"&gt;# UTF-32, big endian&lt;/span&gt;
&lt;span class="n"&gt;BOM_UTF32_BE&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="se"&gt;\x00\x00\xfe\xff&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;&lt;sub&gt;Extra칤do del fichero &lt;code&gt;codecs.py&lt;/code&gt; de la librer칤a est치ndar de python&lt;/sub&gt;&lt;/p&gt;
&lt;p&gt;Como la marca &lt;abbr title="Marca de orden de bytes"&gt;&lt;span class="caps"&gt;BOM&lt;/span&gt;&lt;/abbr&gt; se codifica de manera diferente seg칰n el sistema de codificaci칩n, podemos deducir qu칠 codificaci칩n esta usando el fichero a partir de los 4 primeros bytes. De esta manera, muchos editores son capaces de emplear la codificaci칩n&amp;nbsp;correcta.&lt;/p&gt;
&lt;p&gt;Por otro lado, puede que sepamos qu칠 codificaci칩n usan nuestros ficheros, pero en cambio nos molesta esos caracteres de m치s al inicio del fichero. En este caso, el m칩dulo &lt;code&gt;codecs&lt;/code&gt; de python nos facilita mucho la tarea. Basta emplear las siguiente codificaciones&amp;nbsp;gen칠ricas:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;'utf-8-sig'&lt;/code&gt; para &lt;span class="caps"&gt;UTF&lt;/span&gt;-8&lt;/li&gt;
&lt;li&gt;&lt;code&gt;'utf-16'&lt;/code&gt; para &lt;span class="caps"&gt;UTF&lt;/span&gt;-&lt;span class="caps"&gt;16LE&lt;/span&gt; y &lt;span class="caps"&gt;UTF&lt;/span&gt;-&lt;span class="caps"&gt;16BE&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;'utf-32'&lt;/code&gt; para &lt;span class="caps"&gt;UTF&lt;/span&gt;-&lt;span class="caps"&gt;32LE&lt;/span&gt; y &lt;span class="caps"&gt;UTF&lt;/span&gt;-&lt;span class="caps"&gt;32BE&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Se introdujo &lt;code&gt;'utf-8-sig&lt;/code&gt;&lt;span class="quo"&gt;&amp;#8216;&lt;/span&gt; para no provocar incompatibilidades con el c칩digo existente que ya usaba &lt;code&gt;'utf-8&lt;/code&gt;&lt;span class="quo"&gt;&amp;#8216;&lt;/span&gt;. Usando estas codificaciones, el m칩dulo &lt;code&gt;'codecs'&lt;/code&gt; es suficientemente inteligente para quitar el &lt;abbr title="Marca de orden de bytes"&gt;&lt;span class="caps"&gt;BOM&lt;/span&gt;&lt;/abbr&gt; al leer el fichero, y para a침adir el &lt;abbr title="Marca de orden de bytes"&gt;&lt;span class="caps"&gt;BOM&lt;/span&gt;&lt;/abbr&gt; al escribir, de modo completamente&amp;nbsp;transparente.&lt;/p&gt;
&lt;p&gt;Por ejemplo, estos d칤as necesitaba pasar un fichero en &lt;code&gt;UTF-16LE&lt;/code&gt; a &lt;code&gt;UTF-8&lt;/code&gt;. Lo consegu칤 con el siguiente&amp;nbsp;script:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3
4
5&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;codecs&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;codecs&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;open&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;fichero-utf16le.txt&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;encoding&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;utf-16&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;o&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;codecs&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;open&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;fichero-utf8.txt&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;wb&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;encoding&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;utf-8-sig&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;o&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;write&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;read&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;o&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;close&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;O, completando &lt;a href="https://blog.ch3m4.org/2011/08/04/iconv-en-python/"&gt;otro articulo&lt;/a&gt;, se podr칤a hacer todo en una s칩la&amp;nbsp;l칤nea:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ python -c &lt;span class="s2"&gt;&amp;quot;import sys,codecs;codecs.EncodedFile(sys.stdout,&amp;#39;utf-16&amp;#39;,&amp;#39;utf-8-sig&amp;#39;).writelines(sys.stdin)&amp;quot;&lt;/span&gt; &amp;lt;fichero_entrada.txt &amp;gt;fichero_salida.txt
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;Hay que tener en cuenta que el comando &lt;code&gt;iconv&lt;/code&gt;, normalmente usado para convertir codificaciones de ficheros, no tiene en consideraci칩n el &lt;abbr title="Marca de orden de bytes"&gt;&lt;span class="caps"&gt;BOM&lt;/span&gt;&lt;/abbr&gt;. Con python tenemos una soluci칩n&amp;nbsp;perfecta.&lt;/p&gt;</content><category term="Python"></category><category term="code"></category><category term="unicode"></category></entry></feed>